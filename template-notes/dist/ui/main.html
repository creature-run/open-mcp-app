<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>main</title>
  <script type="module" crossorigin>var rI=Object.defineProperty;var kk=e=>{throw TypeError(e)};var aI=(e,t,n)=>t in e?rI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ct=(e,t,n)=>aI(e,typeof t!="symbol"?t+"":t,n),xk=(e,t,n)=>t.has(e)||kk("Cannot "+n);var V=(e,t,n)=>(xk(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?kk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ge=(e,t,n,u)=>(xk(e,t,"write to private field"),u?u.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))u(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function y2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b4={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk;function oI(){if(Sk)return $e;Sk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function w(T,J,x){this.props=T,this.context=J,this.refs=S,this.updater=x||E}w.prototype.isReactComponent={},w.prototype.setState=function(T,J){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,J,"setState")},w.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function U(){}U.prototype=w.prototype;function $(T,J,x){this.props=T,this.context=J,this.refs=S,this.updater=x||E}var Q=$.prototype=new U;Q.constructor=$,k(Q,w.prototype),Q.isPureReactComponent=!0;var ue=Array.isArray;function N(){}var P={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function pe(T,J,x){var ce=x.ref;return{$$typeof:e,type:T,key:J,ref:ce!==void 0?ce:null,props:x}}function L(T,J){return pe(T.type,J,T.props)}function fe(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function de(T){var J={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(x){return J[x]})}var Le=/\/+/g;function xe(T,J){return typeof T=="object"&&T!==null&&T.key!=null?de(""+T.key):J.toString(36)}function se(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(N,N):(T.status="pending",T.then(function(J){T.status==="pending"&&(T.status="fulfilled",T.value=J)},function(J){T.status==="pending"&&(T.status="rejected",T.reason=J)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function j(T,J,x,ce,_e){var De=typeof T;(De==="undefined"||De==="boolean")&&(T=null);var Ge=!1;if(T===null)Ge=!0;else switch(De){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(T.$$typeof){case e:case t:Ge=!0;break;case p:return Ge=T._init,j(Ge(T._payload),J,x,ce,_e)}}if(Ge)return _e=_e(T),Ge=ce===""?"."+xe(T,0):ce,ue(_e)?(x="",Ge!=null&&(x=Ge.replace(Le,"$&/")+"/"),j(_e,J,x,"",function(ki){return ki})):_e!=null&&(fe(_e)&&(_e=L(_e,x+(_e.key==null||T&&T.key===_e.key?"":(""+_e.key).replace(Le,"$&/")+"/")+Ge)),J.push(_e)),1;Ge=0;var $t=ce===""?".":ce+":";if(ue(T))for(var ht=0;ht<T.length;ht++)ce=T[ht],De=$t+xe(ce,ht),Ge+=j(ce,J,x,De,_e);else if(ht=b(T),typeof ht=="function")for(T=ht.call(T),ht=0;!(ce=T.next()).done;)ce=ce.value,De=$t+xe(ce,ht++),Ge+=j(ce,J,x,De,_e);else if(De==="object"){if(typeof T.then=="function")return j(se(T),J,x,ce,_e);throw J=String(T),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function te(T,J,x){if(T==null)return T;var ce=[],_e=0;return j(T,ce,"","",function(De){return J.call(x,De,_e++)}),ce}function ye(T){if(T._status===-1){var J=T._result;J=J(),J.then(function(x){(T._status===0||T._status===-1)&&(T._status=1,T._result=x)},function(x){(T._status===0||T._status===-1)&&(T._status=2,T._result=x)}),T._status===-1&&(T._status=0,T._result=J)}if(T._status===1)return T._result.default;throw T._result}var Ze=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},_={map:te,forEach:function(T,J,x){te(T,function(){J.apply(this,arguments)},x)},count:function(T){var J=0;return te(T,function(){J++}),J},toArray:function(T){return te(T,function(J){return J})||[]},only:function(T){if(!fe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return $e.Activity=m,$e.Children=_,$e.Component=w,$e.Fragment=n,$e.Profiler=i,$e.PureComponent=$,$e.StrictMode=u,$e.Suspense=f,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,$e.__COMPILER_RUNTIME={__proto__:null,c:function(T){return P.H.useMemoCache(T)}},$e.cache=function(T){return function(){return T.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(T,J,x){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ce=k({},T.props),_e=T.key;if(J!=null)for(De in J.key!==void 0&&(_e=""+J.key),J)!re.call(J,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&J.ref===void 0||(ce[De]=J[De]);var De=arguments.length-2;if(De===1)ce.children=x;else if(1<De){for(var Ge=Array(De),$t=0;$t<De;$t++)Ge[$t]=arguments[$t+2];ce.children=Ge}return pe(T.type,_e,ce)},$e.createContext=function(T){return T={$$typeof:o,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:r,_context:T},T},$e.createElement=function(T,J,x){var ce,_e={},De=null;if(J!=null)for(ce in J.key!==void 0&&(De=""+J.key),J)re.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=J[ce]);var Ge=arguments.length-2;if(Ge===1)_e.children=x;else if(1<Ge){for(var $t=Array(Ge),ht=0;ht<Ge;ht++)$t[ht]=arguments[ht+2];_e.children=$t}if(T&&T.defaultProps)for(ce in Ge=T.defaultProps,Ge)_e[ce]===void 0&&(_e[ce]=Ge[ce]);return pe(T,De,_e)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(T){return{$$typeof:s,render:T}},$e.isValidElement=fe,$e.lazy=function(T){return{$$typeof:p,_payload:{_status:-1,_result:T},_init:ye}},$e.memo=function(T,J){return{$$typeof:d,type:T,compare:J===void 0?null:J}},$e.startTransition=function(T){var J=P.T,x={};P.T=x;try{var ce=T(),_e=P.S;_e!==null&&_e(x,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(N,Ze)}catch(De){Ze(De)}finally{J!==null&&x.types!==null&&(J.types=x.types),P.T=J}},$e.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},$e.use=function(T){return P.H.use(T)},$e.useActionState=function(T,J,x){return P.H.useActionState(T,J,x)},$e.useCallback=function(T,J){return P.H.useCallback(T,J)},$e.useContext=function(T){return P.H.useContext(T)},$e.useDebugValue=function(){},$e.useDeferredValue=function(T,J){return P.H.useDeferredValue(T,J)},$e.useEffect=function(T,J){return P.H.useEffect(T,J)},$e.useEffectEvent=function(T){return P.H.useEffectEvent(T)},$e.useId=function(){return P.H.useId()},$e.useImperativeHandle=function(T,J,x){return P.H.useImperativeHandle(T,J,x)},$e.useInsertionEffect=function(T,J){return P.H.useInsertionEffect(T,J)},$e.useLayoutEffect=function(T,J){return P.H.useLayoutEffect(T,J)},$e.useMemo=function(T,J){return P.H.useMemo(T,J)},$e.useOptimistic=function(T,J){return P.H.useOptimistic(T,J)},$e.useReducer=function(T,J,x){return P.H.useReducer(T,J,x)},$e.useRef=function(T){return P.H.useRef(T)},$e.useState=function(T){return P.H.useState(T)},$e.useSyncExternalStore=function(T,J,x){return P.H.useSyncExternalStore(T,J,x)},$e.useTransition=function(){return P.H.useTransition()},$e.version="19.2.3",$e}var wk;function Cy(){return wk||(wk=1,b4.exports=oI()),b4.exports}var Ee=Cy();const v2=y2(Ee);var E4={exports:{}},Qs={},C4={exports:{}},D4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k;function lI(){return _k||(_k=1,(function(e){function t(j,te){var ye=j.length;j.push(te);e:for(;0<ye;){var Ze=ye-1>>>1,_=j[Ze];if(0<i(_,te))j[Ze]=te,j[ye]=_,ye=Ze;else break e}}function n(j){return j.length===0?null:j[0]}function u(j){if(j.length===0)return null;var te=j[0],ye=j.pop();if(ye!==te){j[0]=ye;e:for(var Ze=0,_=j.length,T=_>>>1;Ze<T;){var J=2*(Ze+1)-1,x=j[J],ce=J+1,_e=j[ce];if(0>i(x,ye))ce<_&&0>i(_e,x)?(j[Ze]=_e,j[ce]=ye,Ze=ce):(j[Ze]=x,j[J]=ye,Ze=J);else if(ce<_&&0>i(_e,ye))j[Ze]=_e,j[ce]=ye,Ze=ce;else break e}}return te}function i(j,te){var ye=j.sortIndex-te.sortIndex;return ye!==0?ye:j.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var f=[],d=[],p=1,m=null,v=3,b=!1,E=!1,k=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Q(j){for(var te=n(d);te!==null;){if(te.callback===null)u(d);else if(te.startTime<=j)u(d),te.sortIndex=te.expirationTime,t(f,te);else break;te=n(d)}}function ue(j){if(k=!1,Q(j),!E)if(n(f)!==null)E=!0,N||(N=!0,de());else{var te=n(d);te!==null&&se(ue,te.startTime-j)}}var N=!1,P=-1,re=5,pe=-1;function L(){return S?!0:!(e.unstable_now()-pe<re)}function fe(){if(S=!1,N){var j=e.unstable_now();pe=j;var te=!0;try{e:{E=!1,k&&(k=!1,U(P),P=-1),b=!0;var ye=v;try{t:{for(Q(j),m=n(f);m!==null&&!(m.expirationTime>j&&L());){var Ze=m.callback;if(typeof Ze=="function"){m.callback=null,v=m.priorityLevel;var _=Ze(m.expirationTime<=j);if(j=e.unstable_now(),typeof _=="function"){m.callback=_,Q(j),te=!0;break t}m===n(f)&&u(f),Q(j)}else u(f);m=n(f)}if(m!==null)te=!0;else{var T=n(d);T!==null&&se(ue,T.startTime-j),te=!1}}break e}finally{m=null,v=ye,b=!1}te=void 0}}finally{te?de():N=!1}}}var de;if(typeof $=="function")de=function(){$(fe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,xe=Le.port2;Le.port1.onmessage=fe,de=function(){xe.postMessage(null)}}else de=function(){w(fe,0)};function se(j,te){P=w(function(){j(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(j){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ye=v;v=te;try{return j()}finally{v=ye}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(j,te){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ye=v;v=j;try{return te()}finally{v=ye}},e.unstable_scheduleCallback=function(j,te,ye){var Ze=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ze+ye:Ze):ye=Ze,j){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ye+_,j={id:p++,callback:te,priorityLevel:j,startTime:ye,expirationTime:_,sortIndex:-1},ye>Ze?(j.sortIndex=ye,t(d,j),n(f)===null&&j===n(d)&&(k?(U(P),P=-1):k=!0,se(ue,ye-Ze))):(j.sortIndex=_,t(f,j),E||b||(E=!0,N||(N=!0,de()))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var te=v;return function(){var ye=v;v=te;try{return j.apply(this,arguments)}finally{v=ye}}}})(D4)),D4}var Ak;function sI(){return Ak||(Ak=1,C4.exports=lI()),C4.exports}var k4={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk;function cI(){if(Bk)return kn;Bk=1;var e=Cy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var u={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function r(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,kn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(f,d,null,p)},kn.flushSync=function(f){var d=o.T,p=u.p;try{if(o.T=null,u.p=2,f)return f()}finally{o.T=d,u.p=p,u.d.f()}},kn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,u.d.C(f,d))},kn.prefetchDNS=function(f){typeof f=="string"&&u.d.D(f)},kn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=s(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?u.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&u.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=s(d.as,d.crossOrigin);u.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&u.d.M(f)},kn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=s(p,d.crossOrigin);u.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=s(d.as,d.crossOrigin);u.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else u.d.m(f)},kn.requestFormReset=function(f){u.d.r(f)},kn.unstable_batchedUpdates=function(f,d){return f(d)},kn.useFormState=function(f,d,p){return o.H.useFormState(f,d,p)},kn.useFormStatus=function(){return o.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var Tk;function fI(){if(Tk)return k4.exports;Tk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),k4.exports=cI(),k4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function dI(){if(zk)return Qs;zk=1;var e=sI(),t=Cy(),n=fI();function u(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function s(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(r(a)!==a)throw Error(u(188))}function d(a){var l=a.alternate;if(!l){if(l=r(a),l===null)throw Error(u(188));return l!==a?null:a}for(var c=a,h=l;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return f(g),a;if(y===h)return f(g),l;y=y.sibling}throw Error(u(188))}if(c.return!==h.return)c=g,h=y;else{for(var C=!1,D=g.child;D;){if(D===c){C=!0,c=g,h=y;break}if(D===h){C=!0,h=g,c=y;break}D=D.sibling}if(!C){for(D=y.child;D;){if(D===c){C=!0,c=y,h=g;break}if(D===h){C=!0,h=y,c=g;break}D=D.sibling}if(!C)throw Error(u(189))}}if(c.alternate!==h)throw Error(u(190))}if(c.tag!==3)throw Error(u(188));return c.stateNode.current===c?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function de(a){return a===null||typeof a!="object"?null:(a=fe&&a[fe]||a["@@iterator"],typeof a=="function"?a:null)}var Le=Symbol.for("react.client.reference");function xe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Le?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case ue:return"Suspense";case N:return"SuspenseList";case pe:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case $:return a.displayName||"Context";case U:return(a._context.displayName||"Context")+".Consumer";case Q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return l=a.displayName||null,l!==null?l:xe(a.type)||"Memo";case re:l=a._payload,a=a._init;try{return xe(a(l))}catch{}}return null}var se=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ze=[],_=-1;function T(a){return{current:a}}function J(a){0>_||(a.current=Ze[_],Ze[_]=null,_--)}function x(a,l){_++,Ze[_]=a.current,a.current=l}var ce=T(null),_e=T(null),De=T(null),Ge=T(null);function $t(a,l){switch(x(De,l),x(_e,a),x(ce,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?VD(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=VD(l),a=JD(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ce),x(ce,a)}function ht(){J(ce),J(_e),J(De)}function ki(a){a.memoizedState!==null&&x(Ge,a);var l=ce.current,c=JD(l,a.type);l!==c&&(x(_e,a),x(ce,c))}function Du(a){_e.current===a&&(J(ce),J(_e)),Ge.current===a&&(J(Ge),Ks._currentValue=ye)}var us,nd;function ku(a){if(us===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);us=l&&l[1]||"",nd=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+a+nd}var Do=!1;function ko(a,l){if(!a||Do)return"";Do=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Z){var F=Z}Reflect.construct(a,[],W)}else{try{W.call()}catch(Z){F=Z}a.call(W.prototype)}}else{try{throw Error()}catch(Z){F=Z}(W=a())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Z){if(Z&&F&&typeof Z.stack=="string")return[Z.stack,F.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],D=y[1];if(C&&D){var A=C.split(`
`),R=D.split(`
`);for(g=h=0;h<A.length&&!A[h].includes("DetermineComponentFrameRoot");)h++;for(;g<R.length&&!R[g].includes("DetermineComponentFrameRoot");)g++;if(h===A.length||g===R.length)for(h=A.length-1,g=R.length-1;1<=h&&0<=g&&A[h]!==R[g];)g--;for(;1<=h&&0<=g;h--,g--)if(A[h]!==R[g]){if(h!==1||g!==1)do if(h--,g--,0>g||A[h]!==R[g]){var q=`
`+A[h].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=h&&0<=g);break}}}finally{Do=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ku(c):""}function id(a,l){switch(a.tag){case 26:case 27:case 5:return ku(a.type);case 16:return ku("Lazy");case 13:return a.child!==l&&l!==null?ku("Suspense Fallback"):ku("Suspense");case 19:return ku("SuspenseList");case 0:case 15:return ko(a.type,!1);case 11:return ko(a.type.render,!1);case 1:return ko(a.type,!0);case 31:return ku("Activity");default:return""}}function ud(a){try{var l="",c=null;do l+=id(a,c),c=a,a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var xo=Object.prototype.hasOwnProperty,So=e.unstable_scheduleCallback,rs=e.unstable_cancelCallback,um=e.unstable_shouldYield,rm=e.unstable_requestPaint,Tn=e.unstable_now,am=e.unstable_getCurrentPriorityLevel,K=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,He=e.unstable_LowPriority,lt=e.unstable_IdlePriority,ui=e.log,xu=e.unstable_setDisableYieldValue,zn=null,Wt=null;function Rn(a){if(typeof ui=="function"&&xu(a),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(zn,a)}catch{}}var bt=Math.clz32?Math.clz32:q$,hr=Math.log,Yi=Math.LN2;function q$(a){return a>>>=0,a===0?32:31-(hr(a)/Yi|0)|0}var rd=256,ad=262144,od=4194304;function da(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ld(a,l,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,y=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var D=h&134217727;return D!==0?(h=D&~y,h!==0?g=da(h):(C&=D,C!==0?g=da(C):c||(c=D&~a,c!==0&&(g=da(c))))):(D=h&~y,D!==0?g=da(D):C!==0?g=da(C):c||(c=h&~a,c!==0&&(g=da(c)))),g===0?0:l!==0&&l!==g&&(l&y)===0&&(y=g&-g,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:g}function as(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function V$(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _E(){var a=od;return od<<=1,(od&62914560)===0&&(od=4194304),a}function om(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function ls(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function J$(a,l,c,h,g,y){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var D=a.entanglements,A=a.expirationTimes,R=a.hiddenUpdates;for(c=C&~c;0<c;){var q=31-bt(c),W=1<<q;D[q]=0,A[q]=-1;var F=R[q];if(F!==null)for(R[q]=null,q=0;q<F.length;q++){var Z=F[q];Z!==null&&(Z.lane&=-536870913)}c&=~W}h!==0&&AE(a,h,0),y!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=y&~(C&~l))}function AE(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var h=31-bt(l);a.entangledLanes|=l,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function BE(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var h=31-bt(c),g=1<<h;g&l|a[h]&l&&(a[h]|=l),c&=~g}}function TE(a,l){var c=l&-l;return c=(c&42)!==0?1:lm(c),(c&(a.suspendedLanes|l))!==0?0:c}function lm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function zE(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:gk(a.type))}function NE(a,l){var c=te.p;try{return te.p=a,l()}finally{te.p=c}}var pr=Math.random().toString(36).slice(2),ln="__reactFiber$"+pr,Fn="__reactProps$"+pr,wo="__reactContainer$"+pr,cm="__reactEvents$"+pr,K$="__reactListeners$"+pr,G$="__reactHandles$"+pr,$E="__reactResources$"+pr,ss="__reactMarker$"+pr;function fm(a){delete a[ln],delete a[Fn],delete a[cm],delete a[K$],delete a[G$]}function _o(a){var l=a[ln];if(l)return l;for(var c=a.parentNode;c;){if(l=c[wo]||c[ln]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=ek(a);a!==null;){if(c=a[ln])return c;a=ek(a)}return l}a=c,c=a.parentNode}return null}function Ao(a){if(a=a[ln]||a[wo]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function cs(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(u(33))}function Bo(a){var l=a[$E];return l||(l=a[$E]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(a){a[ss]=!0}var OE=new Set,IE={};function ha(a,l){To(a,l),To(a+"Capture",l)}function To(a,l){for(IE[a]=l,a=0;a<l.length;a++)OE.add(l[a])}var Y$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ME={},RE={};function X$(a){return xo.call(RE,a)?!0:xo.call(ME,a)?!1:Y$.test(a)?RE[a]=!0:(ME[a]=!0,!1)}function sd(a,l,c){if(X$(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function cd(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function Su(a,l,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+h)}}function xi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function FE(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Q$(a,l,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return g.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function dm(a){if(!a._valueTracker){var l=FE(a)?"checked":"value";a._valueTracker=Q$(a,l,""+a[l])}}function UE(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),h="";return a&&(h=FE(a)?a.checked?"true":"false":a.value),a=h,a!==c?(l.setValue(a),!0):!1}function fd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var W$=/[\n"\\]/g;function Si(a){return a.replace(W$,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function hm(a,l,c,h,g,y,C,D){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),l!=null?C==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+xi(l)):a.value!==""+xi(l)&&(a.value=""+xi(l)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),l!=null?pm(a,C,xi(l)):c!=null?pm(a,C,xi(c)):h!=null&&a.removeAttribute("value"),g==null&&y!=null&&(a.defaultChecked=!!y),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+xi(D):a.removeAttribute("name")}function jE(a,l,c,h,g,y,C,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){dm(a);return}c=c!=null?""+xi(c):"",l=l!=null?""+xi(l):c,D||l===a.value||(a.value=l),a.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=D?a.checked:!!h,a.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),dm(a)}function pm(a,l,c){l==="number"&&fd(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function zo(a,l,c,h){if(a=a.options,l){l={};for(var g=0;g<c.length;g++)l["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=l.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&h&&(a[c].defaultSelected=!0)}else{for(c=""+xi(c),l=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}l!==null||a[g].disabled||(l=a[g])}l!==null&&(l.selected=!0)}}function LE(a,l,c){if(l!=null&&(l=""+xi(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+xi(c):""}function ZE(a,l,c,h){if(l==null){if(h!=null){if(c!=null)throw Error(u(92));if(se(h)){if(1<h.length)throw Error(u(93));h=h[0]}c=h}c==null&&(c=""),l=c}c=xi(l),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),dm(a)}function No(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var eO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function PE(a,l,c){var h=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":h?a.setProperty(l,c):typeof c!="number"||c===0||eO.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function HE(a,l,c){if(l!=null&&typeof l!="object")throw Error(u(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&c[g]!==h&&PE(a,g,h)}else for(var y in l)l.hasOwnProperty(y)&&PE(a,y,l[y])}function mm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dd(a){return nO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function wu(){}var gm=null;function ym(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var $o=null,Oo=null;function qE(a){var l=Ao(a);if(l&&(a=l.stateNode)){var c=a[Fn]||null;e:switch(a=l.stateNode,l.type){case"input":if(hm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Si(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var h=c[l];if(h!==a&&h.form===a.form){var g=h[Fn]||null;if(!g)throw Error(u(90));hm(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<c.length;l++)h=c[l],h.form===a.form&&UE(h)}break e;case"textarea":LE(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&zo(a,!!c.multiple,l,!1)}}}var vm=!1;function VE(a,l,c){if(vm)return a(l,c);vm=!0;try{var h=a(l);return h}finally{if(vm=!1,($o!==null||Oo!==null)&&(Wd(),$o&&(l=$o,a=Oo,Oo=$o=null,qE(l),a)))for(l=0;l<a.length;l++)qE(a[l])}}function fs(a,l){var c=a.stateNode;if(c===null)return null;var h=c[Fn]||null;if(h===null)return null;c=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(u(231,l,typeof c));return c}var _u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=!1;if(_u)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){bm=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{bm=!1}var mr=null,Em=null,hd=null;function JE(){if(hd)return hd;var a,l=Em,c=l.length,h,g="value"in mr?mr.value:mr.textContent,y=g.length;for(a=0;a<c&&l[a]===g[a];a++);var C=c-a;for(h=1;h<=C&&l[c-h]===g[y-h];h++);return hd=g.slice(a,1<h?1-h:void 0)}function pd(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function md(){return!0}function KE(){return!1}function Un(a){function l(c,h,g,y,C){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(c=a[D],this[D]=c?c(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?md:KE,this.isPropagationStopped=KE,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),l}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=Un(pa),hs=m({},pa,{view:0,detail:0}),iO=Un(hs),Cm,Dm,ps,yd=m({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ps&&(ps&&a.type==="mousemove"?(Cm=a.screenX-ps.screenX,Dm=a.screenY-ps.screenY):Dm=Cm=0,ps=a),Cm)},movementY:function(a){return"movementY"in a?a.movementY:Dm}}),GE=Un(yd),uO=m({},yd,{dataTransfer:0}),rO=Un(uO),aO=m({},hs,{relatedTarget:0}),km=Un(aO),oO=m({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),lO=Un(oO),sO=m({},pa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cO=Un(sO),fO=m({},pa,{data:0}),YE=Un(fO),dO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mO(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=pO[a])?!!l[a]:!1}function xm(){return mO}var gO=m({},hs,{key:function(a){if(a.key){var l=dO[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=pd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?hO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(a){return a.type==="keypress"?pd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?pd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),yO=Un(gO),vO=m({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XE=Un(vO),bO=m({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),EO=Un(bO),CO=m({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),DO=Un(CO),kO=m({},yd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),xO=Un(kO),SO=m({},pa,{newState:0,oldState:0}),wO=Un(SO),_O=[9,13,27,32],Sm=_u&&"CompositionEvent"in window,ms=null;_u&&"documentMode"in document&&(ms=document.documentMode);var AO=_u&&"TextEvent"in window&&!ms,QE=_u&&(!Sm||ms&&8<ms&&11>=ms),WE=" ",e6=!1;function t6(a,l){switch(a){case"keyup":return _O.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n6(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Io=!1;function BO(a,l){switch(a){case"compositionend":return n6(l);case"keypress":return l.which!==32?null:(e6=!0,WE);case"textInput":return a=l.data,a===WE&&e6?null:a;default:return null}}function TO(a,l){if(Io)return a==="compositionend"||!Sm&&t6(a,l)?(a=JE(),hd=Em=mr=null,Io=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return QE&&l.locale!=="ko"?null:l.data;default:return null}}var zO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i6(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!zO[a.type]:l==="textarea"}function u6(a,l,c,h){$o?Oo?Oo.push(h):Oo=[h]:$o=h,l=a0(l,"onChange"),0<l.length&&(c=new gd("onChange","change",null,c,h),a.push({event:c,listeners:l}))}var gs=null,ys=null;function NO(a){jD(a,0)}function vd(a){var l=cs(a);if(UE(l))return a}function r6(a,l){if(a==="change")return l}var a6=!1;if(_u){var wm;if(_u){var _m="oninput"in document;if(!_m){var o6=document.createElement("div");o6.setAttribute("oninput","return;"),_m=typeof o6.oninput=="function"}wm=_m}else wm=!1;a6=wm&&(!document.documentMode||9<document.documentMode)}function l6(){gs&&(gs.detachEvent("onpropertychange",s6),ys=gs=null)}function s6(a){if(a.propertyName==="value"&&vd(ys)){var l=[];u6(l,ys,a,ym(a)),VE(NO,l)}}function $O(a,l,c){a==="focusin"?(l6(),gs=l,ys=c,gs.attachEvent("onpropertychange",s6)):a==="focusout"&&l6()}function OO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vd(ys)}function IO(a,l){if(a==="click")return vd(l)}function MO(a,l){if(a==="input"||a==="change")return vd(l)}function RO(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ri=typeof Object.is=="function"?Object.is:RO;function vs(a,l){if(ri(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),h=Object.keys(l);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!xo.call(l,g)||!ri(a[g],l[g]))return!1}return!0}function c6(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function f6(a,l){var c=c6(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=l&&h>=l)return{node:c,offset:l-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=c6(c)}}function d6(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?d6(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function h6(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=fd(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=fd(a.document)}return l}function Am(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var FO=_u&&"documentMode"in document&&11>=document.documentMode,Mo=null,Bm=null,bs=null,Tm=!1;function p6(a,l,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tm||Mo==null||Mo!==fd(h)||(h=Mo,"selectionStart"in h&&Am(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bs&&vs(bs,h)||(bs=h,h=a0(Bm,"onSelect"),0<h.length&&(l=new gd("onSelect","select",null,l,c),a.push({event:l,listeners:h}),l.target=Mo)))}function ma(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var Ro={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},zm={},m6={};_u&&(m6=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function ga(a){if(zm[a])return zm[a];if(!Ro[a])return a;var l=Ro[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in m6)return zm[a]=l[c];return a}var g6=ga("animationend"),y6=ga("animationiteration"),v6=ga("animationstart"),UO=ga("transitionrun"),jO=ga("transitionstart"),LO=ga("transitioncancel"),b6=ga("transitionend"),E6=new Map,Nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nm.push("scrollEnd");function Xi(a,l){E6.set(a,l),ha(l,[a])}var bd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wi=[],Fo=0,$m=0;function Ed(){for(var a=Fo,l=$m=Fo=0;l<a;){var c=wi[l];wi[l++]=null;var h=wi[l];wi[l++]=null;var g=wi[l];wi[l++]=null;var y=wi[l];if(wi[l++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}y!==0&&C6(c,g,y)}}function Cd(a,l,c,h){wi[Fo++]=a,wi[Fo++]=l,wi[Fo++]=c,wi[Fo++]=h,$m|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Om(a,l,c,h){return Cd(a,l,c,h),Dd(a)}function ya(a,l){return Cd(a,null,null,l),Dd(a)}function C6(a,l,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=a.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(g=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,g&&l!==null&&(g=31-bt(c),a=y.hiddenUpdates,h=a[g],h===null?a[g]=[l]:h.push(l),l.lane=c|536870912),y):null}function Dd(a){if(50<Ls)throw Ls=0,Pg=null,Error(u(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Uo={};function ZO(a,l,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(a,l,c,h){return new ZO(a,l,c,h)}function Im(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Au(a,l){var c=a.alternate;return c===null?(c=ai(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function D6(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function kd(a,l,c,h,g,y){var C=0;if(h=a,typeof a=="function")Im(a)&&(C=1);else if(typeof a=="string")C=J9(a,c,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case pe:return a=ai(31,c,l,g),a.elementType=pe,a.lanes=y,a;case k:return va(c.children,g,y,l);case S:C=8,g|=24;break;case w:return a=ai(12,c,l,g|2),a.elementType=w,a.lanes=y,a;case ue:return a=ai(13,c,l,g),a.elementType=ue,a.lanes=y,a;case N:return a=ai(19,c,l,g),a.elementType=N,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:C=10;break e;case U:C=9;break e;case Q:C=11;break e;case P:C=14;break e;case re:C=16,h=null;break e}C=29,c=Error(u(130,a===null?"null":typeof a,"")),h=null}return l=ai(C,c,l,g),l.elementType=a,l.type=h,l.lanes=y,l}function va(a,l,c,h){return a=ai(7,a,h,l),a.lanes=c,a}function Mm(a,l,c){return a=ai(6,a,null,l),a.lanes=c,a}function k6(a){var l=ai(18,null,null,0);return l.stateNode=a,l}function Rm(a,l,c){return l=ai(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var x6=new WeakMap;function _i(a,l){if(typeof a=="object"&&a!==null){var c=x6.get(a);return c!==void 0?c:(l={value:a,source:l,stack:ud(l)},x6.set(a,l),l)}return{value:a,source:l,stack:ud(l)}}var jo=[],Lo=0,xd=null,Es=0,Ai=[],Bi=0,gr=null,ou=1,lu="";function Bu(a,l){jo[Lo++]=Es,jo[Lo++]=xd,xd=a,Es=l}function S6(a,l,c){Ai[Bi++]=ou,Ai[Bi++]=lu,Ai[Bi++]=gr,gr=a;var h=ou;a=lu;var g=32-bt(h)-1;h&=~(1<<g),c+=1;var y=32-bt(l)+g;if(30<y){var C=g-g%5;y=(h&(1<<C)-1).toString(32),h>>=C,g-=C,ou=1<<32-bt(l)+g|c<<g|h,lu=y+a}else ou=1<<y|c<<g|h,lu=a}function Fm(a){a.return!==null&&(Bu(a,1),S6(a,1,0))}function Um(a){for(;a===xd;)xd=jo[--Lo],jo[Lo]=null,Es=jo[--Lo],jo[Lo]=null;for(;a===gr;)gr=Ai[--Bi],Ai[Bi]=null,lu=Ai[--Bi],Ai[Bi]=null,ou=Ai[--Bi],Ai[Bi]=null}function w6(a,l){Ai[Bi++]=ou,Ai[Bi++]=lu,Ai[Bi++]=gr,ou=l.id,lu=l.overflow,gr=a}var sn=null,wt=null,et=!1,yr=null,Ti=!1,jm=Error(u(519));function vr(a){var l=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cs(_i(l,a)),jm}function _6(a){var l=a.stateNode,c=a.type,h=a.memoizedProps;switch(l[ln]=a,l[Fn]=h,c){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(c=0;c<Ps.length;c++)Ve(Ps[c],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":Ve("invalid",l),jE(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ve("invalid",l);break;case"textarea":Ve("invalid",l),ZE(l,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||h.suppressHydrationWarning===!0||HD(l.textContent,c)?(h.popover!=null&&(Ve("beforetoggle",l),Ve("toggle",l)),h.onScroll!=null&&Ve("scroll",l),h.onScrollEnd!=null&&Ve("scrollend",l),h.onClick!=null&&(l.onclick=wu),l=!0):l=!1,l||vr(a,!0)}function A6(a){for(sn=a.return;sn;)switch(sn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:sn=sn.return}}function Zo(a){if(a!==sn)return!1;if(!et)return A6(a),et=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||u4(a.type,a.memoizedProps)),c=!c),c&&wt&&vr(a),A6(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));wt=WD(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));wt=WD(a)}else l===27?(l=wt,Nr(a.type)?(a=s4,s4=null,wt=a):wt=l):wt=sn?Ni(a.stateNode.nextSibling):null;return!0}function ba(){wt=sn=null,et=!1}function Lm(){var a=yr;return a!==null&&(Pn===null?Pn=a:Pn.push.apply(Pn,a),yr=null),a}function Cs(a){yr===null?yr=[a]:yr.push(a)}var Zm=T(null),Ea=null,Tu=null;function br(a,l,c){x(Zm,l._currentValue),l._currentValue=c}function zu(a){a._currentValue=Zm.current,J(Zm)}function Pm(a,l,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),a===c)break;a=a.return}}function Hm(a,l,c,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=g;for(var A=0;A<l.length;A++)if(D.context===l[A]){y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),Pm(y.return,c,a),h||(C=null);break e}y=D.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(u(341));C.lanes|=c,y=C.alternate,y!==null&&(y.lanes|=c),Pm(C,c,a),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===a){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Po(a,l,c,h){a=null;for(var g=l,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(u(387));if(C=C.memoizedProps,C!==null){var D=g.type;ri(g.pendingProps.value,C.value)||(a!==null?a.push(D):a=[D])}}else if(g===Ge.current){if(C=g.alternate,C===null)throw Error(u(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(Ks):a=[Ks])}g=g.return}a!==null&&Hm(l,a,c,h),l.flags|=262144}function Sd(a){for(a=a.firstContext;a!==null;){if(!ri(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ca(a){Ea=a,Tu=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cn(a){return B6(Ea,a)}function wd(a,l){return Ea===null&&Ca(a),B6(a,l)}function B6(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Tu===null){if(a===null)throw Error(u(308));Tu=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Tu=Tu.next=l;return c}var PO=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},HO=e.unstable_scheduleCallback,qO=e.unstable_NormalPriority,Jt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new PO,data:new Map,refCount:0}}function Ds(a){a.refCount--,a.refCount===0&&HO(qO,function(){a.controller.abort()})}var ks=null,Vm=0,Ho=0,qo=null;function VO(a,l){if(ks===null){var c=ks=[];Vm=0,Ho=Gg(),qo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Vm++,l.then(T6,T6),l}function T6(){if(--Vm===0&&ks!==null){qo!==null&&(qo.status="fulfilled");var a=ks;ks=null,Ho=0,qo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function JO(a,l){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<c.length;g++)(0,c[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var z6=j.S;j.S=function(a,l){pD=Tn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&VO(a,l),z6!==null&&z6(a,l)};var Da=T(null);function Jm(){var a=Da.current;return a!==null?a:Et.pooledCache}function _d(a,l){l===null?x(Da,Da.current):x(Da,l.pool)}function N6(){var a=Jm();return a===null?null:{parent:Jt._currentValue,pool:a}}var Vo=Error(u(460)),Km=Error(u(474)),Ad=Error(u(542)),Bd={then:function(){}};function $6(a){return a=a.status,a==="fulfilled"||a==="rejected"}function O6(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(wu,wu),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,M6(a),a;default:if(typeof l.status=="string")l.then(wu,wu);else{if(a=Et,a!==null&&100<a.shellSuspendCounter)throw Error(u(482));a=l,a.status="pending",a.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,M6(a),a}throw xa=l,Vo}}function ka(a){try{var l=a._init;return l(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(xa=c,Vo):c}}var xa=null;function I6(){if(xa===null)throw Error(u(459));var a=xa;return xa=null,a}function M6(a){if(a===Vo||a===Ad)throw Error(u(483))}var Jo=null,xs=0;function Td(a){var l=xs;return xs+=1,Jo===null&&(Jo=[]),O6(Jo,a,l)}function Ss(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function zd(a,l){throw l.$$typeof===v?Error(u(525)):(a=Object.prototype.toString.call(l),Error(u(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function R6(a){function l(O,z){if(a){var M=O.deletions;M===null?(O.deletions=[z],O.flags|=16):M.push(z)}}function c(O,z){if(!a)return null;for(;z!==null;)l(O,z),z=z.sibling;return null}function h(O){for(var z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function g(O,z){return O=Au(O,z),O.index=0,O.sibling=null,O}function y(O,z,M){return O.index=M,a?(M=O.alternate,M!==null?(M=M.index,M<z?(O.flags|=67108866,z):M):(O.flags|=67108866,z)):(O.flags|=1048576,z)}function C(O){return a&&O.alternate===null&&(O.flags|=67108866),O}function D(O,z,M,Y){return z===null||z.tag!==6?(z=Mm(M,O.mode,Y),z.return=O,z):(z=g(z,M),z.return=O,z)}function A(O,z,M,Y){var ke=M.type;return ke===k?q(O,z,M.props.children,Y,M.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&ka(ke)===z.type)?(z=g(z,M.props),Ss(z,M),z.return=O,z):(z=kd(M.type,M.key,M.props,null,O.mode,Y),Ss(z,M),z.return=O,z)}function R(O,z,M,Y){return z===null||z.tag!==4||z.stateNode.containerInfo!==M.containerInfo||z.stateNode.implementation!==M.implementation?(z=Rm(M,O.mode,Y),z.return=O,z):(z=g(z,M.children||[]),z.return=O,z)}function q(O,z,M,Y,ke){return z===null||z.tag!==7?(z=va(M,O.mode,Y,ke),z.return=O,z):(z=g(z,M),z.return=O,z)}function W(O,z,M){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Mm(""+z,O.mode,M),z.return=O,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return M=kd(z.type,z.key,z.props,null,O.mode,M),Ss(M,z),M.return=O,M;case E:return z=Rm(z,O.mode,M),z.return=O,z;case re:return z=ka(z),W(O,z,M)}if(se(z)||de(z))return z=va(z,O.mode,M,null),z.return=O,z;if(typeof z.then=="function")return W(O,Td(z),M);if(z.$$typeof===$)return W(O,wd(O,z),M);zd(O,z)}return null}function F(O,z,M,Y){var ke=z!==null?z.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return ke!==null?null:D(O,z,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return M.key===ke?A(O,z,M,Y):null;case E:return M.key===ke?R(O,z,M,Y):null;case re:return M=ka(M),F(O,z,M,Y)}if(se(M)||de(M))return ke!==null?null:q(O,z,M,Y,null);if(typeof M.then=="function")return F(O,z,Td(M),Y);if(M.$$typeof===$)return F(O,z,wd(O,M),Y);zd(O,M)}return null}function Z(O,z,M,Y,ke){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(M)||null,D(z,O,""+Y,ke);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return O=O.get(Y.key===null?M:Y.key)||null,A(z,O,Y,ke);case E:return O=O.get(Y.key===null?M:Y.key)||null,R(z,O,Y,ke);case re:return Y=ka(Y),Z(O,z,M,Y,ke)}if(se(Y)||de(Y))return O=O.get(M)||null,q(z,O,Y,ke,null);if(typeof Y.then=="function")return Z(O,z,M,Td(Y),ke);if(Y.$$typeof===$)return Z(O,z,M,wd(z,Y),ke);zd(z,Y)}return null}function me(O,z,M,Y){for(var ke=null,ut=null,ve=z,Ue=z=0,Xe=null;ve!==null&&Ue<M.length;Ue++){ve.index>Ue?(Xe=ve,ve=null):Xe=ve.sibling;var rt=F(O,ve,M[Ue],Y);if(rt===null){ve===null&&(ve=Xe);break}a&&ve&&rt.alternate===null&&l(O,ve),z=y(rt,z,Ue),ut===null?ke=rt:ut.sibling=rt,ut=rt,ve=Xe}if(Ue===M.length)return c(O,ve),et&&Bu(O,Ue),ke;if(ve===null){for(;Ue<M.length;Ue++)ve=W(O,M[Ue],Y),ve!==null&&(z=y(ve,z,Ue),ut===null?ke=ve:ut.sibling=ve,ut=ve);return et&&Bu(O,Ue),ke}for(ve=h(ve);Ue<M.length;Ue++)Xe=Z(ve,O,Ue,M[Ue],Y),Xe!==null&&(a&&Xe.alternate!==null&&ve.delete(Xe.key===null?Ue:Xe.key),z=y(Xe,z,Ue),ut===null?ke=Xe:ut.sibling=Xe,ut=Xe);return a&&ve.forEach(function(Rr){return l(O,Rr)}),et&&Bu(O,Ue),ke}function we(O,z,M,Y){if(M==null)throw Error(u(151));for(var ke=null,ut=null,ve=z,Ue=z=0,Xe=null,rt=M.next();ve!==null&&!rt.done;Ue++,rt=M.next()){ve.index>Ue?(Xe=ve,ve=null):Xe=ve.sibling;var Rr=F(O,ve,rt.value,Y);if(Rr===null){ve===null&&(ve=Xe);break}a&&ve&&Rr.alternate===null&&l(O,ve),z=y(Rr,z,Ue),ut===null?ke=Rr:ut.sibling=Rr,ut=Rr,ve=Xe}if(rt.done)return c(O,ve),et&&Bu(O,Ue),ke;if(ve===null){for(;!rt.done;Ue++,rt=M.next())rt=W(O,rt.value,Y),rt!==null&&(z=y(rt,z,Ue),ut===null?ke=rt:ut.sibling=rt,ut=rt);return et&&Bu(O,Ue),ke}for(ve=h(ve);!rt.done;Ue++,rt=M.next())rt=Z(ve,O,Ue,rt.value,Y),rt!==null&&(a&&rt.alternate!==null&&ve.delete(rt.key===null?Ue:rt.key),z=y(rt,z,Ue),ut===null?ke=rt:ut.sibling=rt,ut=rt);return a&&ve.forEach(function(uI){return l(O,uI)}),et&&Bu(O,Ue),ke}function gt(O,z,M,Y){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case b:e:{for(var ke=M.key;z!==null;){if(z.key===ke){if(ke=M.type,ke===k){if(z.tag===7){c(O,z.sibling),Y=g(z,M.props.children),Y.return=O,O=Y;break e}}else if(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&ka(ke)===z.type){c(O,z.sibling),Y=g(z,M.props),Ss(Y,M),Y.return=O,O=Y;break e}c(O,z);break}else l(O,z);z=z.sibling}M.type===k?(Y=va(M.props.children,O.mode,Y,M.key),Y.return=O,O=Y):(Y=kd(M.type,M.key,M.props,null,O.mode,Y),Ss(Y,M),Y.return=O,O=Y)}return C(O);case E:e:{for(ke=M.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===M.containerInfo&&z.stateNode.implementation===M.implementation){c(O,z.sibling),Y=g(z,M.children||[]),Y.return=O,O=Y;break e}else{c(O,z);break}else l(O,z);z=z.sibling}Y=Rm(M,O.mode,Y),Y.return=O,O=Y}return C(O);case re:return M=ka(M),gt(O,z,M,Y)}if(se(M))return me(O,z,M,Y);if(de(M)){if(ke=de(M),typeof ke!="function")throw Error(u(150));return M=ke.call(M),we(O,z,M,Y)}if(typeof M.then=="function")return gt(O,z,Td(M),Y);if(M.$$typeof===$)return gt(O,z,wd(O,M),Y);zd(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,z!==null&&z.tag===6?(c(O,z.sibling),Y=g(z,M),Y.return=O,O=Y):(c(O,z),Y=Mm(M,O.mode,Y),Y.return=O,O=Y),C(O)):c(O,z)}return function(O,z,M,Y){try{xs=0;var ke=gt(O,z,M,Y);return Jo=null,ke}catch(ve){if(ve===Vo||ve===Ad)throw ve;var ut=ai(29,ve,null,O.mode);return ut.lanes=Y,ut.return=O,ut}finally{}}}var Sa=R6(!0),F6=R6(!1),Er=!1;function Gm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ym(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Cr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Dr(a,l,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=Dd(a),C6(a,null,c),l}return Cd(a,h,l,c),Dd(a)}function ws(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var h=l.lanes;h&=a.pendingLanes,c|=h,l.lanes=c,BE(a,c)}}function Xm(a,l){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,c=c.next}while(c!==null);y===null?g=y=l:y=y.next=l}else g=y=l;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var Qm=!1;function _s(){if(Qm){var a=qo;if(a!==null)throw a}}function As(a,l,c,h){Qm=!1;var g=a.updateQueue;Er=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var A=D,R=A.next;A.next=null,C===null?y=R:C.next=R,C=A;var q=a.alternate;q!==null&&(q=q.updateQueue,D=q.lastBaseUpdate,D!==C&&(D===null?q.firstBaseUpdate=R:D.next=R,q.lastBaseUpdate=A))}if(y!==null){var W=g.baseState;C=0,q=R=A=null,D=y;do{var F=D.lane&-536870913,Z=F!==D.lane;if(Z?(Ye&F)===F:(h&F)===F){F!==0&&F===Ho&&(Qm=!0),q!==null&&(q=q.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var me=a,we=D;F=l;var gt=c;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){W=me.call(gt,W,F);break e}W=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,F=typeof me=="function"?me.call(gt,W,F):me,F==null)break e;W=m({},W,F);break e;case 2:Er=!0}}F=D.callback,F!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[F]:Z.push(F))}else Z={lane:F,tag:D.tag,payload:D.payload,callback:D.callback,next:null},q===null?(R=q=Z,A=W):q=q.next=Z,C|=F;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;Z=D,D=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);q===null&&(A=W),g.baseState=A,g.firstBaseUpdate=R,g.lastBaseUpdate=q,y===null&&(g.shared.lanes=0),_r|=C,a.lanes=C,a.memoizedState=W}}function U6(a,l){if(typeof a!="function")throw Error(u(191,a));a.call(l)}function j6(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)U6(c[a],l)}var Ko=T(null),Nd=T(0);function L6(a,l){a=ju,x(Nd,a),x(Ko,l),ju=a|l.baseLanes}function Wm(){x(Nd,ju),x(Ko,Ko.current)}function eg(){ju=Nd.current,J(Ko),J(Nd)}var oi=T(null),zi=null;function kr(a){var l=a.alternate;x(qt,qt.current&1),x(oi,a),zi===null&&(l===null||Ko.current!==null||l.memoizedState!==null)&&(zi=a)}function tg(a){x(qt,qt.current),x(oi,a),zi===null&&(zi=a)}function Z6(a){a.tag===22?(x(qt,qt.current),x(oi,a),zi===null&&(zi=a)):xr()}function xr(){x(qt,qt.current),x(oi,oi.current)}function li(a){J(oi),zi===a&&(zi=null),J(qt)}var qt=T(0);function $d(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||o4(c)||l4(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Nu=0,Me=null,pt=null,Kt=null,Od=!1,Go=!1,wa=!1,Id=0,Bs=0,Yo=null,KO=0;function Zt(){throw Error(u(321))}function ng(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!ri(a[c],l[c]))return!1;return!0}function ig(a,l,c,h,g,y){return Nu=y,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,j.H=a===null||a.memoizedState===null?SC:vg,wa=!1,y=c(h,g),wa=!1,Go&&(y=H6(l,c,h,g)),P6(a),y}function P6(a){j.H=Ns;var l=pt!==null&&pt.next!==null;if(Nu=0,Kt=pt=Me=null,Od=!1,Bs=0,Yo=null,l)throw Error(u(300));a===null||Gt||(a=a.dependencies,a!==null&&Sd(a)&&(Gt=!0))}function H6(a,l,c,h){Me=a;var g=0;do{if(Go&&(Yo=null),Bs=0,Go=!1,25<=g)throw Error(u(301));if(g+=1,Kt=pt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=wC,y=l(c,h)}while(Go);return y}function GO(){var a=j.H,l=a.useState()[0];return l=typeof l.then=="function"?Ts(l):l,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(Me.flags|=1024),l}function ug(){var a=Id!==0;return Id=0,a}function rg(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function ag(a){if(Od){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Od=!1}Nu=0,Kt=pt=Me=null,Go=!1,Bs=Id=0,Yo=null}function Nn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Me.memoizedState=Kt=a:Kt=Kt.next=a,Kt}function Vt(){if(pt===null){var a=Me.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var l=Kt===null?Me.memoizedState:Kt.next;if(l!==null)Kt=l,pt=a;else{if(a===null)throw Me.alternate===null?Error(u(467)):Error(u(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Kt===null?Me.memoizedState=Kt=a:Kt=Kt.next=a}return Kt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(a){var l=Bs;return Bs+=1,Yo===null&&(Yo=[]),a=O6(Yo,a,l),l=Me,(Kt===null?l.memoizedState:Kt.next)===null&&(l=l.alternate,j.H=l===null||l.memoizedState===null?SC:vg),a}function Rd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ts(a);if(a.$$typeof===$)return cn(a)}throw Error(u(438,String(a)))}function og(a){var l=null,c=Me.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var h=Me.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=Md(),Me.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),h=0;h<a;h++)c[h]=L;return l.index++,c}function $u(a,l){return typeof l=="function"?l(a):l}function Fd(a){var l=Vt();return lg(l,pt,a)}function lg(a,l,c){var h=a.queue;if(h===null)throw Error(u(311));h.lastRenderedReducer=c;var g=a.baseQueue,y=h.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}l.baseQueue=g=y,h.pending=null}if(y=a.baseState,g===null)a.memoizedState=y;else{l=g.next;var D=C=null,A=null,R=l,q=!1;do{var W=R.lane&-536870913;if(W!==R.lane?(Ye&W)===W:(Nu&W)===W){var F=R.revertLane;if(F===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),W===Ho&&(q=!0);else if((Nu&F)===F){R=R.next,F===Ho&&(q=!0);continue}else W={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},A===null?(D=A=W,C=y):A=A.next=W,Me.lanes|=F,_r|=F;W=R.action,wa&&c(y,W),y=R.hasEagerState?R.eagerState:c(y,W)}else F={lane:W,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},A===null?(D=A=F,C=y):A=A.next=F,Me.lanes|=W,_r|=W;R=R.next}while(R!==null&&R!==l);if(A===null?C=y:A.next=D,!ri(y,a.memoizedState)&&(Gt=!0,q&&(c=qo,c!==null)))throw c;a.memoizedState=y,a.baseState=C,a.baseQueue=A,h.lastRenderedState=y}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function sg(a){var l=Vt(),c=l.queue;if(c===null)throw Error(u(311));c.lastRenderedReducer=a;var h=c.dispatch,g=c.pending,y=l.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do y=a(y,C.action),C=C.next;while(C!==g);ri(y,l.memoizedState)||(Gt=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,h]}function q6(a,l,c){var h=Me,g=Vt(),y=et;if(y){if(c===void 0)throw Error(u(407));c=c()}else c=l();var C=!ri((pt||g).memoizedState,c);if(C&&(g.memoizedState=c,Gt=!0),g=g.queue,dg(K6.bind(null,h,g,a),[a]),g.getSnapshot!==l||C||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Xo(9,{destroy:void 0},J6.bind(null,h,g,c,l),null),Et===null)throw Error(u(349));y||(Nu&127)!==0||V6(h,l,c)}return c}function V6(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=Me.updateQueue,l===null?(l=Md(),Me.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function J6(a,l,c,h){l.value=c,l.getSnapshot=h,G6(l)&&Y6(a)}function K6(a,l,c){return c(function(){G6(l)&&Y6(a)})}function G6(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!ri(a,c)}catch{return!0}}function Y6(a){var l=ya(a,2);l!==null&&Hn(l,a,2)}function cg(a){var l=Nn();if(typeof a=="function"){var c=a;if(a=c(),wa){Rn(!0);try{c()}finally{Rn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:a},l}function X6(a,l,c,h){return a.baseState=c,lg(a,pt,typeof h=="function"?h:$u)}function YO(a,l,c,h,g){if(Ld(a))throw Error(u(485));if(a=l.action,a!==null){var y={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};j.T!==null?c(!0):y.isTransition=!1,h(y),c=l.pending,c===null?(y.next=l.pending=y,Q6(l,y)):(y.next=c.next,l.pending=c.next=y)}}function Q6(a,l){var c=l.action,h=l.payload,g=a.state;if(l.isTransition){var y=j.T,C={};j.T=C;try{var D=c(g,h),A=j.S;A!==null&&A(C,D),W6(a,l,D)}catch(R){fg(a,l,R)}finally{y!==null&&C.types!==null&&(y.types=C.types),j.T=y}}else try{y=c(g,h),W6(a,l,y)}catch(R){fg(a,l,R)}}function W6(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){eC(a,l,h)},function(h){return fg(a,l,h)}):eC(a,l,c)}function eC(a,l,c){l.status="fulfilled",l.value=c,tC(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,Q6(a,c)))}function fg(a,l,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=c,tC(l),l=l.next;while(l!==h)}a.action=null}function tC(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function nC(a,l){return l}function iC(a,l){if(et){var c=Et.formState;if(c!==null){e:{var h=Me;if(et){if(wt){t:{for(var g=wt,y=Ti;g.nodeType!==8;){if(!y){g=null;break t}if(g=Ni(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){wt=Ni(g.nextSibling),h=g.data==="F!";break e}}vr(h)}h=!1}h&&(l=c[0])}}return c=Nn(),c.memoizedState=c.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nC,lastRenderedState:l},c.queue=h,c=DC.bind(null,Me,h),h.dispatch=c,h=cg(!1),y=yg.bind(null,Me,!1,h.queue),h=Nn(),g={state:l,dispatch:null,action:a,pending:null},h.queue=g,c=YO.bind(null,Me,g,y,c),g.dispatch=c,h.memoizedState=a,[l,c,!1]}function uC(a){var l=Vt();return rC(l,pt,a)}function rC(a,l,c){if(l=lg(a,l,nC)[0],a=Fd($u)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Ts(l)}catch(C){throw C===Vo?Ad:C}else h=l;l=Vt();var g=l.queue,y=g.dispatch;return c!==l.memoizedState&&(Me.flags|=2048,Xo(9,{destroy:void 0},XO.bind(null,g,c),null)),[h,y,a]}function XO(a,l){a.action=l}function aC(a){var l=Vt(),c=pt;if(c!==null)return rC(l,c,a);Vt(),l=l.memoizedState,c=Vt();var h=c.queue.dispatch;return c.memoizedState=a,[l,h,!1]}function Xo(a,l,c,h){return a={tag:a,create:c,deps:h,inst:l,next:null},l=Me.updateQueue,l===null&&(l=Md(),Me.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,l.lastEffect=a),a}function oC(){return Vt().memoizedState}function Ud(a,l,c,h){var g=Nn();Me.flags|=a,g.memoizedState=Xo(1|l,{destroy:void 0},c,h===void 0?null:h)}function jd(a,l,c,h){var g=Vt();h=h===void 0?null:h;var y=g.memoizedState.inst;pt!==null&&h!==null&&ng(h,pt.memoizedState.deps)?g.memoizedState=Xo(l,y,c,h):(Me.flags|=a,g.memoizedState=Xo(1|l,y,c,h))}function lC(a,l){Ud(8390656,8,a,l)}function dg(a,l){jd(2048,8,a,l)}function QO(a){Me.flags|=4;var l=Me.updateQueue;if(l===null)l=Md(),Me.updateQueue=l,l.events=[a];else{var c=l.events;c===null?l.events=[a]:c.push(a)}}function sC(a){var l=Vt().memoizedState;return QO({ref:l,nextImpl:a}),function(){if((at&2)!==0)throw Error(u(440));return l.impl.apply(void 0,arguments)}}function cC(a,l){return jd(4,2,a,l)}function fC(a,l){return jd(4,4,a,l)}function dC(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function hC(a,l,c){c=c!=null?c.concat([a]):null,jd(4,4,dC.bind(null,l,a),c)}function hg(){}function pC(a,l){var c=Vt();l=l===void 0?null:l;var h=c.memoizedState;return l!==null&&ng(l,h[1])?h[0]:(c.memoizedState=[a,l],a)}function mC(a,l){var c=Vt();l=l===void 0?null:l;var h=c.memoizedState;if(l!==null&&ng(l,h[1]))return h[0];if(h=a(),wa){Rn(!0);try{a()}finally{Rn(!1)}}return c.memoizedState=[h,l],h}function pg(a,l,c){return c===void 0||(Nu&1073741824)!==0&&(Ye&261930)===0?a.memoizedState=l:(a.memoizedState=c,a=gD(),Me.lanes|=a,_r|=a,c)}function gC(a,l,c,h){return ri(c,l)?c:Ko.current!==null?(a=pg(a,c,h),ri(a,l)||(Gt=!0),a):(Nu&42)===0||(Nu&1073741824)!==0&&(Ye&261930)===0?(Gt=!0,a.memoizedState=c):(a=gD(),Me.lanes|=a,_r|=a,l)}function yC(a,l,c,h,g){var y=te.p;te.p=y!==0&&8>y?y:8;var C=j.T,D={};j.T=D,yg(a,!1,l,c);try{var A=g(),R=j.S;if(R!==null&&R(D,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=JO(A,h);zs(a,l,q,fi(a))}else zs(a,l,h,fi(a))}catch(W){zs(a,l,{then:function(){},status:"rejected",reason:W},fi())}finally{te.p=y,C!==null&&D.types!==null&&(C.types=D.types),j.T=C}}function WO(){}function mg(a,l,c,h){if(a.tag!==5)throw Error(u(476));var g=vC(a).queue;yC(a,g,l,ye,c===null?WO:function(){return bC(a),c(h)})}function vC(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:ye},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function bC(a){var l=vC(a);l.next===null&&(l=a.alternate.memoizedState),zs(a,l.next.queue,{},fi())}function gg(){return cn(Ks)}function EC(){return Vt().memoizedState}function CC(){return Vt().memoizedState}function e9(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=fi();a=Cr(c);var h=Dr(l,a,c);h!==null&&(Hn(h,l,c),ws(h,l,c)),l={cache:qm()},a.payload=l;return}l=l.return}}function t9(a,l,c){var h=fi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ld(a)?kC(l,c):(c=Om(a,l,c,h),c!==null&&(Hn(c,a,h),xC(c,l,h)))}function DC(a,l,c){var h=fi();zs(a,l,c,h)}function zs(a,l,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Ld(a))kC(l,g);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var C=l.lastRenderedState,D=y(C,c);if(g.hasEagerState=!0,g.eagerState=D,ri(D,C))return Cd(a,l,g,0),Et===null&&Ed(),!1}catch{}finally{}if(c=Om(a,l,g,h),c!==null)return Hn(c,a,h),xC(c,l,h),!0}return!1}function yg(a,l,c,h){if(h={lane:2,revertLane:Gg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ld(a)){if(l)throw Error(u(479))}else l=Om(a,c,h,2),l!==null&&Hn(l,a,2)}function Ld(a){var l=a.alternate;return a===Me||l!==null&&l===Me}function kC(a,l){Go=Od=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function xC(a,l,c){if((c&4194048)!==0){var h=l.lanes;h&=a.pendingLanes,c|=h,l.lanes=c,BE(a,c)}}var Ns={readContext:cn,use:Rd,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};Ns.useEffectEvent=Zt;var SC={readContext:cn,use:Rd,useCallback:function(a,l){return Nn().memoizedState=[a,l===void 0?null:l],a},useContext:cn,useEffect:lC,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,Ud(4194308,4,dC.bind(null,l,a),c)},useLayoutEffect:function(a,l){return Ud(4194308,4,a,l)},useInsertionEffect:function(a,l){Ud(4,2,a,l)},useMemo:function(a,l){var c=Nn();l=l===void 0?null:l;var h=a();if(wa){Rn(!0);try{a()}finally{Rn(!1)}}return c.memoizedState=[h,l],h},useReducer:function(a,l,c){var h=Nn();if(c!==void 0){var g=c(l);if(wa){Rn(!0);try{c(l)}finally{Rn(!1)}}}else g=l;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=t9.bind(null,Me,a),[h.memoizedState,a]},useRef:function(a){var l=Nn();return a={current:a},l.memoizedState=a},useState:function(a){a=cg(a);var l=a.queue,c=DC.bind(null,Me,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:hg,useDeferredValue:function(a,l){var c=Nn();return pg(c,a,l)},useTransition:function(){var a=cg(!1);return a=yC.bind(null,Me,a.queue,!0,!1),Nn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var h=Me,g=Nn();if(et){if(c===void 0)throw Error(u(407));c=c()}else{if(c=l(),Et===null)throw Error(u(349));(Ye&127)!==0||V6(h,l,c)}g.memoizedState=c;var y={value:c,getSnapshot:l};return g.queue=y,lC(K6.bind(null,h,y,a),[a]),h.flags|=2048,Xo(9,{destroy:void 0},J6.bind(null,h,y,c,l),null),c},useId:function(){var a=Nn(),l=Et.identifierPrefix;if(et){var c=lu,h=ou;c=(h&~(1<<32-bt(h)-1)).toString(32)+c,l="_"+l+"R_"+c,c=Id++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=KO++,l="_"+l+"r_"+c.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:gg,useFormState:iC,useActionState:iC,useOptimistic:function(a){var l=Nn();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=yg.bind(null,Me,!0,c),c.dispatch=l,[a,l]},useMemoCache:og,useCacheRefresh:function(){return Nn().memoizedState=e9.bind(null,Me)},useEffectEvent:function(a){var l=Nn(),c={impl:a};return l.memoizedState=c,function(){if((at&2)!==0)throw Error(u(440));return c.impl.apply(void 0,arguments)}}},vg={readContext:cn,use:Rd,useCallback:pC,useContext:cn,useEffect:dg,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:fC,useMemo:mC,useReducer:Fd,useRef:oC,useState:function(){return Fd($u)},useDebugValue:hg,useDeferredValue:function(a,l){var c=Vt();return gC(c,pt.memoizedState,a,l)},useTransition:function(){var a=Fd($u)[0],l=Vt().memoizedState;return[typeof a=="boolean"?a:Ts(a),l]},useSyncExternalStore:q6,useId:EC,useHostTransitionStatus:gg,useFormState:uC,useActionState:uC,useOptimistic:function(a,l){var c=Vt();return X6(c,pt,a,l)},useMemoCache:og,useCacheRefresh:CC};vg.useEffectEvent=sC;var wC={readContext:cn,use:Rd,useCallback:pC,useContext:cn,useEffect:dg,useImperativeHandle:hC,useInsertionEffect:cC,useLayoutEffect:fC,useMemo:mC,useReducer:sg,useRef:oC,useState:function(){return sg($u)},useDebugValue:hg,useDeferredValue:function(a,l){var c=Vt();return pt===null?pg(c,a,l):gC(c,pt.memoizedState,a,l)},useTransition:function(){var a=sg($u)[0],l=Vt().memoizedState;return[typeof a=="boolean"?a:Ts(a),l]},useSyncExternalStore:q6,useId:EC,useHostTransitionStatus:gg,useFormState:aC,useActionState:aC,useOptimistic:function(a,l){var c=Vt();return pt!==null?X6(c,pt,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:og,useCacheRefresh:CC};wC.useEffectEvent=sC;function bg(a,l,c,h){l=a.memoizedState,c=c(h,l),c=c==null?l:m({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Eg={enqueueSetState:function(a,l,c){a=a._reactInternals;var h=fi(),g=Cr(h);g.payload=l,c!=null&&(g.callback=c),l=Dr(a,g,h),l!==null&&(Hn(l,a,h),ws(l,a,h))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var h=fi(),g=Cr(h);g.tag=1,g.payload=l,c!=null&&(g.callback=c),l=Dr(a,g,h),l!==null&&(Hn(l,a,h),ws(l,a,h))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=fi(),h=Cr(c);h.tag=2,l!=null&&(h.callback=l),l=Dr(a,h,c),l!==null&&(Hn(l,a,c),ws(l,a,c))}};function _C(a,l,c,h,g,y,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,y,C):l.prototype&&l.prototype.isPureReactComponent?!vs(c,h)||!vs(g,y):!0}function AC(a,l,c,h){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,h),l.state!==a&&Eg.enqueueReplaceState(l,l.state,null)}function _a(a,l){var c=l;if("ref"in l){c={};for(var h in l)h!=="ref"&&(c[h]=l[h])}if(a=a.defaultProps){c===l&&(c=m({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}function BC(a){bd(a)}function TC(a){console.error(a)}function zC(a){bd(a)}function Zd(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function NC(a,l,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Cg(a,l,c){return c=Cr(c),c.tag=3,c.payload={element:null},c.callback=function(){Zd(a,l)},c}function $C(a){return a=Cr(a),a.tag=3,a}function OC(a,l,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;a.payload=function(){return g(y)},a.callback=function(){NC(l,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){NC(l,c,h),typeof g!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function n9(a,l,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=c.alternate,l!==null&&Po(l,c,g,!0),c=oi.current,c!==null){switch(c.tag){case 31:case 13:return zi===null?e0():c.alternate===null&&Pt===0&&(Pt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Bd?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([h]):l.add(h),Vg(a,h,g)),!1;case 22:return c.flags|=65536,h===Bd?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([h]):c.add(h)),Vg(a,h,g)),!1}throw Error(u(435,c.tag))}return Vg(a,h,g),e0(),!1}if(et)return l=oi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==jm&&(a=Error(u(422),{cause:h}),Cs(_i(a,c)))):(h!==jm&&(l=Error(u(423),{cause:h}),Cs(_i(l,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=_i(h,c),g=Cg(a.stateNode,h,g),Xm(a,g),Pt!==4&&(Pt=2)),!1;var y=Error(u(520),{cause:h});if(y=_i(y,c),js===null?js=[y]:js.push(y),Pt!==4&&(Pt=2),l===null)return!0;h=_i(h,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=Cg(c.stateNode,h,a),Xm(c,a),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ar===null||!Ar.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=$C(g),OC(g,a,c,h),Xm(c,g),!1}c=c.return}while(c!==null);return!1}var Dg=Error(u(461)),Gt=!1;function fn(a,l,c,h){l.child=a===null?F6(l,null,c,h):Sa(l,a.child,c,h)}function IC(a,l,c,h,g){c=c.render;var y=l.ref;if("ref"in h){var C={};for(var D in h)D!=="ref"&&(C[D]=h[D])}else C=h;return Ca(l),h=ig(a,l,c,C,y,g),D=ug(),a!==null&&!Gt?(rg(a,l,g),Ou(a,l,g)):(et&&D&&Fm(l),l.flags|=1,fn(a,l,h,g),l.child)}function MC(a,l,c,h,g){if(a===null){var y=c.type;return typeof y=="function"&&!Im(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,RC(a,l,y,h,g)):(a=kd(c.type,null,h,l,l.mode,g),a.ref=l.ref,a.return=l,l.child=a)}if(y=a.child,!Tg(a,g)){var C=y.memoizedProps;if(c=c.compare,c=c!==null?c:vs,c(C,h)&&a.ref===l.ref)return Ou(a,l,g)}return l.flags|=1,a=Au(y,h),a.ref=l.ref,a.return=l,l.child=a}function RC(a,l,c,h,g){if(a!==null){var y=a.memoizedProps;if(vs(y,h)&&a.ref===l.ref)if(Gt=!1,l.pendingProps=h=y,Tg(a,g))(a.flags&131072)!==0&&(Gt=!0);else return l.lanes=a.lanes,Ou(a,l,g)}return kg(a,l,c,h,g)}function FC(a,l,c,h){var g=h.children,y=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,a!==null){for(h=l.child=a.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,l.child=null;return UC(a,l,y,c,h)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&_d(l,y!==null?y.cachePool:null),y!==null?L6(l,y):Wm(),Z6(l);else return h=l.lanes=536870912,UC(a,l,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(_d(l,y.cachePool),L6(l,y),xr(),l.memoizedState=null):(a!==null&&_d(l,null),Wm(),xr());return fn(a,l,g,c),l.child}function $s(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function UC(a,l,c,h,g){var y=Jm();return y=y===null?null:{parent:Jt._currentValue,pool:y},l.memoizedState={baseLanes:c,cachePool:y},a!==null&&_d(l,null),Wm(),Z6(l),a!==null&&Po(a,l,h,!0),l.childLanes=g,null}function Pd(a,l){return l=qd({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function jC(a,l,c){return Sa(l,a.child,null,c),a=Pd(l,l.pendingProps),a.flags|=2,li(l),l.memoizedState=null,a}function i9(a,l,c){var h=l.pendingProps,g=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(et){if(h.mode==="hidden")return a=Pd(l,h),l.lanes=536870912,$s(null,a);if(tg(l),(a=wt)?(a=QD(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:gr!==null?{id:ou,overflow:lu}:null,retryLane:536870912,hydrationErrors:null},c=k6(a),c.return=l,l.child=c,sn=l,wt=null)):a=null,a===null)throw vr(l);return l.lanes=536870912,null}return Pd(l,h)}var y=a.memoizedState;if(y!==null){var C=y.dehydrated;if(tg(l),g)if(l.flags&256)l.flags&=-257,l=jC(a,l,c);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(u(558));else if(Gt||Po(a,l,c,!1),g=(c&a.childLanes)!==0,Gt||g){if(h=Et,h!==null&&(C=TE(h,c),C!==0&&C!==y.retryLane))throw y.retryLane=C,ya(a,C),Hn(h,a,C),Dg;e0(),l=jC(a,l,c)}else a=y.treeContext,wt=Ni(C.nextSibling),sn=l,et=!0,yr=null,Ti=!1,a!==null&&w6(l,a),l=Pd(l,h),l.flags|=4096;return l}return a=Au(a.child,{mode:h.mode,children:h.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Hd(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(u(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function kg(a,l,c,h,g){return Ca(l),c=ig(a,l,c,h,void 0,g),h=ug(),a!==null&&!Gt?(rg(a,l,g),Ou(a,l,g)):(et&&h&&Fm(l),l.flags|=1,fn(a,l,c,g),l.child)}function LC(a,l,c,h,g,y){return Ca(l),l.updateQueue=null,c=H6(l,h,c,g),P6(a),h=ug(),a!==null&&!Gt?(rg(a,l,y),Ou(a,l,y)):(et&&h&&Fm(l),l.flags|=1,fn(a,l,c,y),l.child)}function ZC(a,l,c,h,g){if(Ca(l),l.stateNode===null){var y=Uo,C=c.contextType;typeof C=="object"&&C!==null&&(y=cn(C)),y=new c(h,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Eg,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=h,y.state=l.memoizedState,y.refs={},Gm(l),C=c.contextType,y.context=typeof C=="object"&&C!==null?cn(C):Uo,y.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(bg(l,c,C,h),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Eg.enqueueReplaceState(y,y.state,null),As(l,h,y,g),_s(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(a===null){y=l.stateNode;var D=l.memoizedProps,A=_a(c,D);y.props=A;var R=y.context,q=c.contextType;C=Uo,typeof q=="object"&&q!==null&&(C=cn(q));var W=c.getDerivedStateFromProps;q=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||R!==C)&&AC(l,y,h,C),Er=!1;var F=l.memoizedState;y.state=F,As(l,h,y,g),_s(),R=l.memoizedState,D||F!==R||Er?(typeof W=="function"&&(bg(l,c,W,h),R=l.memoizedState),(A=Er||_C(l,c,A,h,F,R,C))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=R),y.props=h,y.state=R,y.context=C,h=A):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{y=l.stateNode,Ym(a,l),C=l.memoizedProps,q=_a(c,C),y.props=q,W=l.pendingProps,F=y.context,R=c.contextType,A=Uo,typeof R=="object"&&R!==null&&(A=cn(R)),D=c.getDerivedStateFromProps,(R=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==W||F!==A)&&AC(l,y,h,A),Er=!1,F=l.memoizedState,y.state=F,As(l,h,y,g),_s();var Z=l.memoizedState;C!==W||F!==Z||Er||a!==null&&a.dependencies!==null&&Sd(a.dependencies)?(typeof D=="function"&&(bg(l,c,D,h),Z=l.memoizedState),(q=Er||_C(l,c,q,h,F,Z,A)||a!==null&&a.dependencies!==null&&Sd(a.dependencies))?(R||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,A)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===a.memoizedProps&&F===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&F===a.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=Z),y.props=h,y.state=Z,y.context=A,h=q):(typeof y.componentDidUpdate!="function"||C===a.memoizedProps&&F===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&F===a.memoizedState||(l.flags|=1024),h=!1)}return y=h,Hd(a,l),h=(l.flags&128)!==0,y||h?(y=l.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,a!==null&&h?(l.child=Sa(l,a.child,null,g),l.child=Sa(l,null,c,g)):fn(a,l,c,g),l.memoizedState=y.state,a=l.child):a=Ou(a,l,g),a}function PC(a,l,c,h){return ba(),l.flags|=256,fn(a,l,c,h),l.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(a){return{baseLanes:a,cachePool:N6()}}function wg(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=ci),a}function HC(a,l,c){var h=l.pendingProps,g=!1,y=(l.flags&128)!==0,C;if((C=y)||(C=a!==null&&a.memoizedState===null?!1:(qt.current&2)!==0),C&&(g=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,a===null){if(et){if(g?kr(l):xr(),(a=wt)?(a=QD(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:gr!==null?{id:ou,overflow:lu}:null,retryLane:536870912,hydrationErrors:null},c=k6(a),c.return=l,l.child=c,sn=l,wt=null)):a=null,a===null)throw vr(l);return l4(a)?l.lanes=32:l.lanes=536870912,null}var D=h.children;return h=h.fallback,g?(xr(),g=l.mode,D=qd({mode:"hidden",children:D},g),h=va(h,g,c,null),D.return=l,h.return=l,D.sibling=h,l.child=D,h=l.child,h.memoizedState=Sg(c),h.childLanes=wg(a,C,c),l.memoizedState=xg,$s(null,h)):(kr(l),_g(l,D))}var A=a.memoizedState;if(A!==null&&(D=A.dehydrated,D!==null)){if(y)l.flags&256?(kr(l),l.flags&=-257,l=Ag(a,l,c)):l.memoizedState!==null?(xr(),l.child=a.child,l.flags|=128,l=null):(xr(),D=h.fallback,g=l.mode,h=qd({mode:"visible",children:h.children},g),D=va(D,g,c,null),D.flags|=2,h.return=l,D.return=l,h.sibling=D,l.child=h,Sa(l,a.child,null,c),h=l.child,h.memoizedState=Sg(c),h.childLanes=wg(a,C,c),l.memoizedState=xg,l=$s(null,h));else if(kr(l),l4(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var R=C.dgst;C=R,h=Error(u(419)),h.stack="",h.digest=C,Cs({value:h,source:null,stack:null}),l=Ag(a,l,c)}else if(Gt||Po(a,l,c,!1),C=(c&a.childLanes)!==0,Gt||C){if(C=Et,C!==null&&(h=TE(C,c),h!==0&&h!==A.retryLane))throw A.retryLane=h,ya(a,h),Hn(C,a,h),Dg;o4(D)||e0(),l=Ag(a,l,c)}else o4(D)?(l.flags|=192,l.child=a.child,l=null):(a=A.treeContext,wt=Ni(D.nextSibling),sn=l,et=!0,yr=null,Ti=!1,a!==null&&w6(l,a),l=_g(l,h.children),l.flags|=4096);return l}return g?(xr(),D=h.fallback,g=l.mode,A=a.child,R=A.sibling,h=Au(A,{mode:"hidden",children:h.children}),h.subtreeFlags=A.subtreeFlags&65011712,R!==null?D=Au(R,D):(D=va(D,g,c,null),D.flags|=2),D.return=l,h.return=l,h.sibling=D,l.child=h,$s(null,h),h=l.child,D=a.child.memoizedState,D===null?D=Sg(c):(g=D.cachePool,g!==null?(A=Jt._currentValue,g=g.parent!==A?{parent:A,pool:A}:g):g=N6(),D={baseLanes:D.baseLanes|c,cachePool:g}),h.memoizedState=D,h.childLanes=wg(a,C,c),l.memoizedState=xg,$s(a.child,h)):(kr(l),c=a.child,a=c.sibling,c=Au(c,{mode:"visible",children:h.children}),c.return=l,c.sibling=null,a!==null&&(C=l.deletions,C===null?(l.deletions=[a],l.flags|=16):C.push(a)),l.child=c,l.memoizedState=null,c)}function _g(a,l){return l=qd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function qd(a,l){return a=ai(22,a,null,l),a.lanes=0,a}function Ag(a,l,c){return Sa(l,a.child,null,c),a=_g(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function qC(a,l,c){a.lanes|=l;var h=a.alternate;h!==null&&(h.lanes|=l),Pm(a.return,l,c)}function Bg(a,l,c,h,g,y){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=g,C.treeForkCount=y)}function VC(a,l,c){var h=l.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var C=qt.current,D=(C&2)!==0;if(D?(C=C&1|2,l.flags|=128):C&=1,x(qt,C),fn(a,l,h,c),h=et?Es:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qC(a,c,l);else if(a.tag===19)qC(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(c=l.child,g=null;c!==null;)a=c.alternate,a!==null&&$d(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=l.child,l.child=null):(g=c.sibling,c.sibling=null),Bg(l,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=l.child,l.child=null;g!==null;){if(a=g.alternate,a!==null&&$d(a)===null){l.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}Bg(l,!0,c,null,y,h);break;case"together":Bg(l,!1,null,null,void 0,h);break;default:l.memoizedState=null}return l.child}function Ou(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),_r|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(Po(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(u(153));if(l.child!==null){for(a=l.child,c=Au(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=Au(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function Tg(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Sd(a)))}function u9(a,l,c){switch(l.tag){case 3:$t(l,l.stateNode.containerInfo),br(l,Jt,a.memoizedState.cache),ba();break;case 27:case 5:ki(l);break;case 4:$t(l,l.stateNode.containerInfo);break;case 10:br(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,tg(l),null;break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(kr(l),l.flags|=128,null):(c&l.child.childLanes)!==0?HC(a,l,c):(kr(l),a=Ou(a,l,c),a!==null?a.sibling:null);kr(l);break;case 19:var g=(a.flags&128)!==0;if(h=(c&l.childLanes)!==0,h||(Po(a,l,c,!1),h=(c&l.childLanes)!==0),g){if(h)return VC(a,l,c);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),x(qt,qt.current),h)break;return null;case 22:return l.lanes=0,FC(a,l,c,l.pendingProps);case 24:br(l,Jt,a.memoizedState.cache)}return Ou(a,l,c)}function JC(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)Gt=!0;else{if(!Tg(a,c)&&(l.flags&128)===0)return Gt=!1,u9(a,l,c);Gt=(a.flags&131072)!==0}else Gt=!1,et&&(l.flags&1048576)!==0&&S6(l,Es,l.index);switch(l.lanes=0,l.tag){case 16:e:{var h=l.pendingProps;if(a=ka(l.elementType),l.type=a,typeof a=="function")Im(a)?(h=_a(a,h),l.tag=1,l=ZC(null,l,a,h,c)):(l.tag=0,l=kg(null,l,a,h,c));else{if(a!=null){var g=a.$$typeof;if(g===Q){l.tag=11,l=IC(null,l,a,h,c);break e}else if(g===P){l.tag=14,l=MC(null,l,a,h,c);break e}}throw l=xe(a)||a,Error(u(306,l,""))}}return l;case 0:return kg(a,l,l.type,l.pendingProps,c);case 1:return h=l.type,g=_a(h,l.pendingProps),ZC(a,l,h,g,c);case 3:e:{if($t(l,l.stateNode.containerInfo),a===null)throw Error(u(387));h=l.pendingProps;var y=l.memoizedState;g=y.element,Ym(a,l),As(l,h,null,c);var C=l.memoizedState;if(h=C.cache,br(l,Jt,h),h!==y.cache&&Hm(l,[Jt],c,!0),_s(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=PC(a,l,h,c);break e}else if(h!==g){g=_i(Error(u(424)),l),Cs(g),l=PC(a,l,h,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(wt=Ni(a.firstChild),sn=l,et=!0,yr=null,Ti=!0,c=F6(l,null,h,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ba(),h===g){l=Ou(a,l,c);break e}fn(a,l,h,c)}l=l.child}return l;case 26:return Hd(a,l),a===null?(c=uk(l.type,null,l.pendingProps,null))?l.memoizedState=c:et||(c=l.type,a=l.pendingProps,h=o0(De.current).createElement(c),h[ln]=l,h[Fn]=a,dn(h,c,a),nn(h),l.stateNode=h):l.memoizedState=uk(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return ki(l),a===null&&et&&(h=l.stateNode=tk(l.type,l.pendingProps,De.current),sn=l,Ti=!0,g=wt,Nr(l.type)?(s4=g,wt=Ni(h.firstChild)):wt=g),fn(a,l,l.pendingProps.children,c),Hd(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&et&&((g=h=wt)&&(h=O9(h,l.type,l.pendingProps,Ti),h!==null?(l.stateNode=h,sn=l,wt=Ni(h.firstChild),Ti=!1,g=!0):g=!1),g||vr(l)),ki(l),g=l.type,y=l.pendingProps,C=a!==null?a.memoizedProps:null,h=y.children,u4(g,y)?h=null:C!==null&&u4(g,C)&&(l.flags|=32),l.memoizedState!==null&&(g=ig(a,l,GO,null,null,c),Ks._currentValue=g),Hd(a,l),fn(a,l,h,c),l.child;case 6:return a===null&&et&&((a=c=wt)&&(c=I9(c,l.pendingProps,Ti),c!==null?(l.stateNode=c,sn=l,wt=null,a=!0):a=!1),a||vr(l)),null;case 13:return HC(a,l,c);case 4:return $t(l,l.stateNode.containerInfo),h=l.pendingProps,a===null?l.child=Sa(l,null,h,c):fn(a,l,h,c),l.child;case 11:return IC(a,l,l.type,l.pendingProps,c);case 7:return fn(a,l,l.pendingProps,c),l.child;case 8:return fn(a,l,l.pendingProps.children,c),l.child;case 12:return fn(a,l,l.pendingProps.children,c),l.child;case 10:return h=l.pendingProps,br(l,l.type,h.value),fn(a,l,h.children,c),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,Ca(l),g=cn(g),h=h(g),l.flags|=1,fn(a,l,h,c),l.child;case 14:return MC(a,l,l.type,l.pendingProps,c);case 15:return RC(a,l,l.type,l.pendingProps,c);case 19:return VC(a,l,c);case 31:return i9(a,l,c);case 22:return FC(a,l,c,l.pendingProps);case 24:return Ca(l),h=cn(Jt),a===null?(g=Jm(),g===null&&(g=Et,y=qm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),l.memoizedState={parent:h,cache:g},Gm(l),br(l,Jt,g)):((a.lanes&c)!==0&&(Ym(a,l),As(l,null,null,c),_s()),g=a.memoizedState,y=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),br(l,Jt,h)):(h=y.cache,br(l,Jt,h),h!==g.cache&&Hm(l,[Jt],c,!0))),fn(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(u(156,l.tag))}function Iu(a){a.flags|=4}function zg(a,l,c,h,g){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(ED())a.flags|=8192;else throw xa=Bd,Km}else a.flags&=-16777217}function KC(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sk(l))if(ED())a.flags|=8192;else throw xa=Bd,Km}function Vd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?_E():536870912,a.lanes|=l,tl|=l)}function Os(a,l){if(!et)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function _t(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(l)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=c,l}function r9(a,l,c){var h=l.pendingProps;switch(Um(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(l),null;case 1:return _t(l),null;case 3:return c=l.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),zu(Jt),ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Zo(l)?Iu(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Lm())),_t(l),null;case 26:var g=l.type,y=l.memoizedState;return a===null?(Iu(l),y!==null?(_t(l),KC(l,y)):(_t(l),zg(l,g,null,h,c))):y?y!==a.memoizedState?(Iu(l),_t(l),KC(l,y)):(_t(l),l.flags&=-16777217):(a=a.memoizedProps,a!==h&&Iu(l),_t(l),zg(l,g,a,h,c)),null;case 27:if(Du(l),c=De.current,g=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==h&&Iu(l);else{if(!h){if(l.stateNode===null)throw Error(u(166));return _t(l),null}a=ce.current,Zo(l)?_6(l):(a=tk(g,h,c),l.stateNode=a,Iu(l))}return _t(l),null;case 5:if(Du(l),g=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==h&&Iu(l);else{if(!h){if(l.stateNode===null)throw Error(u(166));return _t(l),null}if(y=ce.current,Zo(l))_6(l);else{var C=o0(De.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?C.createElement(g,{is:h.is}):C.createElement(g)}}y[ln]=l,y[Fn]=h;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=y;e:switch(dn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Iu(l)}}return _t(l),zg(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,c),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==h&&Iu(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(u(166));if(a=De.current,Zo(l)){if(a=l.stateNode,c=l.memoizedProps,h=null,g=sn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[ln]=l,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||HD(a.nodeValue,c)),a||vr(l,!0)}else a=o0(a).createTextNode(h),a[ln]=l,l.stateNode=a}return _t(l),null;case 31:if(c=l.memoizedState,a===null||a.memoizedState!==null){if(h=Zo(l),c!==null){if(a===null){if(!h)throw Error(u(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(557));a[ln]=l}else ba(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_t(l),a=!1}else c=Lm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return l.flags&256?(li(l),l):(li(l),null);if((l.flags&128)!==0)throw Error(u(558))}return _t(l),null;case 13:if(h=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Zo(l),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(u(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(u(317));g[ln]=l}else ba(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_t(l),g=!1}else g=Lm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(li(l),l):(li(l),null)}return li(l),(l.flags&128)!==0?(l.lanes=c,l):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==a&&c&&(l.child.flags|=8192),Vd(l,l.updateQueue),_t(l),null);case 4:return ht(),a===null&&Wg(l.stateNode.containerInfo),_t(l),null;case 10:return zu(l.type),_t(l),null;case 19:if(J(qt),h=l.memoizedState,h===null)return _t(l),null;if(g=(l.flags&128)!==0,y=h.rendering,y===null)if(g)Os(h,!1);else{if(Pt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(y=$d(a),y!==null){for(l.flags|=128,Os(h,!1),a=y.updateQueue,l.updateQueue=a,Vd(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)D6(c,a),c=c.sibling;return x(qt,qt.current&1|2),et&&Bu(l,h.treeForkCount),l.child}a=a.sibling}h.tail!==null&&Tn()>Xd&&(l.flags|=128,g=!0,Os(h,!1),l.lanes=4194304)}else{if(!g)if(a=$d(y),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,Vd(l,a),Os(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!et)return _t(l),null}else 2*Tn()-h.renderingStartTime>Xd&&c!==536870912&&(l.flags|=128,g=!0,Os(h,!1),l.lanes=4194304);h.isBackwards?(y.sibling=l.child,l.child=y):(a=h.last,a!==null?a.sibling=y:l.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Tn(),a.sibling=null,c=qt.current,x(qt,g?c&1|2:c&1),et&&Bu(l,h.treeForkCount),a):(_t(l),null);case 22:case 23:return li(l),eg(),h=l.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(c&536870912)!==0&&(l.flags&128)===0&&(_t(l),l.subtreeFlags&6&&(l.flags|=8192)):_t(l),c=l.updateQueue,c!==null&&Vd(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048),a!==null&&J(Da),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),zu(Jt),_t(l),null;case 25:return null;case 30:return null}throw Error(u(156,l.tag))}function a9(a,l){switch(Um(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return zu(Jt),ht(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Du(l),null;case 31:if(l.memoizedState!==null){if(li(l),l.alternate===null)throw Error(u(340));ba()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(li(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(u(340));ba()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return J(qt),null;case 4:return ht(),null;case 10:return zu(l.type),null;case 22:case 23:return li(l),eg(),a!==null&&J(Da),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return zu(Jt),null;case 25:return null;default:return null}}function GC(a,l){switch(Um(l),l.tag){case 3:zu(Jt),ht();break;case 26:case 27:case 5:Du(l);break;case 4:ht();break;case 31:l.memoizedState!==null&&li(l);break;case 13:li(l);break;case 19:J(qt);break;case 10:zu(l.type);break;case 22:case 23:li(l),eg(),a!==null&&J(Da);break;case 24:zu(Jt)}}function Is(a,l){try{var c=l.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&a)===a){h=void 0;var y=c.create,C=c.inst;h=y(),C.destroy=h}c=c.next}while(c!==g)}}catch(D){dt(l,l.return,D)}}function Sr(a,l,c){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&a)===a){var C=h.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,g=l;var A=c,R=D;try{R()}catch(q){dt(g,A,q)}}}h=h.next}while(h!==y)}}catch(q){dt(l,l.return,q)}}function YC(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{j6(l,c)}catch(h){dt(a,a.return,h)}}}function XC(a,l,c){c.props=_a(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){dt(a,l,h)}}function Ms(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(g){dt(a,l,g)}}function su(a,l){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){dt(a,l,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){dt(a,l,g)}else c.current=null}function QC(a){var l=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){dt(a,a.return,g)}}function Ng(a,l,c){try{var h=a.stateNode;A9(h,a.type,c,l),h[Fn]=l}catch(g){dt(a,a.return,g)}}function WC(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Nr(a.type)||a.tag===4}function $g(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||WC(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Nr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Og(a,l,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=wu));else if(h!==4&&(h===27&&Nr(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(Og(a,l,c),a=a.sibling;a!==null;)Og(a,l,c),a=a.sibling}function Jd(a,l,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(h!==4&&(h===27&&Nr(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Jd(a,l,c),a=a.sibling;a!==null;)Jd(a,l,c),a=a.sibling}function eD(a){var l=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);dn(l,h,c),l[ln]=a,l[Fn]=c}catch(y){dt(a,a.return,y)}}var Mu=!1,Yt=!1,Ig=!1,tD=typeof WeakSet=="function"?WeakSet:Set,un=null;function o9(a,l){if(a=a.containerInfo,n4=p0,a=h6(a),Am(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var C=0,D=-1,A=-1,R=0,q=0,W=a,F=null;t:for(;;){for(var Z;W!==c||g!==0&&W.nodeType!==3||(D=C+g),W!==y||h!==0&&W.nodeType!==3||(A=C+h),W.nodeType===3&&(C+=W.nodeValue.length),(Z=W.firstChild)!==null;)F=W,W=Z;for(;;){if(W===a)break t;if(F===c&&++R===g&&(D=C),F===y&&++q===h&&(A=C),(Z=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Z}c=D===-1||A===-1?null:{start:D,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(i4={focusedElem:a,selectionRange:c},p0=!1,un=l;un!==null;)if(l=un,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,un=a;else for(;un!==null;){switch(l=un,y=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)g=a[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=l,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var me=_a(c.type,g);a=h.getSnapshotBeforeUpdate(me,y),h.__reactInternalSnapshotBeforeUpdate=a}catch(we){dt(c,c.return,we)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)a4(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":a4(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(u(163))}if(a=l.sibling,a!==null){a.return=l.return,un=a;break}un=l.return}}function nD(a,l,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Fu(a,c),h&4&&Is(5,c);break;case 1:if(Fu(a,c),h&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(C){dt(c,c.return,C)}else{var g=_a(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(g,l,a.__reactInternalSnapshotBeforeUpdate)}catch(C){dt(c,c.return,C)}}h&64&&YC(c),h&512&&Ms(c,c.return);break;case 3:if(Fu(a,c),h&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{j6(a,l)}catch(C){dt(c,c.return,C)}}break;case 27:l===null&&h&4&&eD(c);case 26:case 5:Fu(a,c),l===null&&h&4&&QC(c),h&512&&Ms(c,c.return);break;case 12:Fu(a,c);break;case 31:Fu(a,c),h&4&&rD(a,c);break;case 13:Fu(a,c),h&4&&aD(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=g9.bind(null,c),M9(a,c))));break;case 22:if(h=c.memoizedState!==null||Mu,!h){l=l!==null&&l.memoizedState!==null||Yt,g=Mu;var y=Yt;Mu=h,(Yt=l)&&!y?Uu(a,c,(c.subtreeFlags&8772)!==0):Fu(a,c),Mu=g,Yt=y}break;case 30:break;default:Fu(a,c)}}function iD(a){var l=a.alternate;l!==null&&(a.alternate=null,iD(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&fm(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ot=null,jn=!1;function Ru(a,l,c){for(c=c.child;c!==null;)uD(a,l,c),c=c.sibling}function uD(a,l,c){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(zn,c)}catch{}switch(c.tag){case 26:Yt||su(c,l),Ru(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Yt||su(c,l);var h=Ot,g=jn;Nr(c.type)&&(Ot=c.stateNode,jn=!1),Ru(a,l,c),qs(c.stateNode),Ot=h,jn=g;break;case 5:Yt||su(c,l);case 6:if(h=Ot,g=jn,Ot=null,Ru(a,l,c),Ot=h,jn=g,Ot!==null)if(jn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(c.stateNode)}catch(y){dt(c,l,y)}else try{Ot.removeChild(c.stateNode)}catch(y){dt(c,l,y)}break;case 18:Ot!==null&&(jn?(a=Ot,YD(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),sl(a)):YD(Ot,c.stateNode));break;case 4:h=Ot,g=jn,Ot=c.stateNode.containerInfo,jn=!0,Ru(a,l,c),Ot=h,jn=g;break;case 0:case 11:case 14:case 15:Sr(2,c,l),Yt||Sr(4,c,l),Ru(a,l,c);break;case 1:Yt||(su(c,l),h=c.stateNode,typeof h.componentWillUnmount=="function"&&XC(c,l,h)),Ru(a,l,c);break;case 21:Ru(a,l,c);break;case 22:Yt=(h=Yt)||c.memoizedState!==null,Ru(a,l,c),Yt=h;break;default:Ru(a,l,c)}}function rD(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{sl(a)}catch(c){dt(l,l.return,c)}}}function aD(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{sl(a)}catch(c){dt(l,l.return,c)}}function l9(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new tD),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new tD),l;default:throw Error(u(435,a.tag))}}function Kd(a,l){var c=l9(a);l.forEach(function(h){if(!c.has(h)){c.add(h);var g=y9.bind(null,a,h);h.then(g,g)}})}function Ln(a,l){var c=l.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=a,C=l,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(Nr(D.type)){Ot=D.stateNode,jn=!1;break e}break;case 5:Ot=D.stateNode,jn=!1;break e;case 3:case 4:Ot=D.stateNode.containerInfo,jn=!0;break e}D=D.return}if(Ot===null)throw Error(u(160));uD(y,C,g),Ot=null,jn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)oD(l,a),l=l.sibling}var Qi=null;function oD(a,l){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ln(l,a),Zn(a),h&4&&(Sr(3,a,a.return),Is(3,a),Sr(5,a,a.return));break;case 1:Ln(l,a),Zn(a),h&512&&(Yt||c===null||su(c,c.return)),h&64&&Mu&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Qi;if(Ln(l,a),Zn(a),h&512&&(Yt||c===null||su(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ss]||y[ln]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),dn(y,h,c),y[ln]=a,nn(y),h=y;break e;case"link":var C=ok("link","href",g).get(h+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(y=C[D],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break t}}y=g.createElement(h),dn(y,h,c),g.head.appendChild(y);break;case"meta":if(C=ok("meta","content",g).get(h+(c.content||""))){for(D=0;D<C.length;D++)if(y=C[D],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break t}}y=g.createElement(h),dn(y,h,c),g.head.appendChild(y);break;default:throw Error(u(468,h))}y[ln]=a,nn(y),h=y}a.stateNode=h}else lk(g,a.type,a.stateNode);else a.stateNode=ak(g,h,a.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?lk(g,a.type,a.stateNode):ak(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Ng(a,a.memoizedProps,c.memoizedProps)}break;case 27:Ln(l,a),Zn(a),h&512&&(Yt||c===null||su(c,c.return)),c!==null&&h&4&&Ng(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Ln(l,a),Zn(a),h&512&&(Yt||c===null||su(c,c.return)),a.flags&32){g=a.stateNode;try{No(g,"")}catch(me){dt(a,a.return,me)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,Ng(a,g,c!==null?c.memoizedProps:g)),h&1024&&(Ig=!0);break;case 6:if(Ln(l,a),Zn(a),h&4){if(a.stateNode===null)throw Error(u(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(me){dt(a,a.return,me)}}break;case 3:if(c0=null,g=Qi,Qi=l0(l.containerInfo),Ln(l,a),Qi=g,Zn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{sl(l.containerInfo)}catch(me){dt(a,a.return,me)}Ig&&(Ig=!1,lD(a));break;case 4:h=Qi,Qi=l0(a.stateNode.containerInfo),Ln(l,a),Zn(a),Qi=h;break;case 12:Ln(l,a),Zn(a);break;case 31:Ln(l,a),Zn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Kd(a,h)));break;case 13:Ln(l,a),Zn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Yd=Tn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Kd(a,h)));break;case 22:g=a.memoizedState!==null;var A=c!==null&&c.memoizedState!==null,R=Mu,q=Yt;if(Mu=R||g,Yt=q||A,Ln(l,a),Yt=q,Mu=R,Zn(a),h&8192)e:for(l=a.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(c===null||A||Mu||Yt||Aa(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){A=c=l;try{if(y=A.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=A.stateNode;var W=A.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;D.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){dt(A,A.return,me)}}}else if(l.tag===6){if(c===null){A=l;try{A.stateNode.nodeValue=g?"":A.memoizedProps}catch(me){dt(A,A.return,me)}}}else if(l.tag===18){if(c===null){A=l;try{var Z=A.stateNode;g?XD(Z,!0):XD(A.stateNode,!1)}catch(me){dt(A,A.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Kd(a,c))));break;case 19:Ln(l,a),Zn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Kd(a,h)));break;case 30:break;case 21:break;default:Ln(l,a),Zn(a)}}function Zn(a){var l=a.flags;if(l&2){try{for(var c,h=a.return;h!==null;){if(WC(h)){c=h;break}h=h.return}if(c==null)throw Error(u(160));switch(c.tag){case 27:var g=c.stateNode,y=$g(a);Jd(a,y,g);break;case 5:var C=c.stateNode;c.flags&32&&(No(C,""),c.flags&=-33);var D=$g(a);Jd(a,D,C);break;case 3:case 4:var A=c.stateNode.containerInfo,R=$g(a);Og(a,R,A);break;default:throw Error(u(161))}}catch(q){dt(a,a.return,q)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function lD(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;lD(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Fu(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)nD(a,l.alternate,l),l=l.sibling}function Aa(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Sr(4,l,l.return),Aa(l);break;case 1:su(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&XC(l,l.return,c),Aa(l);break;case 27:qs(l.stateNode);case 26:case 5:su(l,l.return),Aa(l);break;case 22:l.memoizedState===null&&Aa(l);break;case 30:Aa(l);break;default:Aa(l)}a=a.sibling}}function Uu(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=a,y=l,C=y.flags;switch(y.tag){case 0:case 11:case 15:Uu(g,y,c),Is(4,y);break;case 1:if(Uu(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(R){dt(h,h.return,R)}if(h=y,g=h.updateQueue,g!==null){var D=h.stateNode;try{var A=g.shared.hiddenCallbacks;if(A!==null)for(g.shared.hiddenCallbacks=null,g=0;g<A.length;g++)U6(A[g],D)}catch(R){dt(h,h.return,R)}}c&&C&64&&YC(y),Ms(y,y.return);break;case 27:eD(y);case 26:case 5:Uu(g,y,c),c&&h===null&&C&4&&QC(y),Ms(y,y.return);break;case 12:Uu(g,y,c);break;case 31:Uu(g,y,c),c&&C&4&&rD(g,y);break;case 13:Uu(g,y,c),c&&C&4&&aD(g,y);break;case 22:y.memoizedState===null&&Uu(g,y,c),Ms(y,y.return);break;case 30:break;default:Uu(g,y,c)}l=l.sibling}}function Mg(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ds(c))}function Rg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ds(a))}function Wi(a,l,c,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)sD(a,l,c,h),l=l.sibling}function sD(a,l,c,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:Wi(a,l,c,h),g&2048&&Is(9,l);break;case 1:Wi(a,l,c,h);break;case 3:Wi(a,l,c,h),g&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Ds(a)));break;case 12:if(g&2048){Wi(a,l,c,h),a=l.stateNode;try{var y=l.memoizedProps,C=y.id,D=y.onPostCommit;typeof D=="function"&&D(C,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(A){dt(l,l.return,A)}}else Wi(a,l,c,h);break;case 31:Wi(a,l,c,h);break;case 13:Wi(a,l,c,h);break;case 23:break;case 22:y=l.stateNode,C=l.alternate,l.memoizedState!==null?y._visibility&2?Wi(a,l,c,h):Rs(a,l):y._visibility&2?Wi(a,l,c,h):(y._visibility|=2,Qo(a,l,c,h,(l.subtreeFlags&10256)!==0||!1)),g&2048&&Mg(C,l);break;case 24:Wi(a,l,c,h),g&2048&&Rg(l.alternate,l);break;default:Wi(a,l,c,h)}}function Qo(a,l,c,h,g){for(g=g&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=a,C=l,D=c,A=h,R=C.flags;switch(C.tag){case 0:case 11:case 15:Qo(y,C,D,A,g),Is(8,C);break;case 23:break;case 22:var q=C.stateNode;C.memoizedState!==null?q._visibility&2?Qo(y,C,D,A,g):Rs(y,C):(q._visibility|=2,Qo(y,C,D,A,g)),g&&R&2048&&Mg(C.alternate,C);break;case 24:Qo(y,C,D,A,g),g&&R&2048&&Rg(C.alternate,C);break;default:Qo(y,C,D,A,g)}l=l.sibling}}function Rs(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,h=l,g=h.flags;switch(h.tag){case 22:Rs(c,h),g&2048&&Mg(h.alternate,h);break;case 24:Rs(c,h),g&2048&&Rg(h.alternate,h);break;default:Rs(c,h)}l=l.sibling}}var Fs=8192;function Wo(a,l,c){if(a.subtreeFlags&Fs)for(a=a.child;a!==null;)cD(a,l,c),a=a.sibling}function cD(a,l,c){switch(a.tag){case 26:Wo(a,l,c),a.flags&Fs&&a.memoizedState!==null&&K9(c,Qi,a.memoizedState,a.memoizedProps);break;case 5:Wo(a,l,c);break;case 3:case 4:var h=Qi;Qi=l0(a.stateNode.containerInfo),Wo(a,l,c),Qi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Fs,Fs=16777216,Wo(a,l,c),Fs=h):Wo(a,l,c));break;default:Wo(a,l,c)}}function fD(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Us(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];un=h,hD(h,a)}fD(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dD(a),a=a.sibling}function dD(a){switch(a.tag){case 0:case 11:case 15:Us(a),a.flags&2048&&Sr(9,a,a.return);break;case 3:Us(a);break;case 12:Us(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Gd(a)):Us(a);break;default:Us(a)}}function Gd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var h=l[c];un=h,hD(h,a)}fD(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Sr(8,l,l.return),Gd(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Gd(l));break;default:Gd(l)}a=a.sibling}}function hD(a,l){for(;un!==null;){var c=un;switch(c.tag){case 0:case 11:case 15:Sr(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ds(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,un=h;else e:for(c=a;un!==null;){h=un;var g=h.sibling,y=h.return;if(iD(h),h===c){un=null;break e}if(g!==null){g.return=y,un=g;break e}un=y}}}var s9={getCacheForType:function(a){var l=cn(Jt),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c},cacheSignal:function(){return cn(Jt).controller.signal}},c9=typeof WeakMap=="function"?WeakMap:Map,at=0,Et=null,qe=null,Ye=0,ft=0,si=null,wr=!1,el=!1,Fg=!1,ju=0,Pt=0,_r=0,Ba=0,Ug=0,ci=0,tl=0,js=null,Pn=null,jg=!1,Yd=0,pD=0,Xd=1/0,Qd=null,Ar=null,en=0,Br=null,nl=null,Lu=0,Lg=0,Zg=null,mD=null,Ls=0,Pg=null;function fi(){return(at&2)!==0&&Ye!==0?Ye&-Ye:j.T!==null?Gg():zE()}function gD(){if(ci===0)if((Ye&536870912)===0||et){var a=ad;ad<<=1,(ad&3932160)===0&&(ad=262144),ci=a}else ci=536870912;return a=oi.current,a!==null&&(a.flags|=32),ci}function Hn(a,l,c){(a===Et&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(il(a,0),Tr(a,Ye,ci,!1)),ls(a,c),((at&2)===0||a!==Et)&&(a===Et&&((at&2)===0&&(Ba|=c),Pt===4&&Tr(a,Ye,ci,!1)),cu(a))}function yD(a,l,c){if((at&6)!==0)throw Error(u(327));var h=!c&&(l&127)===0&&(l&a.expiredLanes)===0||as(a,l),g=h?h9(a,l):qg(a,l,!0),y=h;do{if(g===0){el&&!h&&Tr(a,l,0,!1);break}else{if(c=a.current.alternate,y&&!f9(c)){g=qg(a,l,!1),y=!1;continue}if(g===2){if(y=l,a.errorRecoveryDisabledLanes&y)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var D=a;g=js;var A=D.current.memoizedState.isDehydrated;if(A&&(il(D,C).flags|=256),C=qg(D,C,!1),C!==2){if(Fg&&!A){D.errorRecoveryDisabledLanes|=y,Ba|=y,g=4;break e}y=Pn,Pn=g,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){il(a,0),Tr(a,l,0,!0);break}e:{switch(h=a,y=g,y){case 0:case 1:throw Error(u(345));case 4:if((l&4194048)!==l)break;case 6:Tr(h,l,ci,!wr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((l&62914560)===l&&(g=Yd+300-Tn(),10<g)){if(Tr(h,l,ci,!wr),ld(h,0,!0)!==0)break e;Lu=l,h.timeoutHandle=KD(vD.bind(null,h,c,Pn,Qd,jg,l,ci,Ba,tl,wr,y,"Throttled",-0,0),g);break e}vD(h,c,Pn,Qd,jg,l,ci,Ba,tl,wr,y,null,-0,0)}}break}while(!0);cu(a)}function vD(a,l,c,h,g,y,C,D,A,R,q,W,F,Z){if(a.timeoutHandle=-1,W=l.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wu},cD(l,y,W);var me=(y&62914560)===y?Yd-Tn():(y&4194048)===y?pD-Tn():0;if(me=G9(W,me),me!==null){Lu=y,a.cancelPendingCommit=me(wD.bind(null,a,l,y,c,h,g,C,D,A,q,W,null,F,Z)),Tr(a,y,C,!R);return}}wD(a,l,y,c,h,g,C,D,A)}function f9(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!ri(y(),g))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Tr(a,l,c,h){l&=~Ug,l&=~Ba,a.suspendedLanes|=l,a.pingedLanes&=~l,h&&(a.warmLanes|=l),h=a.expirationTimes;for(var g=l;0<g;){var y=31-bt(g),C=1<<y;h[y]=-1,g&=~C}c!==0&&AE(a,c,l)}function Wd(){return(at&6)===0?(Zs(0),!1):!0}function Hg(){if(qe!==null){if(ft===0)var a=qe.return;else a=qe,Tu=Ea=null,ag(a),Jo=null,xs=0,a=qe;for(;a!==null;)GC(a.alternate,a),a=a.return;qe=null}}function il(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,z9(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Lu=0,Hg(),Et=a,qe=c=Au(a.current,null),Ye=l,ft=0,si=null,wr=!1,el=as(a,l),Fg=!1,tl=ci=Ug=Ba=_r=Pt=0,Pn=js=null,jg=!1,(l&8)!==0&&(l|=l&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=l;0<h;){var g=31-bt(h),y=1<<g;l|=a[g],h&=~y}return ju=l,Ed(),c}function bD(a,l){Me=null,j.H=Ns,l===Vo||l===Ad?(l=I6(),ft=3):l===Km?(l=I6(),ft=4):ft=l===Dg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,si=l,qe===null&&(Pt=1,Zd(a,_i(l,a.current)))}function ED(){var a=oi.current;return a===null?!0:(Ye&4194048)===Ye?zi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?a===zi:!1}function CD(){var a=j.H;return j.H=Ns,a===null?Ns:a}function DD(){var a=j.A;return j.A=s9,a}function e0(){Pt=4,wr||(Ye&4194048)!==Ye&&oi.current!==null||(el=!0),(_r&134217727)===0&&(Ba&134217727)===0||Et===null||Tr(Et,Ye,ci,!1)}function qg(a,l,c){var h=at;at|=2;var g=CD(),y=DD();(Et!==a||Ye!==l)&&(Qd=null,il(a,l)),l=!1;var C=Pt;e:do try{if(ft!==0&&qe!==null){var D=qe,A=si;switch(ft){case 8:Hg(),C=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(l=!0);var R=ft;if(ft=0,si=null,ul(a,D,A,R),c&&el){C=0;break e}break;default:R=ft,ft=0,si=null,ul(a,D,A,R)}}d9(),C=Pt;break}catch(q){bD(a,q)}while(!0);return l&&a.shellSuspendCounter++,Tu=Ea=null,at=h,j.H=g,j.A=y,qe===null&&(Et=null,Ye=0,Ed()),C}function d9(){for(;qe!==null;)kD(qe)}function h9(a,l){var c=at;at|=2;var h=CD(),g=DD();Et!==a||Ye!==l?(Qd=null,Xd=Tn()+500,il(a,l)):el=as(a,l);e:do try{if(ft!==0&&qe!==null){l=qe;var y=si;t:switch(ft){case 1:ft=0,si=null,ul(a,l,y,1);break;case 2:case 9:if($6(y)){ft=0,si=null,xD(l);break}l=function(){ft!==2&&ft!==9||Et!==a||(ft=7),cu(a)},y.then(l,l);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:$6(y)?(ft=0,si=null,xD(l)):(ft=0,si=null,ul(a,l,y,7));break;case 5:var C=null;switch(qe.tag){case 26:C=qe.memoizedState;case 5:case 27:var D=qe;if(C?sk(C):D.stateNode.complete){ft=0,si=null;var A=D.sibling;if(A!==null)qe=A;else{var R=D.return;R!==null?(qe=R,t0(R)):qe=null}break t}}ft=0,si=null,ul(a,l,y,5);break;case 6:ft=0,si=null,ul(a,l,y,6);break;case 8:Hg(),Pt=6;break e;default:throw Error(u(462))}}p9();break}catch(q){bD(a,q)}while(!0);return Tu=Ea=null,j.H=h,j.A=g,at=c,qe!==null?0:(Et=null,Ye=0,Ed(),Pt)}function p9(){for(;qe!==null&&!um();)kD(qe)}function kD(a){var l=JC(a.alternate,a,ju);a.memoizedProps=a.pendingProps,l===null?t0(a):qe=l}function xD(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=LC(c,l,l.pendingProps,l.type,void 0,Ye);break;case 11:l=LC(c,l,l.pendingProps,l.type.render,l.ref,Ye);break;case 5:ag(l);default:GC(c,l),l=qe=D6(l,ju),l=JC(c,l,ju)}a.memoizedProps=a.pendingProps,l===null?t0(a):qe=l}function ul(a,l,c,h){Tu=Ea=null,ag(l),Jo=null,xs=0;var g=l.return;try{if(n9(a,g,l,c,Ye)){Pt=1,Zd(a,_i(c,a.current)),qe=null;return}}catch(y){if(g!==null)throw qe=g,y;Pt=1,Zd(a,_i(c,a.current)),qe=null;return}l.flags&32768?(et||h===1?a=!0:el||(Ye&536870912)!==0?a=!1:(wr=a=!0,(h===2||h===9||h===3||h===6)&&(h=oi.current,h!==null&&h.tag===13&&(h.flags|=16384))),SD(l,a)):t0(l)}function t0(a){var l=a;do{if((l.flags&32768)!==0){SD(l,wr);return}a=l.return;var c=r9(l.alternate,l,ju);if(c!==null){qe=c;return}if(l=l.sibling,l!==null){qe=l;return}qe=l=a}while(l!==null);Pt===0&&(Pt=5)}function SD(a,l){do{var c=a9(a.alternate,a);if(c!==null){c.flags&=32767,qe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){qe=a;return}qe=a=c}while(a!==null);Pt=6,qe=null}function wD(a,l,c,h,g,y,C,D,A){a.cancelPendingCommit=null;do n0();while(en!==0);if((at&6)!==0)throw Error(u(327));if(l!==null){if(l===a.current)throw Error(u(177));if(y=l.lanes|l.childLanes,y|=$m,J$(a,c,y,C,D,A),a===Et&&(qe=Et=null,Ye=0),nl=l,Br=a,Lu=c,Lg=y,Zg=g,mD=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,v9(Be,function(){return zD(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=j.T,j.T=null,g=te.p,te.p=2,C=at,at|=4;try{o9(a,l,c)}finally{at=C,te.p=g,j.T=h}}en=1,_D(),AD(),BD()}}function _D(){if(en===1){en=0;var a=Br,l=nl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var h=te.p;te.p=2;var g=at;at|=4;try{oD(l,a);var y=i4,C=h6(a.containerInfo),D=y.focusedElem,A=y.selectionRange;if(C!==D&&D&&D.ownerDocument&&d6(D.ownerDocument.documentElement,D)){if(A!==null&&Am(D)){var R=A.start,q=A.end;if(q===void 0&&(q=R),"selectionStart"in D)D.selectionStart=R,D.selectionEnd=Math.min(q,D.value.length);else{var W=D.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var Z=F.getSelection(),me=D.textContent.length,we=Math.min(A.start,me),gt=A.end===void 0?we:Math.min(A.end,me);!Z.extend&&we>gt&&(C=gt,gt=we,we=C);var O=f6(D,we),z=f6(D,gt);if(O&&z&&(Z.rangeCount!==1||Z.anchorNode!==O.node||Z.anchorOffset!==O.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var M=W.createRange();M.setStart(O.node,O.offset),Z.removeAllRanges(),we>gt?(Z.addRange(M),Z.extend(z.node,z.offset)):(M.setEnd(z.node,z.offset),Z.addRange(M))}}}}for(W=[],Z=D;Z=Z.parentNode;)Z.nodeType===1&&W.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<W.length;D++){var Y=W[D];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}p0=!!n4,i4=n4=null}finally{at=g,te.p=h,j.T=c}}a.current=l,en=2}}function AD(){if(en===2){en=0;var a=Br,l=nl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var h=te.p;te.p=2;var g=at;at|=4;try{nD(a,l.alternate,l)}finally{at=g,te.p=h,j.T=c}}en=3}}function BD(){if(en===4||en===3){en=0,rm();var a=Br,l=nl,c=Lu,h=mD;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?en=5:(en=0,nl=Br=null,TD(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Ar=null),sm(c),l=l.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(zn,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=j.T,g=te.p,te.p=2,j.T=null;try{for(var y=a.onRecoverableError,C=0;C<h.length;C++){var D=h[C];y(D.value,{componentStack:D.stack})}}finally{j.T=l,te.p=g}}(Lu&3)!==0&&n0(),cu(a),g=a.pendingLanes,(c&261930)!==0&&(g&42)!==0?a===Pg?Ls++:(Ls=0,Pg=a):Ls=0,Zs(0)}}function TD(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Ds(l)))}function n0(){return _D(),AD(),BD(),zD()}function zD(){if(en!==5)return!1;var a=Br,l=Lg;Lg=0;var c=sm(Lu),h=j.T,g=te.p;try{te.p=32>c?32:c,j.T=null,c=Zg,Zg=null;var y=Br,C=Lu;if(en=0,nl=Br=null,Lu=0,(at&6)!==0)throw Error(u(331));var D=at;if(at|=4,dD(y.current),sD(y,y.current,C,c),at=D,Zs(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(zn,y)}catch{}return!0}finally{te.p=g,j.T=h,TD(a,l)}}function ND(a,l,c){l=_i(c,l),l=Cg(a.stateNode,l,2),a=Dr(a,l,2),a!==null&&(ls(a,2),cu(a))}function dt(a,l,c){if(a.tag===3)ND(a,a,c);else for(;l!==null;){if(l.tag===3){ND(l,a,c);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ar===null||!Ar.has(h))){a=_i(c,a),c=$C(2),h=Dr(l,c,2),h!==null&&(OC(c,h,l,a),ls(h,2),cu(h));break}}l=l.return}}function Vg(a,l,c){var h=a.pingCache;if(h===null){h=a.pingCache=new c9;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(c)||(Fg=!0,g.add(c),a=m9.bind(null,a,l,c),l.then(a,a))}function m9(a,l,c){var h=a.pingCache;h!==null&&h.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Et===a&&(Ye&c)===c&&(Pt===4||Pt===3&&(Ye&62914560)===Ye&&300>Tn()-Yd?(at&2)===0&&il(a,0):Ug|=c,tl===Ye&&(tl=0)),cu(a)}function $D(a,l){l===0&&(l=_E()),a=ya(a,l),a!==null&&(ls(a,l),cu(a))}function g9(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),$D(a,c)}function y9(a,l){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(u(314))}h!==null&&h.delete(l),$D(a,c)}function v9(a,l){return So(a,l)}var i0=null,rl=null,Jg=!1,u0=!1,Kg=!1,zr=0;function cu(a){a!==rl&&a.next===null&&(rl===null?i0=rl=a:rl=rl.next=a),u0=!0,Jg||(Jg=!0,E9())}function Zs(a,l){if(!Kg&&u0){Kg=!0;do for(var c=!1,h=i0;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var C=h.suspendedLanes,D=h.pingedLanes;y=(1<<31-bt(42|a)+1)-1,y&=g&~(C&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,RD(h,y))}else y=Ye,y=ld(h,h===Et?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||as(h,y)||(c=!0,RD(h,y));h=h.next}while(c);Kg=!1}}function b9(){OD()}function OD(){u0=Jg=!1;var a=0;zr!==0&&T9()&&(a=zr);for(var l=Tn(),c=null,h=i0;h!==null;){var g=h.next,y=ID(h,l);y===0?(h.next=null,c===null?i0=g:c.next=g,g===null&&(rl=c)):(c=h,(a!==0||(y&3)!==0)&&(u0=!0)),h=g}en!==0&&en!==5||Zs(a),zr!==0&&(zr=0)}function ID(a,l){for(var c=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var C=31-bt(y),D=1<<C,A=g[C];A===-1?((D&c)===0||(D&h)!==0)&&(g[C]=V$(D,l)):A<=l&&(a.expiredLanes|=D),y&=~D}if(l=Et,c=Ye,c=ld(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===l&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&rs(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||as(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(h!==null&&rs(h),sm(c)){case 2:case 8:c=ae;break;case 32:c=Be;break;case 268435456:c=lt;break;default:c=Be}return h=MD.bind(null,a),c=So(c,h),a.callbackPriority=l,a.callbackNode=c,l}return h!==null&&h!==null&&rs(h),a.callbackPriority=2,a.callbackNode=null,2}function MD(a,l){if(en!==0&&en!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(n0()&&a.callbackNode!==c)return null;var h=Ye;return h=ld(a,a===Et?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(yD(a,h,l),ID(a,Tn()),a.callbackNode!=null&&a.callbackNode===c?MD.bind(null,a):null)}function RD(a,l){if(n0())return null;yD(a,l,!0)}function E9(){N9(function(){(at&6)!==0?So(K,b9):OD()})}function Gg(){if(zr===0){var a=Ho;a===0&&(a=rd,rd<<=1,(rd&261888)===0&&(rd=256)),zr=a}return zr}function FD(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:dd(""+a)}function UD(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function C9(a,l,c,h,g){if(l==="submit"&&c&&c.stateNode===g){var y=FD((g[Fn]||null).action),C=h.submitter;C&&(l=(l=C[Fn]||null)?FD(l.formAction):C.getAttribute("formAction"),l!==null&&(y=l,C=null));var D=new gd("action","action",null,h,g);a.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(zr!==0){var A=C?UD(g,C):new FormData(g);mg(c,{pending:!0,data:A,method:g.method,action:y},null,A)}}else typeof y=="function"&&(D.preventDefault(),A=C?UD(g,C):new FormData(g),mg(c,{pending:!0,data:A,method:g.method,action:y},y,A))},currentTarget:g}]})}}for(var Yg=0;Yg<Nm.length;Yg++){var Xg=Nm[Yg],D9=Xg.toLowerCase(),k9=Xg[0].toUpperCase()+Xg.slice(1);Xi(D9,"on"+k9)}Xi(g6,"onAnimationEnd"),Xi(y6,"onAnimationIteration"),Xi(v6,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(UO,"onTransitionRun"),Xi(jO,"onTransitionStart"),Xi(LO,"onTransitionCancel"),Xi(b6,"onTransitionEnd"),To("onMouseEnter",["mouseout","mouseover"]),To("onMouseLeave",["mouseout","mouseover"]),To("onPointerEnter",["pointerout","pointerover"]),To("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function jD(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],g=h.event;h=h.listeners;e:{var y=void 0;if(l)for(var C=h.length-1;0<=C;C--){var D=h[C],A=D.instance,R=D.currentTarget;if(D=D.listener,A!==y&&g.isPropagationStopped())break e;y=D,g.currentTarget=R;try{y(g)}catch(q){bd(q)}g.currentTarget=null,y=A}else for(C=0;C<h.length;C++){if(D=h[C],A=D.instance,R=D.currentTarget,D=D.listener,A!==y&&g.isPropagationStopped())break e;y=D,g.currentTarget=R;try{y(g)}catch(q){bd(q)}g.currentTarget=null,y=A}}}}function Ve(a,l){var c=l[cm];c===void 0&&(c=l[cm]=new Set);var h=a+"__bubble";c.has(h)||(LD(l,a,2,!1),c.add(h))}function Qg(a,l,c){var h=0;l&&(h|=4),LD(c,a,h,l)}var r0="_reactListening"+Math.random().toString(36).slice(2);function Wg(a){if(!a[r0]){a[r0]=!0,OE.forEach(function(c){c!=="selectionchange"&&(x9.has(c)||Qg(c,!1,a),Qg(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[r0]||(l[r0]=!0,Qg("selectionchange",!1,l))}}function LD(a,l,c,h){switch(gk(l)){case 2:var g=Q9;break;case 8:g=W9;break;default:g=p4}c=g.bind(null,l,c,a),g=void 0,!bm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(l,c,{capture:!0,passive:g}):a.addEventListener(l,c,!0):g!==void 0?a.addEventListener(l,c,{passive:g}):a.addEventListener(l,c,!1)}function e4(a,l,c,h,g){var y=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var D=h.stateNode.containerInfo;if(D===g)break;if(C===4)for(C=h.return;C!==null;){var A=C.tag;if((A===3||A===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;D!==null;){if(C=_o(D),C===null)return;if(A=C.tag,A===5||A===6||A===26||A===27){h=y=C;continue e}D=D.parentNode}}h=h.return}VE(function(){var R=y,q=ym(c),W=[];e:{var F=E6.get(a);if(F!==void 0){var Z=gd,me=a;switch(a){case"keypress":if(pd(c)===0)break e;case"keydown":case"keyup":Z=yO;break;case"focusin":me="focus",Z=km;break;case"focusout":me="blur",Z=km;break;case"beforeblur":case"afterblur":Z=km;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=GE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=rO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=EO;break;case g6:case y6:case v6:Z=lO;break;case b6:Z=DO;break;case"scroll":case"scrollend":Z=iO;break;case"wheel":Z=xO;break;case"copy":case"cut":case"paste":Z=cO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=XE;break;case"toggle":case"beforetoggle":Z=wO}var we=(l&4)!==0,gt=!we&&(a==="scroll"||a==="scrollend"),O=we?F!==null?F+"Capture":null:F;we=[];for(var z=R,M;z!==null;){var Y=z;if(M=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||M===null||O===null||(Y=fs(z,O),Y!=null&&we.push(Hs(z,Y,M))),gt)break;z=z.return}0<we.length&&(F=new Z(F,me,null,c,q),W.push({event:F,listeners:we}))}}if((l&7)===0){e:{if(F=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",F&&c!==gm&&(me=c.relatedTarget||c.fromElement)&&(_o(me)||me[wo]))break e;if((Z||F)&&(F=q.window===q?q:(F=q.ownerDocument)?F.defaultView||F.parentWindow:window,Z?(me=c.relatedTarget||c.toElement,Z=R,me=me?_o(me):null,me!==null&&(gt=r(me),we=me.tag,me!==gt||we!==5&&we!==27&&we!==6)&&(me=null)):(Z=null,me=R),Z!==me)){if(we=GE,Y="onMouseLeave",O="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(we=XE,Y="onPointerLeave",O="onPointerEnter",z="pointer"),gt=Z==null?F:cs(Z),M=me==null?F:cs(me),F=new we(Y,z+"leave",Z,c,q),F.target=gt,F.relatedTarget=M,Y=null,_o(q)===R&&(we=new we(O,z+"enter",me,c,q),we.target=M,we.relatedTarget=gt,Y=we),gt=Y,Z&&me)t:{for(we=S9,O=Z,z=me,M=0,Y=O;Y;Y=we(Y))M++;Y=0;for(var ke=z;ke;ke=we(ke))Y++;for(;0<M-Y;)O=we(O),M--;for(;0<Y-M;)z=we(z),Y--;for(;M--;){if(O===z||z!==null&&O===z.alternate){we=O;break t}O=we(O),z=we(z)}we=null}else we=null;Z!==null&&ZD(W,F,Z,we,!1),me!==null&&gt!==null&&ZD(W,gt,me,we,!0)}}e:{if(F=R?cs(R):window,Z=F.nodeName&&F.nodeName.toLowerCase(),Z==="select"||Z==="input"&&F.type==="file")var ut=r6;else if(i6(F))if(a6)ut=MO;else{ut=OO;var ve=$O}else Z=F.nodeName,!Z||Z.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?R&&mm(R.elementType)&&(ut=r6):ut=IO;if(ut&&(ut=ut(a,R))){u6(W,ut,c,q);break e}ve&&ve(a,F,R),a==="focusout"&&R&&F.type==="number"&&R.memoizedProps.value!=null&&pm(F,"number",F.value)}switch(ve=R?cs(R):window,a){case"focusin":(i6(ve)||ve.contentEditable==="true")&&(Mo=ve,Bm=R,bs=null);break;case"focusout":bs=Bm=Mo=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,p6(W,c,q);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":p6(W,c,q)}var Ue;if(Sm)e:{switch(a){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Io?t6(a,c)&&(Xe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Xe="onCompositionStart");Xe&&(QE&&c.locale!=="ko"&&(Io||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Io&&(Ue=JE()):(mr=q,Em="value"in mr?mr.value:mr.textContent,Io=!0)),ve=a0(R,Xe),0<ve.length&&(Xe=new YE(Xe,a,null,c,q),W.push({event:Xe,listeners:ve}),Ue?Xe.data=Ue:(Ue=n6(c),Ue!==null&&(Xe.data=Ue)))),(Ue=AO?BO(a,c):TO(a,c))&&(Xe=a0(R,"onBeforeInput"),0<Xe.length&&(ve=new YE("onBeforeInput","beforeinput",null,c,q),W.push({event:ve,listeners:Xe}),ve.data=Ue)),C9(W,a,R,c,q)}jD(W,l)})}function Hs(a,l,c){return{instance:a,listener:l,currentTarget:c}}function a0(a,l){for(var c=l+"Capture",h=[];a!==null;){var g=a,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=fs(a,c),g!=null&&h.unshift(Hs(a,g,y)),g=fs(a,l),g!=null&&h.push(Hs(a,g,y))),a.tag===3)return h;a=a.return}return[]}function S9(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ZD(a,l,c,h,g){for(var y=l._reactName,C=[];c!==null&&c!==h;){var D=c,A=D.alternate,R=D.stateNode;if(D=D.tag,A!==null&&A===h)break;D!==5&&D!==26&&D!==27||R===null||(A=R,g?(R=fs(c,y),R!=null&&C.unshift(Hs(c,R,A))):g||(R=fs(c,y),R!=null&&C.push(Hs(c,R,A)))),c=c.return}C.length!==0&&a.push({event:l,listeners:C})}var w9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function PD(a){return(typeof a=="string"?a:""+a).replace(w9,`
`).replace(_9,"")}function HD(a,l){return l=PD(l),PD(a)===l}function mt(a,l,c,h,g,y){switch(c){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||No(a,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&No(a,""+h);break;case"className":cd(a,"class",h);break;case"tabIndex":cd(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":cd(a,c,h);break;case"style":HE(a,h,y);break;case"data":if(l!=="object"){cd(a,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=dd(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&mt(a,l,"name",g.name,g,null),mt(a,l,"formEncType",g.formEncType,g,null),mt(a,l,"formMethod",g.formMethod,g,null),mt(a,l,"formTarget",g.formTarget,g,null)):(mt(a,l,"encType",g.encType,g,null),mt(a,l,"method",g.method,g,null),mt(a,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=dd(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=wu);break;case"onScroll":h!=null&&Ve("scroll",a);break;case"onScrollEnd":h!=null&&Ve("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(u(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(u(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=dd(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Ve("beforetoggle",a),Ve("toggle",a),sd(a,"popover",h);break;case"xlinkActuate":Su(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Su(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Su(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Su(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Su(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Su(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Su(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Su(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Su(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":sd(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=tO.get(c)||c,sd(a,c,h))}}function t4(a,l,c,h,g,y){switch(c){case"style":HE(a,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(u(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(u(60));a.innerHTML=c}}break;case"children":typeof h=="string"?No(a,h):(typeof h=="number"||typeof h=="bigint")&&No(a,""+h);break;case"onScroll":h!=null&&Ve("scroll",a);break;case"onScrollEnd":h!=null&&Ve("scrollend",a);break;case"onClick":h!=null&&(a.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IE.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),l=c.slice(2,g?c.length-7:void 0),y=a[Fn]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(l,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,h,g);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):sd(a,c,h)}}}function dn(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",a),Ve("load",a);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var C=c[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,l));default:mt(a,l,y,C,c,null)}}g&&mt(a,l,"srcSet",c.srcSet,c,null),h&&mt(a,l,"src",c.src,c,null);return;case"input":Ve("invalid",a);var D=y=C=g=null,A=null,R=null;for(h in c)if(c.hasOwnProperty(h)){var q=c[h];if(q!=null)switch(h){case"name":g=q;break;case"type":C=q;break;case"checked":A=q;break;case"defaultChecked":R=q;break;case"value":y=q;break;case"defaultValue":D=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,l));break;default:mt(a,l,h,q,c,null)}}jE(a,y,D,A,R,C,g,!1);return;case"select":Ve("invalid",a),h=C=y=null;for(g in c)if(c.hasOwnProperty(g)&&(D=c[g],D!=null))switch(g){case"value":y=D;break;case"defaultValue":C=D;break;case"multiple":h=D;default:mt(a,l,g,D,c,null)}l=y,c=C,a.multiple=!!h,l!=null?zo(a,!!h,l,!1):c!=null&&zo(a,!!h,c,!0);return;case"textarea":Ve("invalid",a),y=g=h=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":h=D;break;case"defaultValue":g=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(u(91));break;default:mt(a,l,C,D,c,null)}ZE(a,h,g,y);return;case"option":for(A in c)if(c.hasOwnProperty(A)&&(h=c[A],h!=null))switch(A){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:mt(a,l,A,h,c,null)}return;case"dialog":Ve("beforetoggle",a),Ve("toggle",a),Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":Ve("load",a);break;case"video":case"audio":for(h=0;h<Ps.length;h++)Ve(Ps[h],a);break;case"image":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"embed":case"source":case"link":Ve("error",a),Ve("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in c)if(c.hasOwnProperty(R)&&(h=c[R],h!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,l));default:mt(a,l,R,h,c,null)}return;default:if(mm(l)){for(q in c)c.hasOwnProperty(q)&&(h=c[q],h!==void 0&&t4(a,l,q,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&mt(a,l,D,h,c,null))}function A9(a,l,c,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,D=null,A=null,R=null,q=null;for(Z in c){var W=c[Z];if(c.hasOwnProperty(Z)&&W!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":A=W;default:h.hasOwnProperty(Z)||mt(a,l,Z,null,h,W)}}for(var F in h){var Z=h[F];if(W=c[F],h.hasOwnProperty(F)&&(Z!=null||W!=null))switch(F){case"type":y=Z;break;case"name":g=Z;break;case"checked":R=Z;break;case"defaultChecked":q=Z;break;case"value":C=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,l));break;default:Z!==W&&mt(a,l,F,Z,h,W)}}hm(a,C,D,A,R,q,y,g);return;case"select":Z=C=D=F=null;for(y in c)if(A=c[y],c.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":Z=A;default:h.hasOwnProperty(y)||mt(a,l,y,null,h,A)}for(g in h)if(y=h[g],A=c[g],h.hasOwnProperty(g)&&(y!=null||A!=null))switch(g){case"value":F=y;break;case"defaultValue":D=y;break;case"multiple":C=y;default:y!==A&&mt(a,l,g,y,h,A)}l=D,c=C,h=Z,F!=null?zo(a,!!c,F,!1):!!h!=!!c&&(l!=null?zo(a,!!c,l,!0):zo(a,!!c,c?[]:"",!1));return;case"textarea":Z=F=null;for(D in c)if(g=c[D],c.hasOwnProperty(D)&&g!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:mt(a,l,D,null,h,g)}for(C in h)if(g=h[C],y=c[C],h.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":F=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(u(91));break;default:g!==y&&mt(a,l,C,g,h,y)}LE(a,F,Z);return;case"option":for(var me in c)if(F=c[me],c.hasOwnProperty(me)&&F!=null&&!h.hasOwnProperty(me))switch(me){case"selected":a.selected=!1;break;default:mt(a,l,me,null,h,F)}for(A in h)if(F=h[A],Z=c[A],h.hasOwnProperty(A)&&F!==Z&&(F!=null||Z!=null))switch(A){case"selected":a.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:mt(a,l,A,F,h,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)F=c[we],c.hasOwnProperty(we)&&F!=null&&!h.hasOwnProperty(we)&&mt(a,l,we,null,h,F);for(R in h)if(F=h[R],Z=c[R],h.hasOwnProperty(R)&&F!==Z&&(F!=null||Z!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(u(137,l));break;default:mt(a,l,R,F,h,Z)}return;default:if(mm(l)){for(var gt in c)F=c[gt],c.hasOwnProperty(gt)&&F!==void 0&&!h.hasOwnProperty(gt)&&t4(a,l,gt,void 0,h,F);for(q in h)F=h[q],Z=c[q],!h.hasOwnProperty(q)||F===Z||F===void 0&&Z===void 0||t4(a,l,q,F,h,Z);return}}for(var O in c)F=c[O],c.hasOwnProperty(O)&&F!=null&&!h.hasOwnProperty(O)&&mt(a,l,O,null,h,F);for(W in h)F=h[W],Z=c[W],!h.hasOwnProperty(W)||F===Z||F==null&&Z==null||mt(a,l,W,F,h,Z)}function qD(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B9(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,C=g.initiatorType,D=g.duration;if(y&&D&&qD(C)){for(C=0,D=g.responseEnd,h+=1;h<c.length;h++){var A=c[h],R=A.startTime;if(R>D)break;var q=A.transferSize,W=A.initiatorType;q&&qD(W)&&(A=A.responseEnd,C+=q*(A<D?1:(D-R)/(A-R)))}if(--h,l+=8*(y+C)/(g.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var n4=null,i4=null;function o0(a){return a.nodeType===9?a:a.ownerDocument}function VD(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JD(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function u4(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var r4=null;function T9(){var a=window.event;return a&&a.type==="popstate"?a===r4?!1:(r4=a,!0):(r4=null,!1)}var KD=typeof setTimeout=="function"?setTimeout:void 0,z9=typeof clearTimeout=="function"?clearTimeout:void 0,GD=typeof Promise=="function"?Promise:void 0,N9=typeof queueMicrotask=="function"?queueMicrotask:typeof GD<"u"?function(a){return GD.resolve(null).then(a).catch($9)}:KD;function $9(a){setTimeout(function(){throw a})}function Nr(a){return a==="head"}function YD(a,l){var c=l,h=0;do{var g=c.nextSibling;if(a.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(g),sl(l);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")qs(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,qs(c);for(var y=c.firstChild;y;){var C=y.nextSibling,D=y.nodeName;y[ss]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=C}}else c==="body"&&qs(a.ownerDocument.body);c=g}while(c);sl(l)}function XD(a,l){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function a4(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":a4(c),fm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function O9(a,l,c,h){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[ss])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Ni(a.nextSibling),a===null)break}return null}function I9(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ni(a.nextSibling),a===null))return null;return a}function QD(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ni(a.nextSibling),a===null))return null;return a}function o4(a){return a.data==="$?"||a.data==="$~"}function l4(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function M9(a,l){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||c.readyState!=="loading")l();else{var h=function(){l(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ni(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var s4=null;function WD(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(l===0)return Ni(a.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}a=a.nextSibling}return null}function ek(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return a;l--}else c!=="/$"&&c!=="/&"||l++}a=a.previousSibling}return null}function tk(a,l,c){switch(l=o0(c),a){case"html":if(a=l.documentElement,!a)throw Error(u(452));return a;case"head":if(a=l.head,!a)throw Error(u(453));return a;case"body":if(a=l.body,!a)throw Error(u(454));return a;default:throw Error(u(451))}}function qs(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);fm(a)}var $i=new Map,nk=new Set;function l0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Zu=te.d;te.d={f:R9,r:F9,D:U9,C:j9,L:L9,m:Z9,X:H9,S:P9,M:q9};function R9(){var a=Zu.f(),l=Wd();return a||l}function F9(a){var l=Ao(a);l!==null&&l.tag===5&&l.type==="form"?bC(l):Zu.r(a)}var al=typeof document>"u"?null:document;function ik(a,l,c){var h=al;if(h&&typeof l=="string"&&l){var g=Si(l);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),nk.has(g)||(nk.add(g),a={rel:a,crossOrigin:c,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),dn(l,"link",a),nn(l),h.head.appendChild(l)))}}function U9(a){Zu.D(a),ik("dns-prefetch",a,null)}function j9(a,l){Zu.C(a,l),ik("preconnect",a,l)}function L9(a,l,c){Zu.L(a,l,c);var h=al;if(h&&a&&l){var g='link[rel="preload"][as="'+Si(l)+'"]';l==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Si(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Si(c.imageSizes)+'"]')):g+='[href="'+Si(a)+'"]';var y=g;switch(l){case"style":y=ol(a);break;case"script":y=ll(a)}$i.has(y)||(a=m({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),$i.set(y,a),h.querySelector(g)!==null||l==="style"&&h.querySelector(Vs(y))||l==="script"&&h.querySelector(Js(y))||(l=h.createElement("link"),dn(l,"link",a),nn(l),h.head.appendChild(l)))}}function Z9(a,l){Zu.m(a,l);var c=al;if(c&&a){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Si(h)+'"][href="'+Si(a)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(a)}if(!$i.has(y)&&(a=m({rel:"modulepreload",href:a},l),$i.set(y,a),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Js(y)))return}h=c.createElement("link"),dn(h,"link",a),nn(h),c.head.appendChild(h)}}}function P9(a,l,c){Zu.S(a,l,c);var h=al;if(h&&a){var g=Bo(h).hoistableStyles,y=ol(a);l=l||"default";var C=g.get(y);if(!C){var D={loading:0,preload:null};if(C=h.querySelector(Vs(y)))D.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},c),(c=$i.get(y))&&c4(a,c);var A=C=h.createElement("link");nn(A),dn(A,"link",a),A._p=new Promise(function(R,q){A.onload=R,A.onerror=q}),A.addEventListener("load",function(){D.loading|=1}),A.addEventListener("error",function(){D.loading|=2}),D.loading|=4,s0(C,l,h)}C={type:"stylesheet",instance:C,count:1,state:D},g.set(y,C)}}}function H9(a,l){Zu.X(a,l);var c=al;if(c&&a){var h=Bo(c).hoistableScripts,g=ll(a),y=h.get(g);y||(y=c.querySelector(Js(g)),y||(a=m({src:a,async:!0},l),(l=$i.get(g))&&f4(a,l),y=c.createElement("script"),nn(y),dn(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function q9(a,l){Zu.M(a,l);var c=al;if(c&&a){var h=Bo(c).hoistableScripts,g=ll(a),y=h.get(g);y||(y=c.querySelector(Js(g)),y||(a=m({src:a,async:!0,type:"module"},l),(l=$i.get(g))&&f4(a,l),y=c.createElement("script"),nn(y),dn(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function uk(a,l,c,h){var g=(g=De.current)?l0(g):null;if(!g)throw Error(u(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=ol(c.href),c=Bo(g).hoistableStyles,h=c.get(l),h||(h={type:"style",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ol(c.href);var y=Bo(g).hoistableStyles,C=y.get(a);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,C),(y=g.querySelector(Vs(a)))&&!y._p&&(C.instance=y,C.state.loading=5),$i.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},$i.set(a,c),y||V9(g,a,c,C.state))),l&&h===null)throw Error(u(528,""));return C}if(l&&h!==null)throw Error(u(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ll(c),c=Bo(g).hoistableScripts,h=c.get(l),h||(h={type:"script",instance:null,count:0,state:null},c.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,a))}}function ol(a){return'href="'+Si(a)+'"'}function Vs(a){return'link[rel="stylesheet"]['+a+"]"}function rk(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function V9(a,l,c,h){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=a.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),dn(l,"link",c),nn(l),a.head.appendChild(l))}function ll(a){return'[src="'+Si(a)+'"]'}function Js(a){return"script[async]"+a}function ak(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var h=a.querySelector('style[data-href~="'+Si(c.href)+'"]');if(h)return l.instance=h,nn(h),h;var g=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),nn(h),dn(h,"style",g),s0(h,c.precedence,a),l.instance=h;case"stylesheet":g=ol(c.href);var y=a.querySelector(Vs(g));if(y)return l.state.loading|=4,l.instance=y,nn(y),y;h=rk(c),(g=$i.get(g))&&c4(h,g),y=(a.ownerDocument||a).createElement("link"),nn(y);var C=y;return C._p=new Promise(function(D,A){C.onload=D,C.onerror=A}),dn(y,"link",h),l.state.loading|=4,s0(y,c.precedence,a),l.instance=y;case"script":return y=ll(c.src),(g=a.querySelector(Js(y)))?(l.instance=g,nn(g),g):(h=c,(g=$i.get(y))&&(h=m({},c),f4(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),nn(g),dn(g,"link",h),a.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(u(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,s0(h,c.precedence,a));return l.instance}function s0(a,l,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,C=0;C<h.length;C++){var D=h[C];if(D.dataset.precedence===l)y=D;else if(y!==g)break}y?y.parentNode.insertBefore(a,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function c4(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function f4(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var c0=null;function ok(a,l,c){if(c0===null){var h=new Map,g=c0=new Map;g.set(c,h)}else g=c0,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var y=c[g];if(!(y[ss]||y[ln]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(l)||"";C=a+C;var D=h.get(C);D?D.push(y):h.set(C,[y])}}return h}function lk(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function J9(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sk(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function K9(a,l,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=ol(h.href),y=l.querySelector(Vs(g));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=f0.bind(a),l.then(a,a)),c.state.loading|=4,c.instance=y,nn(y);return}y=l.ownerDocument||l,h=rk(h),(g=$i.get(g))&&c4(h,g),y=y.createElement("link"),nn(y);var C=y;C._p=new Promise(function(D,A){C.onload=D,C.onerror=A}),dn(y,"link",h),c.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=f0.bind(a),l.addEventListener("load",c),l.addEventListener("error",c))}}var d4=0;function G9(a,l){return a.stylesheets&&a.count===0&&h0(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&h0(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+l);0<a.imgBytes&&d4===0&&(d4=62500*B9());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&h0(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>d4?50:800)+l);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function f0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)h0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var d0=null;function h0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,d0=new Map,l.forEach(Y9,a),d0=null,f0.call(a))}function Y9(a,l){if(!(l.state.loading&4)){var c=d0.get(a);if(c)var h=c.get(null);else{c=new Map,d0.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}g=l.instance,C=g.getAttribute("data-precedence"),y=c.get(C)||h,y===h&&c.set(null,g),c.set(C,g),this.count++,h=f0.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),l.state.loading|=4}}var Ks={$$typeof:$,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function X9(a,l,c,h,g,y,C,D,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=om(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.hiddenUpdates=om(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ck(a,l,c,h,g,y,C,D,A,R,q,W){return a=new X9(a,l,c,C,A,R,q,W,D),l=1,y===!0&&(l|=24),y=ai(3,null,null,l),a.current=y,y.stateNode=a,l=qm(),l.refCount++,a.pooledCache=l,l.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:l},Gm(y),a}function fk(a){return a?(a=Uo,a):Uo}function dk(a,l,c,h,g,y){g=fk(g),h.context===null?h.context=g:h.pendingContext=g,h=Cr(l),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Dr(a,h,l),c!==null&&(Hn(c,a,l),ws(c,a,l))}function hk(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function h4(a,l){hk(a,l),(a=a.alternate)&&hk(a,l)}function pk(a){if(a.tag===13||a.tag===31){var l=ya(a,67108864);l!==null&&Hn(l,a,67108864),h4(a,67108864)}}function mk(a){if(a.tag===13||a.tag===31){var l=fi();l=lm(l);var c=ya(a,l);c!==null&&Hn(c,a,l),h4(a,l)}}var p0=!0;function Q9(a,l,c,h){var g=j.T;j.T=null;var y=te.p;try{te.p=2,p4(a,l,c,h)}finally{te.p=y,j.T=g}}function W9(a,l,c,h){var g=j.T;j.T=null;var y=te.p;try{te.p=8,p4(a,l,c,h)}finally{te.p=y,j.T=g}}function p4(a,l,c,h){if(p0){var g=m4(h);if(g===null)e4(a,l,h,m0,c),yk(a,h);else if(tI(g,a,l,c,h))h.stopPropagation();else if(yk(a,h),l&4&&-1<eI.indexOf(a)){for(;g!==null;){var y=Ao(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=da(y.pendingLanes);if(C!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var A=1<<31-bt(C);D.entanglements[1]|=A,C&=~A}cu(y),(at&6)===0&&(Xd=Tn()+500,Zs(0))}}break;case 31:case 13:D=ya(y,2),D!==null&&Hn(D,y,2),Wd(),h4(y,2)}if(y=m4(h),y===null&&e4(a,l,h,m0,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else e4(a,l,h,null,c)}}function m4(a){return a=ym(a),g4(a)}var m0=null;function g4(a){if(m0=null,a=_o(a),a!==null){var l=r(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=o(l),a!==null)return a;a=null}else if(c===31){if(a=s(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return m0=a,null}function gk(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(am()){case K:return 2;case ae:return 8;case Be:case He:return 32;case lt:return 268435456;default:return 32}default:return 32}}var y4=!1,$r=null,Or=null,Ir=null,Gs=new Map,Ys=new Map,Mr=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yk(a,l){switch(a){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Gs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(l.pointerId)}}function Xs(a,l,c,h,g,y){return a===null||a.nativeEvent!==y?(a={blockedOn:l,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},l!==null&&(l=Ao(l),l!==null&&pk(l)),a):(a.eventSystemFlags|=h,l=a.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),a)}function tI(a,l,c,h,g){switch(l){case"focusin":return $r=Xs($r,a,l,c,h,g),!0;case"dragenter":return Or=Xs(Or,a,l,c,h,g),!0;case"mouseover":return Ir=Xs(Ir,a,l,c,h,g),!0;case"pointerover":var y=g.pointerId;return Gs.set(y,Xs(Gs.get(y)||null,a,l,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ys.set(y,Xs(Ys.get(y)||null,a,l,c,h,g)),!0}return!1}function vk(a){var l=_o(a.target);if(l!==null){var c=r(l);if(c!==null){if(l=c.tag,l===13){if(l=o(c),l!==null){a.blockedOn=l,NE(a.priority,function(){mk(c)});return}}else if(l===31){if(l=s(c),l!==null){a.blockedOn=l,NE(a.priority,function(){mk(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function g0(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=m4(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);gm=h,c.target.dispatchEvent(h),gm=null}else return l=Ao(c),l!==null&&pk(l),a.blockedOn=c,!1;l.shift()}return!0}function bk(a,l,c){g0(a)&&c.delete(l)}function nI(){y4=!1,$r!==null&&g0($r)&&($r=null),Or!==null&&g0(Or)&&(Or=null),Ir!==null&&g0(Ir)&&(Ir=null),Gs.forEach(bk),Ys.forEach(bk)}function y0(a,l){a.blockedOn===l&&(a.blockedOn=null,y4||(y4=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nI)))}var v0=null;function Ek(a){v0!==a&&(v0=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){v0===a&&(v0=null);for(var l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=a[l+2];if(typeof h!="function"){if(g4(h||c)===null)continue;break}var y=Ao(c);y!==null&&(a.splice(l,3),l-=3,mg(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function sl(a){function l(A){return y0(A,a)}$r!==null&&y0($r,a),Or!==null&&y0(Or,a),Ir!==null&&y0(Ir,a),Gs.forEach(l),Ys.forEach(l);for(var c=0;c<Mr.length;c++){var h=Mr[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Mr.length&&(c=Mr[0],c.blockedOn===null);)vk(c),c.blockedOn===null&&Mr.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],C=g[Fn]||null;if(typeof y=="function")C||Ek(c);else if(C){var D=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[Fn]||null)D=C.formAction;else if(g4(g)!==null)continue}else D=C.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),Ek(c)}}}function Ck(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function l(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),g!==null&&(g(),g=null)}}}function v4(a){this._internalRoot=a}b0.prototype.render=v4.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(u(409));var c=l.current,h=fi();dk(c,h,a,l,null,null)},b0.prototype.unmount=v4.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;dk(a.current,2,null,a,null,null),Wd(),l[wo]=null}};function b0(a){this._internalRoot=a}b0.prototype.unstable_scheduleHydration=function(a){if(a){var l=zE();a={blockedOn:null,target:a,priority:l};for(var c=0;c<Mr.length&&l!==0&&l<Mr[c].priority;c++);Mr.splice(c,0,a),c===0&&vk(a)}};var Dk=t.version;if(Dk!=="19.2.3")throw Error(u(527,Dk,"19.2.3"));te.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(u(188)):(a=Object.keys(a).join(","),Error(u(268,a)));return a=d(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var iI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{zn=E0.inject(iI),Wt=E0}catch{}}return Qs.createRoot=function(a,l){if(!i(a))throw Error(u(299));var c=!1,h="",g=BC,y=TC,C=zC;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=ck(a,1,!1,null,null,c,h,null,g,y,C,Ck),a[wo]=l.current,Wg(a),new v4(l)},Qs.hydrateRoot=function(a,l,c){if(!i(a))throw Error(u(299));var h=!1,g="",y=BC,C=TC,D=zC,A=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(A=c.formState)),l=ck(a,1,!0,l,c??null,h,g,A,y,C,D,Ck),l.context=fk(null),c=l.current,h=fi(),h=lm(h),g=Cr(h),g.callback=null,Dr(c,g,h),c=h,l.current.lanes=c,ls(l,c),cu(l),a[wo]=l.current,Wg(a),new b0(l)},Qs.version="19.2.3",Qs}var Nk;function hI(){if(Nk)return E4.exports;Nk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E4.exports=dI(),E4.exports}var pI=hI(),x4={exports:{}},Ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function mI(){if($k)return Ws;$k=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(u,i,r){var o=null;if(r!==void 0&&(o=""+r),i.key!==void 0&&(o=""+i.key),"key"in i){r={};for(var s in i)s!=="key"&&(r[s]=i[s])}else r=i;return i=r.ref,{$$typeof:e,type:u,key:o,ref:i!==void 0?i:null,props:r}}return Ws.Fragment=t,Ws.jsx=n,Ws.jsxs=n,Ws}var Ok;function gI(){return Ok||(Ok=1,x4.exports=mI()),x4.exports}var Mi=gI();function G(e,t,n){function u(s,f){var d;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(d=s._zod).traits??(d.traits=new Set),s._zod.traits.add(e),t(s,f);for(const p in o.prototype)p in s||Object.defineProperty(s,p,{value:o.prototype[p].bind(s)});s._zod.constr=o,s._zod.def=f}const i=(n==null?void 0:n.Parent)??Object;class r extends i{}Object.defineProperty(r,"name",{value:e});function o(s){var f;const d=n!=null&&n.Parent?new r:this;u(d,s),(f=d._zod).deferred??(f.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(o,"init",{value:u}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>{var f,d;return n!=null&&n.Parent&&s instanceof n.Parent?!0:(d=(f=s==null?void 0:s._zod)==null?void 0:f.traits)==null?void 0:d.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class $c extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const b2={};function ea(e){return b2}function yI(e){const t=Object.values(e).filter(u=>typeof u=="number");return Object.entries(e).filter(([u,i])=>t.indexOf(+u)===-1).map(([u,i])=>i)}function vI(e,t){return typeof t=="bigint"?t.toString():t}function Dy(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ky(e){return e==null}function xy(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function bI(e,t){const n=(e.toString().split(".")[1]||"").length,u=(t.toString().split(".")[1]||"").length,i=n>u?n:u,r=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return r%o/10**i}function Bt(e,t,n){Object.defineProperty(e,t,{get(){{const u=n();return e[t]=u,u}},set(u){Object.defineProperty(e,t,{value:u})},configurable:!0})}function Uh(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ec(e){return JSON.stringify(e)}const E2=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function lh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const EI=Dy(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function sh(e){if(lh(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(lh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const CI=new Set(["string","number","symbol"]);function of(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ho(e,t,n){const u=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(u._zod.parent=e),u}function be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function DI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const kI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function xI(e,t){const n={},u=e._zod.def;for(const i in t){if(!(i in u.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(n[i]=u.shape[i])}return ho(e,{...e._zod.def,shape:n,checks:[]})}function SI(e,t){const n={...e._zod.def.shape},u=e._zod.def;for(const i in t){if(!(i in u.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete n[i]}return ho(e,{...e._zod.def,shape:n,checks:[]})}function wI(e,t){if(!sh(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const u={...e._zod.def.shape,...t};return Uh(this,"shape",u),u},checks:[]};return ho(e,n)}function _I(e,t){return ho(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Uh(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function AI(e,t,n){const u=t._zod.def.shape,i={...u};if(n)for(const r in n){if(!(r in u))throw new Error(`Unrecognized key: "${r}"`);n[r]&&(i[r]=e?new e({type:"optional",innerType:u[r]}):u[r])}else for(const r in u)i[r]=e?new e({type:"optional",innerType:u[r]}):u[r];return ho(t,{...t._zod.def,shape:i,checks:[]})}function BI(e,t,n){const u=t._zod.def.shape,i={...u};if(n)for(const r in n){if(!(r in i))throw new Error(`Unrecognized key: "${r}"`);n[r]&&(i[r]=new e({type:"nonoptional",innerType:u[r]}))}else for(const r in u)i[r]=new e({type:"nonoptional",innerType:u[r]});return ho(t,{...t._zod.def,shape:i,checks:[]})}function vc(e,t=0){var n;for(let u=t;u<e.issues.length;u++)if(((n=e.issues[u])==null?void 0:n.continue)!==!0)return!0;return!1}function Ma(e,t){return t.map(n=>{var u;return(u=n).path??(u.path=[]),n.path.unshift(e),n})}function C0(e){return typeof e=="string"?e:e==null?void 0:e.message}function ta(e,t,n){var i,r,o,s,f,d;const u={...e,path:e.path??[]};if(!e.message){const p=C0((o=(r=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:r.error)==null?void 0:o.call(r,e))??C0((s=t==null?void 0:t.error)==null?void 0:s.call(t,e))??C0((f=n.customError)==null?void 0:f.call(n,e))??C0((d=n.localeError)==null?void 0:d.call(n,e))??"Invalid input";u.message=p}return delete u.inst,delete u.continue,t!=null&&t.reportInput||delete u.input,u}function Sy(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Oc(...e){const[t,n,u]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:u}:{...t}}const C2=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,vI,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},D2=G("$ZodError",C2),k2=G("$ZodError",C2,{Parent:Error});function TI(e,t=n=>n.message){const n={},u=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):u.push(t(i));return{formErrors:u,fieldErrors:n}}function zI(e,t){const n=t||function(r){return r.message},u={_errors:[]},i=r=>{for(const o of r.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>i({issues:s}));else if(o.code==="invalid_key")i({issues:o.issues});else if(o.code==="invalid_element")i({issues:o.issues});else if(o.path.length===0)u._errors.push(n(o));else{let s=u,f=0;for(;f<o.path.length;){const d=o.path[f];f===o.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(n(o))):s[d]=s[d]||{_errors:[]},s=s[d],f++}}};return i(e),u}const NI=e=>(t,n,u,i)=>{const r=u?Object.assign(u,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},r);if(o instanceof Promise)throw new $c;if(o.issues.length){const s=new((i==null?void 0:i.Err)??e)(o.issues.map(f=>ta(f,r,ea())));throw E2(s,i==null?void 0:i.callee),s}return o.value},$I=e=>async(t,n,u,i)=>{const r=u?Object.assign(u,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},r);if(o instanceof Promise&&(o=await o),o.issues.length){const s=new((i==null?void 0:i.Err)??e)(o.issues.map(f=>ta(f,r,ea())));throw E2(s,i==null?void 0:i.callee),s}return o.value},x2=e=>(t,n,u)=>{const i=u?{...u,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},i);if(r instanceof Promise)throw new $c;return r.issues.length?{success:!1,error:new(e??D2)(r.issues.map(o=>ta(o,i,ea())))}:{success:!0,data:r.value}},S2=x2(k2),w2=e=>async(t,n,u)=>{const i=u?Object.assign(u,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},i);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(o=>ta(o,i,ea())))}:{success:!0,data:r.value}},OI=w2(k2),II=/^[cC][^\s-]{8,}$/,MI=/^[0-9a-z]+$/,RI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,FI=/^[0-9a-vA-V]{20}$/,UI=/^[A-Za-z0-9]{27}$/,jI=/^[a-zA-Z0-9_-]{21}$/,LI=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ZI=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Ik=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,PI=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,HI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function qI(){return new RegExp(HI,"u")}const VI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,JI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,KI=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,GI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YI=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_2=/^[A-Za-z0-9_-]*$/,XI=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,QI=/^\+(?:[0-9]){6,14}[0-9]$/,A2="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",WI=new RegExp(`^${A2}$`);function B2(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function e8(e){return new RegExp(`^${B2(e)}$`)}function t8(e){const t=B2({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const u=`${t}(?:${n.join("|")})`;return new RegExp(`^${A2}T(?:${u})$`)}const n8=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},i8=/^\d+$/,u8=/^-?\d+(?:\.\d+)?/i,r8=/true|false/i,a8=/null/i,o8=/^[^A-Z]*$/,l8=/^[^a-z]*$/,Wn=G("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),T2={number:"number",bigint:"bigint",object:"date"},z2=G("$ZodCheckLessThan",(e,t)=>{Wn.init(e,t);const n=T2[typeof t.value];e._zod.onattach.push(u=>{const i=u._zod.bag,r=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=u=>{(t.inclusive?u.value<=t.value:u.value<t.value)||u.issues.push({origin:n,code:"too_big",maximum:t.value,input:u.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),N2=G("$ZodCheckGreaterThan",(e,t)=>{Wn.init(e,t);const n=T2[typeof t.value];e._zod.onattach.push(u=>{const i=u._zod.bag,r=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=u=>{(t.inclusive?u.value>=t.value:u.value>t.value)||u.issues.push({origin:n,code:"too_small",minimum:t.value,input:u.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),s8=G("$ZodCheckMultipleOf",(e,t)=>{Wn.init(e,t),e._zod.onattach.push(n=>{var u;(u=n._zod.bag).multipleOf??(u.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):bI(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),c8=G("$ZodCheckNumberFormat",(e,t)=>{var o;Wn.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),u=n?"int":"number",[i,r]=kI[t.format];e._zod.onattach.push(s=>{const f=s._zod.bag;f.format=t.format,f.minimum=i,f.maximum=r,n&&(f.pattern=i8)}),e._zod.check=s=>{const f=s.value;if(n){if(!Number.isInteger(f)){s.issues.push({expected:u,format:t.format,code:"invalid_type",input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?s.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:u,continue:!t.abort}):s.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:u,continue:!t.abort});return}}f<i&&s.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>r&&s.issues.push({origin:"number",input:f,code:"too_big",maximum:r,inst:e})}}),f8=G("$ZodCheckMaxLength",(e,t)=>{var n;Wn.init(e,t),(n=e._zod.def).when??(n.when=u=>{const i=u.value;return!ky(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{const i=u._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(u._zod.bag.maximum=t.maximum)}),e._zod.check=u=>{const i=u.value;if(i.length<=t.maximum)return;const o=Sy(i);u.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),d8=G("$ZodCheckMinLength",(e,t)=>{var n;Wn.init(e,t),(n=e._zod.def).when??(n.when=u=>{const i=u.value;return!ky(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{const i=u._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(u._zod.bag.minimum=t.minimum)}),e._zod.check=u=>{const i=u.value;if(i.length>=t.minimum)return;const o=Sy(i);u.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),h8=G("$ZodCheckLengthEquals",(e,t)=>{var n;Wn.init(e,t),(n=e._zod.def).when??(n.when=u=>{const i=u.value;return!ky(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{const i=u._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=u=>{const i=u.value,r=i.length;if(r===t.length)return;const o=Sy(i),s=r>t.length;u.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:u.value,inst:e,continue:!t.abort})}}),jh=G("$ZodCheckStringFormat",(e,t)=>{var n,u;Wn.init(e,t),e._zod.onattach.push(i=>{const r=i._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(u=e._zod).check??(u.check=()=>{})}),p8=G("$ZodCheckRegex",(e,t)=>{jh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),m8=G("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=o8),jh.init(e,t)}),g8=G("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=l8),jh.init(e,t)}),y8=G("$ZodCheckIncludes",(e,t)=>{Wn.init(e,t);const n=of(t.includes),u=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=u,e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(u)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),v8=G("$ZodCheckStartsWith",(e,t)=>{Wn.init(e,t);const n=new RegExp(`^${of(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(u=>{const i=u._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=u=>{u.value.startsWith(t.prefix)||u.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:u.value,inst:e,continue:!t.abort})}}),b8=G("$ZodCheckEndsWith",(e,t)=>{Wn.init(e,t);const n=new RegExp(`.*${of(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(u=>{const i=u._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=u=>{u.value.endsWith(t.suffix)||u.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:u.value,inst:e,continue:!t.abort})}}),E8=G("$ZodCheckOverwrite",(e,t)=>{Wn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class C8{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const u=t.split(`
`).filter(o=>o),i=Math.min(...u.map(o=>o.length-o.trimStart().length)),r=u.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of r)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,i.join(`
`))}}const D8={major:4,minor:0,patch:0},zt=G("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=D8;const u=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&u.unshift(e);for(const r of u)for(const o of r._zod.onattach)o(e);if(u.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const r=(o,s,f)=>{let d=vc(o),p;for(const m of s){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,b=m._zod.check(o);if(b instanceof Promise&&(f==null?void 0:f.async)===!1)throw new $c;if(p||b instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await b,o.issues.length!==v&&(d||(d=vc(o,v)))});else{if(o.issues.length===v)continue;d||(d=vc(o,v))}}return p?p.then(()=>o):o};e._zod.run=(o,s)=>{const f=e._zod.parse(o,s);if(f instanceof Promise){if(s.async===!1)throw new $c;return f.then(d=>r(d,u,s))}return r(f,u,s)}}e["~standard"]={validate:r=>{var o;try{const s=S2(e,r);return s.success?{value:s.data}:{issues:(o=s.error)==null?void 0:o.issues}}catch{return OI(e,r).then(f=>{var d;return f.success?{value:f.data}:{issues:(d=f.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}}),wy=G("$ZodString",(e,t)=>{var n;zt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??n8(e._zod.bag),e._zod.parse=(u,i)=>{if(t.coerce)try{u.value=String(u.value)}catch{}return typeof u.value=="string"||u.issues.push({expected:"string",code:"invalid_type",input:u.value,inst:e}),u}}),Mt=G("$ZodStringFormat",(e,t)=>{jh.init(e,t),wy.init(e,t)}),k8=G("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=ZI),Mt.init(e,t)}),x8=G("$ZodUUID",(e,t)=>{if(t.version){const u={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(u===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Ik(u))}else t.pattern??(t.pattern=Ik());Mt.init(e,t)}),S8=G("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=PI),Mt.init(e,t)}),w8=G("$ZodURL",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{try{const u=n.value,i=new URL(u),r=i.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:XI.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!u.endsWith("/")&&r.endsWith("/")?n.value=r.slice(0,-1):n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),_8=G("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=qI()),Mt.init(e,t)}),A8=G("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jI),Mt.init(e,t)}),B8=G("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=II),Mt.init(e,t)}),T8=G("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=MI),Mt.init(e,t)}),z8=G("$ZodULID",(e,t)=>{t.pattern??(t.pattern=RI),Mt.init(e,t)}),N8=G("$ZodXID",(e,t)=>{t.pattern??(t.pattern=FI),Mt.init(e,t)}),$8=G("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=UI),Mt.init(e,t)}),O8=G("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=t8(t)),Mt.init(e,t)}),I8=G("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=WI),Mt.init(e,t)}),M8=G("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=e8(t)),Mt.init(e,t)}),R8=G("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=LI),Mt.init(e,t)}),F8=G("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=VI),Mt.init(e,t),e._zod.onattach.push(n=>{const u=n._zod.bag;u.format="ipv4"})}),U8=G("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=JI),Mt.init(e,t),e._zod.onattach.push(n=>{const u=n._zod.bag;u.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),j8=G("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=KI),Mt.init(e,t)}),L8=G("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=GI),Mt.init(e,t),e._zod.check=n=>{const[u,i]=n.value.split("/");try{if(!i)throw new Error;const r=Number(i);if(`${r}`!==i)throw new Error;if(r<0||r>128)throw new Error;new URL(`http://[${u}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $2(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Z8=G("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=YI),Mt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{$2(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function P8(e){if(!_2.test(e))return!1;const t=e.replace(/[-_]/g,u=>u==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $2(n)}const H8=G("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=_2),Mt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{P8(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),q8=G("$ZodE164",(e,t)=>{t.pattern??(t.pattern=QI),Mt.init(e,t)});function V8(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[u]=n;if(!u)return!1;const i=JSON.parse(atob(u));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const J8=G("$ZodJWT",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{V8(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),O2=G("$ZodNumber",(e,t)=>{zt.init(e,t),e._zod.pattern=e._zod.bag.pattern??u8,e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const r=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...r?{received:r}:{}}),n}}),K8=G("$ZodNumber",(e,t)=>{c8.init(e,t),O2.init(e,t)}),G8=G("$ZodBoolean",(e,t)=>{zt.init(e,t),e._zod.pattern=r8,e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Y8=G("$ZodNull",(e,t)=>{zt.init(e,t),e._zod.pattern=a8,e._zod.values=new Set([null]),e._zod.parse=(n,u)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),n}}),X8=G("$ZodUnknown",(e,t)=>{zt.init(e,t),e._zod.parse=n=>n}),Q8=G("$ZodNever",(e,t)=>{zt.init(e,t),e._zod.parse=(n,u)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Mk(e,t,n){e.issues.length&&t.issues.push(...Ma(n,e.issues)),t.value[n]=e.value}const W8=G("$ZodArray",(e,t)=>{zt.init(e,t),e._zod.parse=(n,u)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const r=[];for(let o=0;o<i.length;o++){const s=i[o],f=t.element._zod.run({value:s,issues:[]},u);f instanceof Promise?r.push(f.then(d=>Mk(d,n,o))):Mk(f,n,o)}return r.length?Promise.all(r).then(()=>n):n}});function D0(e,t,n){e.issues.length&&t.issues.push(...Ma(n,e.issues)),t.value[n]=e.value}function Rk(e,t,n,u){e.issues.length?u[n]===void 0?n in u?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Ma(n,e.issues)):e.value===void 0?n in u&&(t.value[n]=void 0):t.value[n]=e.value}const eM=G("$ZodObject",(e,t)=>{zt.init(e,t);const n=Dy(()=>{const m=Object.keys(t.shape);for(const b of m)if(!(t.shape[b]instanceof zt))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const v=DI(t.shape);return{shape:t.shape,keys:m,keySet:new Set(m),numKeys:m.length,optionalKeys:new Set(v)}});Bt(e._zod,"propValues",()=>{const m=t.shape,v={};for(const b in m){const E=m[b]._zod;if(E.values){v[b]??(v[b]=new Set);for(const k of E.values)v[b].add(k)}}return v});const u=m=>{const v=new C8(["shape","payload","ctx"]),b=n.value,E=U=>{const $=ec(U);return`shape[${$}]._zod.run({ value: input[${$}], issues: [] }, ctx)`};v.write("const input = payload.value;");const k=Object.create(null);let S=0;for(const U of b.keys)k[U]=`key_${S++}`;v.write("const newResult = {}");for(const U of b.keys)if(b.optionalKeys.has(U)){const $=k[U];v.write(`const ${$} = ${E(U)};`);const Q=ec(U);v.write(`
        if (${$}.issues.length) {
          if (input[${Q}] === undefined) {
            if (${Q} in input) {
              newResult[${Q}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${$}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${Q}, ...iss.path] : [${Q}],
              }))
            );
          }
        } else if (${$}.value === undefined) {
          if (${Q} in input) newResult[${Q}] = undefined;
        } else {
          newResult[${Q}] = ${$}.value;
        }
        `)}else{const $=k[U];v.write(`const ${$} = ${E(U)};`),v.write(`
          if (${$}.issues.length) payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ec(U)}, ...iss.path] : [${ec(U)}]
          })));`),v.write(`newResult[${ec(U)}] = ${$}.value`)}v.write("payload.value = newResult;"),v.write("return payload;");const w=v.compile();return(U,$)=>w(m,U,$)};let i;const r=lh,o=!b2.jitless,f=o&&EI.value,d=t.catchall;let p;e._zod.parse=(m,v)=>{p??(p=n.value);const b=m.value;if(!r(b))return m.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),m;const E=[];if(o&&f&&(v==null?void 0:v.async)===!1&&v.jitless!==!0)i||(i=u(t.shape)),m=i(m,v);else{m.value={};const $=p.shape;for(const Q of p.keys){const ue=$[Q],N=ue._zod.run({value:b[Q],issues:[]},v),P=ue._zod.optin==="optional"&&ue._zod.optout==="optional";N instanceof Promise?E.push(N.then(re=>P?Rk(re,m,Q,b):D0(re,m,Q))):P?Rk(N,m,Q,b):D0(N,m,Q)}}if(!d)return E.length?Promise.all(E).then(()=>m):m;const k=[],S=p.keySet,w=d._zod,U=w.def.type;for(const $ of Object.keys(b)){if(S.has($))continue;if(U==="never"){k.push($);continue}const Q=w.run({value:b[$],issues:[]},v);Q instanceof Promise?E.push(Q.then(ue=>D0(ue,m,$))):D0(Q,m,$)}return k.length&&m.issues.push({code:"unrecognized_keys",keys:k,input:b,inst:e}),E.length?Promise.all(E).then(()=>m):m}});function Fk(e,t,n,u){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(r=>ta(r,u,ea())))}),t}const I2=G("$ZodUnion",(e,t)=>{zt.init(e,t),Bt(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Bt(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Bt(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Bt(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(u=>u._zod.pattern);return new RegExp(`^(${n.map(u=>xy(u.source)).join("|")})$`)}}),e._zod.parse=(n,u)=>{let i=!1;const r=[];for(const o of t.options){const s=o._zod.run({value:n.value,issues:[]},u);if(s instanceof Promise)r.push(s),i=!0;else{if(s.issues.length===0)return s;r.push(s)}}return i?Promise.all(r).then(o=>Fk(o,n,e,u)):Fk(r,n,e,u)}}),tM=G("$ZodDiscriminatedUnion",(e,t)=>{I2.init(e,t);const n=e._zod.parse;Bt(e._zod,"propValues",()=>{const i={};for(const r of t.options){const o=r._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const[s,f]of Object.entries(o)){i[s]||(i[s]=new Set);for(const d of f)i[s].add(d)}}return i});const u=Dy(()=>{const i=t.options,r=new Map;for(const o of i){const s=o._zod.propValues[t.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const f of s){if(r.has(f))throw new Error(`Duplicate discriminator value "${String(f)}"`);r.set(f,o)}}return r});e._zod.parse=(i,r)=>{const o=i.value;if(!lh(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;const s=u.value.get(o==null?void 0:o[t.discriminator]);return s?s._zod.run(i,r):t.unionFallback?n(i,r):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),i)}}),nM=G("$ZodIntersection",(e,t)=>{zt.init(e,t),e._zod.parse=(n,u)=>{const i=n.value,r=t.left._zod.run({value:i,issues:[]},u),o=t.right._zod.run({value:i,issues:[]},u);return r instanceof Promise||o instanceof Promise?Promise.all([r,o]).then(([f,d])=>Uk(n,f,d)):Uk(n,r,o)}});function E1(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(sh(e)&&sh(t)){const n=Object.keys(t),u=Object.keys(e).filter(r=>n.indexOf(r)!==-1),i={...e,...t};for(const r of u){const o=E1(e[r],t[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};i[r]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let u=0;u<e.length;u++){const i=e[u],r=t[u],o=E1(i,r);if(!o.valid)return{valid:!1,mergeErrorPath:[u,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Uk(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),vc(e))return e;const u=E1(t.value,n.value);if(!u.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}const iM=G("$ZodRecord",(e,t)=>{zt.init(e,t),e._zod.parse=(n,u)=>{const i=n.value;if(!sh(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const r=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const f of o)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){const d=t.valueType._zod.run({value:i[f],issues:[]},u);d instanceof Promise?r.push(d.then(p=>{p.issues.length&&n.issues.push(...Ma(f,p.issues)),n.value[f]=p.value})):(d.issues.length&&n.issues.push(...Ma(f,d.issues)),n.value[f]=d.value)}let s;for(const f in i)o.has(f)||(s=s??[],s.push(f));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:s})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;const s=t.keyType._zod.run({value:o,issues:[]},u);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map(d=>ta(d,u,ea())),input:o,path:[o],inst:e}),n.value[s.value]=s.value;continue}const f=t.valueType._zod.run({value:i[o],issues:[]},u);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(...Ma(o,d.issues)),n.value[s.value]=d.value})):(f.issues.length&&n.issues.push(...Ma(o,f.issues)),n.value[s.value]=f.value)}}return r.length?Promise.all(r).then(()=>n):n}}),uM=G("$ZodEnum",(e,t)=>{zt.init(e,t);const n=yI(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(u=>CI.has(typeof u)).map(u=>typeof u=="string"?of(u):u.toString()).join("|")})$`),e._zod.parse=(u,i)=>{const r=u.value;return e._zod.values.has(r)||u.issues.push({code:"invalid_value",values:n,input:r,inst:e}),u}}),rM=G("$ZodLiteral",(e,t)=>{zt.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?of(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,u)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),aM=G("$ZodTransform",(e,t)=>{zt.init(e,t),e._zod.parse=(n,u)=>{const i=t.transform(n.value,n);if(u.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new $c;return n.value=i,n}}),oM=G("$ZodOptional",(e,t)=>{zt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${xy(n.source)})?$`):void 0}),e._zod.parse=(n,u)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,u):n.value===void 0?n:t.innerType._zod.run(n,u)}),lM=G("$ZodNullable",(e,t)=>{zt.init(e,t),Bt(e._zod,"optin",()=>t.innerType._zod.optin),Bt(e._zod,"optout",()=>t.innerType._zod.optout),Bt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${xy(n.source)}|null)$`):void 0}),Bt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,u)=>n.value===null?n:t.innerType._zod.run(n,u)}),sM=G("$ZodDefault",(e,t)=>{zt.init(e,t),e._zod.optin="optional",Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>jk(r,t)):jk(i,t)}});function jk(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const cM=G("$ZodPrefault",(e,t)=>{zt.init(e,t),e._zod.optin="optional",Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,u))}),fM=G("$ZodNonOptional",(e,t)=>{zt.init(e,t),Bt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(u=>u!==void 0)):void 0}),e._zod.parse=(n,u)=>{const i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>Lk(r,e)):Lk(i,e)}});function Lk(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const dM=G("$ZodCatch",(e,t)=>{zt.init(e,t),e._zod.optin="optional",Bt(e._zod,"optout",()=>t.innerType._zod.optout),Bt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>{const i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(o=>ta(o,u,ea()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(r=>ta(r,u,ea()))},input:n.value}),n.issues=[]),n)}}),hM=G("$ZodPipe",(e,t)=>{zt.init(e,t),Bt(e._zod,"values",()=>t.in._zod.values),Bt(e._zod,"optin",()=>t.in._zod.optin),Bt(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,u)=>{const i=t.in._zod.run(n,u);return i instanceof Promise?i.then(r=>Zk(r,t,u)):Zk(i,t,u)}});function Zk(e,t,n){return vc(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const pM=G("$ZodReadonly",(e,t)=>{zt.init(e,t),Bt(e._zod,"propValues",()=>t.innerType._zod.propValues),Bt(e._zod,"values",()=>t.innerType._zod.values),Bt(e._zod,"optin",()=>t.innerType._zod.optin),Bt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,u)=>{const i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(Pk):Pk(i)}});function Pk(e){return e.value=Object.freeze(e.value),e}const mM=G("$ZodCustom",(e,t)=>{Wn.init(e,t),zt.init(e,t),e._zod.parse=(n,u)=>n,e._zod.check=n=>{const u=n.value,i=t.fn(u);if(i instanceof Promise)return i.then(r=>Hk(r,n,u,e));Hk(i,n,u,e)}});function Hk(e,t,n,u){if(!e){const i={code:"custom",input:n,inst:u,path:[...u._zod.def.path??[]],continue:!u._zod.def.abort};u._zod.def.params&&(i.params=u._zod.def.params),t.issues.push(Oc(i))}}class gM{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const u=n[0];if(this._map.set(t,u),u&&typeof u=="object"&&"id"in u){if(this._idmap.has(u.id))throw new Error(`ID ${u.id} already exists in the registry`);this._idmap.set(u.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const u={...this.get(n)??{}};return delete u.id,{...u,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function yM(){return new gM}const k0=yM();function vM(e,t){return new e({type:"string",...be(t)})}function bM(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...be(t)})}function qk(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...be(t)})}function EM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...be(t)})}function CM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...be(t)})}function DM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...be(t)})}function kM(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...be(t)})}function xM(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...be(t)})}function SM(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...be(t)})}function wM(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...be(t)})}function _M(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...be(t)})}function AM(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...be(t)})}function BM(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...be(t)})}function TM(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...be(t)})}function zM(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...be(t)})}function NM(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...be(t)})}function $M(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...be(t)})}function OM(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...be(t)})}function IM(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...be(t)})}function MM(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...be(t)})}function RM(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...be(t)})}function FM(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...be(t)})}function UM(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...be(t)})}function jM(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...be(t)})}function LM(e,t){return new e({type:"string",format:"date",check:"string_format",...be(t)})}function ZM(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...be(t)})}function PM(e,t){return new e({type:"string",format:"duration",check:"string_format",...be(t)})}function HM(e,t){return new e({type:"number",checks:[],...be(t)})}function qM(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...be(t)})}function VM(e,t){return new e({type:"boolean",...be(t)})}function JM(e,t){return new e({type:"null",...be(t)})}function KM(e){return new e({type:"unknown"})}function GM(e,t){return new e({type:"never",...be(t)})}function Vk(e,t){return new z2({check:"less_than",...be(t),value:e,inclusive:!1})}function S4(e,t){return new z2({check:"less_than",...be(t),value:e,inclusive:!0})}function Jk(e,t){return new N2({check:"greater_than",...be(t),value:e,inclusive:!1})}function w4(e,t){return new N2({check:"greater_than",...be(t),value:e,inclusive:!0})}function Kk(e,t){return new s8({check:"multiple_of",...be(t),value:e})}function M2(e,t){return new f8({check:"max_length",...be(t),maximum:e})}function ch(e,t){return new d8({check:"min_length",...be(t),minimum:e})}function R2(e,t){return new h8({check:"length_equals",...be(t),length:e})}function YM(e,t){return new p8({check:"string_format",format:"regex",...be(t),pattern:e})}function XM(e){return new m8({check:"string_format",format:"lowercase",...be(e)})}function QM(e){return new g8({check:"string_format",format:"uppercase",...be(e)})}function WM(e,t){return new y8({check:"string_format",format:"includes",...be(t),includes:e})}function eR(e,t){return new v8({check:"string_format",format:"starts_with",...be(t),prefix:e})}function tR(e,t){return new b8({check:"string_format",format:"ends_with",...be(t),suffix:e})}function lf(e){return new E8({check:"overwrite",tx:e})}function nR(e){return lf(t=>t.normalize(e))}function iR(){return lf(e=>e.trim())}function uR(){return lf(e=>e.toLowerCase())}function rR(){return lf(e=>e.toUpperCase())}function aR(e,t,n){return new e({type:"array",element:t,...be(n)})}function oR(e,t,n){const u=be(n);return u.abort??(u.abort=!0),new e({type:"custom",check:"custom",fn:t,...u})}function lR(e,t,n){return new e({type:"custom",check:"custom",fn:t,...be(n)})}const sR=G("ZodISODateTime",(e,t)=>{O8.init(e,t),Lt.init(e,t)});function F2(e){return jM(sR,e)}const cR=G("ZodISODate",(e,t)=>{I8.init(e,t),Lt.init(e,t)});function fR(e){return LM(cR,e)}const dR=G("ZodISOTime",(e,t)=>{M8.init(e,t),Lt.init(e,t)});function hR(e){return ZM(dR,e)}const pR=G("ZodISODuration",(e,t)=>{R8.init(e,t),Lt.init(e,t)});function mR(e){return PM(pR,e)}const gR=(e,t)=>{D2.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>zI(e,n)},flatten:{value:n=>TI(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Lh=G("ZodError",gR,{Parent:Error}),yR=NI(Lh),vR=$I(Lh),bR=x2(Lh),ER=w2(Lh),jt=G("ZodType",(e,t)=>(zt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(u=>typeof u=="function"?{_zod:{check:u,def:{check:"custom"},onattach:[]}}:u)]}),e.clone=(n,u)=>ho(e,n,u),e.brand=()=>e,e.register=((n,u)=>(n.add(e,u),e)),e.parse=(n,u)=>yR(e,n,u,{callee:e.parse}),e.safeParse=(n,u)=>bR(e,n,u),e.parseAsync=async(n,u)=>vR(e,n,u,{callee:e.parseAsync}),e.safeParseAsync=async(n,u)=>ER(e,n,u),e.spa=e.safeParseAsync,e.refine=(n,u)=>e.check(cF(n,u)),e.superRefine=n=>e.check(fF(n)),e.overwrite=n=>e.check(lf(n)),e.optional=()=>Ht(e),e.nullable=()=>Xk(e),e.nullish=()=>Ht(Xk(e)),e.nonoptional=n=>nF(e,n),e.array=()=>it(e),e.or=n=>Nt([e,n]),e.and=n=>_y(e,n),e.transform=n=>D1(e,q2(n)),e.default=n=>WR(e,n),e.prefault=n=>tF(e,n),e.catch=n=>uF(e,n),e.pipe=n=>D1(e,n),e.readonly=()=>oF(e),e.describe=n=>{const u=e.clone();return k0.add(u,{description:n}),u},Object.defineProperty(e,"description",{get(){var n;return(n=k0.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return k0.get(e);const u=e.clone();return k0.add(u,n[0]),u},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),U2=G("_ZodString",(e,t)=>{wy.init(e,t),jt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...u)=>e.check(YM(...u)),e.includes=(...u)=>e.check(WM(...u)),e.startsWith=(...u)=>e.check(eR(...u)),e.endsWith=(...u)=>e.check(tR(...u)),e.min=(...u)=>e.check(ch(...u)),e.max=(...u)=>e.check(M2(...u)),e.length=(...u)=>e.check(R2(...u)),e.nonempty=(...u)=>e.check(ch(1,...u)),e.lowercase=u=>e.check(XM(u)),e.uppercase=u=>e.check(QM(u)),e.trim=()=>e.check(iR()),e.normalize=(...u)=>e.check(nR(...u)),e.toLowerCase=()=>e.check(uR()),e.toUpperCase=()=>e.check(rR())}),CR=G("ZodString",(e,t)=>{wy.init(e,t),U2.init(e,t),e.email=n=>e.check(bM(DR,n)),e.url=n=>e.check(xM(kR,n)),e.jwt=n=>e.check(UM(FR,n)),e.emoji=n=>e.check(SM(xR,n)),e.guid=n=>e.check(qk(Gk,n)),e.uuid=n=>e.check(EM(x0,n)),e.uuidv4=n=>e.check(CM(x0,n)),e.uuidv6=n=>e.check(DM(x0,n)),e.uuidv7=n=>e.check(kM(x0,n)),e.nanoid=n=>e.check(wM(SR,n)),e.guid=n=>e.check(qk(Gk,n)),e.cuid=n=>e.check(_M(wR,n)),e.cuid2=n=>e.check(AM(_R,n)),e.ulid=n=>e.check(BM(AR,n)),e.base64=n=>e.check(MM(IR,n)),e.base64url=n=>e.check(RM(MR,n)),e.xid=n=>e.check(TM(BR,n)),e.ksuid=n=>e.check(zM(TR,n)),e.ipv4=n=>e.check(NM(zR,n)),e.ipv6=n=>e.check($M(NR,n)),e.cidrv4=n=>e.check(OM($R,n)),e.cidrv6=n=>e.check(IM(OR,n)),e.e164=n=>e.check(FM(RR,n)),e.datetime=n=>e.check(F2(n)),e.date=n=>e.check(fR(n)),e.time=n=>e.check(hR(n)),e.duration=n=>e.check(mR(n))});function H(e){return vM(CR,e)}const Lt=G("ZodStringFormat",(e,t)=>{Mt.init(e,t),U2.init(e,t)}),DR=G("ZodEmail",(e,t)=>{S8.init(e,t),Lt.init(e,t)}),Gk=G("ZodGUID",(e,t)=>{k8.init(e,t),Lt.init(e,t)}),x0=G("ZodUUID",(e,t)=>{x8.init(e,t),Lt.init(e,t)}),kR=G("ZodURL",(e,t)=>{w8.init(e,t),Lt.init(e,t)}),xR=G("ZodEmoji",(e,t)=>{_8.init(e,t),Lt.init(e,t)}),SR=G("ZodNanoID",(e,t)=>{A8.init(e,t),Lt.init(e,t)}),wR=G("ZodCUID",(e,t)=>{B8.init(e,t),Lt.init(e,t)}),_R=G("ZodCUID2",(e,t)=>{T8.init(e,t),Lt.init(e,t)}),AR=G("ZodULID",(e,t)=>{z8.init(e,t),Lt.init(e,t)}),BR=G("ZodXID",(e,t)=>{N8.init(e,t),Lt.init(e,t)}),TR=G("ZodKSUID",(e,t)=>{$8.init(e,t),Lt.init(e,t)}),zR=G("ZodIPv4",(e,t)=>{F8.init(e,t),Lt.init(e,t)}),NR=G("ZodIPv6",(e,t)=>{U8.init(e,t),Lt.init(e,t)}),$R=G("ZodCIDRv4",(e,t)=>{j8.init(e,t),Lt.init(e,t)}),OR=G("ZodCIDRv6",(e,t)=>{L8.init(e,t),Lt.init(e,t)}),IR=G("ZodBase64",(e,t)=>{Z8.init(e,t),Lt.init(e,t)}),MR=G("ZodBase64URL",(e,t)=>{H8.init(e,t),Lt.init(e,t)}),RR=G("ZodE164",(e,t)=>{q8.init(e,t),Lt.init(e,t)}),FR=G("ZodJWT",(e,t)=>{J8.init(e,t),Lt.init(e,t)}),j2=G("ZodNumber",(e,t)=>{O2.init(e,t),jt.init(e,t),e.gt=(u,i)=>e.check(Jk(u,i)),e.gte=(u,i)=>e.check(w4(u,i)),e.min=(u,i)=>e.check(w4(u,i)),e.lt=(u,i)=>e.check(Vk(u,i)),e.lte=(u,i)=>e.check(S4(u,i)),e.max=(u,i)=>e.check(S4(u,i)),e.int=u=>e.check(Yk(u)),e.safe=u=>e.check(Yk(u)),e.positive=u=>e.check(Jk(0,u)),e.nonnegative=u=>e.check(w4(0,u)),e.negative=u=>e.check(Vk(0,u)),e.nonpositive=u=>e.check(S4(0,u)),e.multipleOf=(u,i)=>e.check(Kk(u,i)),e.step=(u,i)=>e.check(Kk(u,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function vt(e){return HM(j2,e)}const UR=G("ZodNumberFormat",(e,t)=>{K8.init(e,t),j2.init(e,t)});function Yk(e){return qM(UR,e)}const jR=G("ZodBoolean",(e,t)=>{G8.init(e,t),jt.init(e,t)});function gn(e){return VM(jR,e)}const LR=G("ZodNull",(e,t)=>{Y8.init(e,t),jt.init(e,t)});function L2(e){return JM(LR,e)}const ZR=G("ZodUnknown",(e,t)=>{X8.init(e,t),jt.init(e,t)});function Ft(){return KM(ZR)}const PR=G("ZodNever",(e,t)=>{Q8.init(e,t),jt.init(e,t)});function HR(e){return GM(PR,e)}const qR=G("ZodArray",(e,t)=>{W8.init(e,t),jt.init(e,t),e.element=t.element,e.min=(n,u)=>e.check(ch(n,u)),e.nonempty=n=>e.check(ch(1,n)),e.max=(n,u)=>e.check(M2(n,u)),e.length=(n,u)=>e.check(R2(n,u)),e.unwrap=()=>e.element});function it(e,t){return aR(qR,e,t)}const Z2=G("ZodObject",(e,t)=>{eM.init(e,t),jt.init(e,t),Bt(e,"shape",()=>t.shape),e.keyof=()=>yi(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ft()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ft()}),e.strict=()=>e.clone({...e._zod.def,catchall:HR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>wI(e,n),e.merge=n=>_I(e,n),e.pick=n=>xI(e,n),e.omit=n=>SI(e,n),e.partial=(...n)=>AI(V2,e,n[0]),e.required=(...n)=>BI(J2,e,n[0])});function he(e,t){const n={type:"object",get shape(){return Uh(this,"shape",{...e}),this.shape},...be(t)};return new Z2(n)}function Gn(e,t){return new Z2({type:"object",get shape(){return Uh(this,"shape",{...e}),this.shape},catchall:Ft(),...be(t)})}const P2=G("ZodUnion",(e,t)=>{I2.init(e,t),jt.init(e,t),e.options=t.options});function Nt(e,t){return new P2({type:"union",options:e,...be(t)})}const VR=G("ZodDiscriminatedUnion",(e,t)=>{P2.init(e,t),tM.init(e,t)});function H2(e,t,n){return new VR({type:"union",options:t,discriminator:e,...be(n)})}const JR=G("ZodIntersection",(e,t)=>{nM.init(e,t),jt.init(e,t)});function _y(e,t){return new JR({type:"intersection",left:e,right:t})}const KR=G("ZodRecord",(e,t)=>{iM.init(e,t),jt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Ut(e,t,n){return new KR({type:"record",keyType:e,valueType:t,...be(n)})}const C1=G("ZodEnum",(e,t)=>{uM.init(e,t),jt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(u,i)=>{const r={};for(const o of u)if(n.has(o))r[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new C1({...t,checks:[],...be(i),entries:r})},e.exclude=(u,i)=>{const r={...t.entries};for(const o of u)if(n.has(o))delete r[o];else throw new Error(`Key ${o} not found in enum`);return new C1({...t,checks:[],...be(i),entries:r})}});function yi(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(u=>[u,u])):e;return new C1({type:"enum",entries:n,...be(t)})}const GR=G("ZodLiteral",(e,t)=>{rM.init(e,t),jt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ce(e,t){return new GR({type:"literal",values:Array.isArray(e)?e:[e],...be(t)})}const YR=G("ZodTransform",(e,t)=>{aM.init(e,t),jt.init(e,t),e._zod.parse=(n,u)=>{n.addIssue=r=>{if(typeof r=="string")n.issues.push(Oc(r,n.value,t));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(Oc(o))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(r=>(n.value=r,n)):(n.value=i,n)}});function q2(e){return new YR({type:"transform",transform:e})}const V2=G("ZodOptional",(e,t)=>{oM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ht(e){return new V2({type:"optional",innerType:e})}const XR=G("ZodNullable",(e,t)=>{lM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xk(e){return new XR({type:"nullable",innerType:e})}const QR=G("ZodDefault",(e,t)=>{sM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function WR(e,t){return new QR({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const eF=G("ZodPrefault",(e,t)=>{cM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tF(e,t){return new eF({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const J2=G("ZodNonOptional",(e,t)=>{fM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nF(e,t){return new J2({type:"nonoptional",innerType:e,...be(t)})}const iF=G("ZodCatch",(e,t)=>{dM.init(e,t),jt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function uF(e,t){return new iF({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const rF=G("ZodPipe",(e,t)=>{hM.init(e,t),jt.init(e,t),e.in=t.in,e.out=t.out});function D1(e,t){return new rF({type:"pipe",in:e,out:t})}const aF=G("ZodReadonly",(e,t)=>{pM.init(e,t),jt.init(e,t)});function oF(e){return new aF({type:"readonly",innerType:e})}const K2=G("ZodCustom",(e,t)=>{mM.init(e,t),jt.init(e,t)});function lF(e){const t=new Wn({check:"custom"});return t._zod.check=e,t}function sF(e,t){return oR(K2,e??(()=>!0),t)}function cF(e,t={}){return lR(K2,e,t)}function fF(e){const t=lF(n=>(n.addIssue=u=>{if(typeof u=="string")n.issues.push(Oc(u,n.value,t._zod.def));else{const i=u;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Oc(i))}},e(n.value,n)));return t}function G2(e,t){return D1(q2(e),t)}function Ay(e){return!!e._zod}function Y2(e,t){return Ay(e)?S2(e,t):e.safeParse(t)}function dF(e){var n,u;if(!e)return;let t;if(Ay(e)?t=(u=(n=e._zod)==null?void 0:n.def)==null?void 0:u.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function hF(e){var i;if(Ay(e)){const o=(i=e._zod)==null?void 0:i.def;if(o){if(o.value!==void 0)return o.value;if(Array.isArray(o.values)&&o.values.length>0)return o.values[0]}}const n=e._def;if(n){if(n.value!==void 0)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}const u=e.value;if(u!==void 0)return u}var $a="io.modelcontextprotocol/related-task",Zh="2.0",yn=sF(e=>e!==null&&(typeof e=="object"||typeof e=="function")),X2=Nt([H(),vt().int()]),Q2=H();Gn({ttl:Nt([vt(),L2()]).optional(),pollInterval:vt().optional()});var pF=he({ttl:vt().optional()}),mF=he({taskId:H()}),By=Gn({progressToken:X2.optional(),[$a]:mF.optional()}),vi=he({_meta:By.optional()}),sf=vi.extend({task:pF.optional()}),gF=e=>sf.safeParse(e).success,En=he({method:H(),params:vi.loose().optional()}),Vi=he({_meta:By.optional()}),Ji=he({method:H(),params:Vi.loose().optional()}),Cn=Gn({_meta:By.optional()}),cf=Nt([H(),vt().int()]),W2=he({jsonrpc:Ce(Zh),id:cf,...En.shape}).strict(),Qk=e=>W2.safeParse(e).success,ew=he({jsonrpc:Ce(Zh),...Ji.shape}).strict(),yF=e=>ew.safeParse(e).success,Ty=he({jsonrpc:Ce(Zh),id:cf,result:Cn}).strict(),S0=e=>Ty.safeParse(e).success,yt;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(yt||(yt={}));var zy=he({jsonrpc:Ce(Zh),id:cf.optional(),error:he({code:vt().int(),message:H(),data:Ft().optional()})}).strict(),vF=e=>zy.safeParse(e).success,bF=Nt([W2,ew,Ty,zy]);Nt([Ty,zy]);var tw=Cn.strict(),EF=Vi.extend({requestId:cf.optional(),reason:H().optional()}),Ny=Ji.extend({method:Ce("notifications/cancelled"),params:EF}),CF=he({src:H(),mimeType:H().optional(),sizes:it(H()).optional(),theme:yi(["light","dark"]).optional()}),ff=he({icons:it(CF).optional()}),$l=he({name:H(),title:H().optional()}),Ph=$l.extend({...$l.shape,...ff.shape,version:H(),websiteUrl:H().optional(),description:H().optional()}),DF=_y(he({applyDefaults:gn().optional()}),Ut(H(),Ft())),kF=G2(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,_y(he({form:DF.optional(),url:yn.optional()}),Ut(H(),Ft()).optional())),xF=Gn({list:yn.optional(),cancel:yn.optional(),requests:Gn({sampling:Gn({createMessage:yn.optional()}).optional(),elicitation:Gn({create:yn.optional()}).optional()}).optional()}),SF=Gn({list:yn.optional(),cancel:yn.optional(),requests:Gn({tools:Gn({call:yn.optional()}).optional()}).optional()}),wF=he({experimental:Ut(H(),yn).optional(),sampling:he({context:yn.optional(),tools:yn.optional()}).optional(),elicitation:kF.optional(),roots:he({listChanged:gn().optional()}).optional(),tasks:xF.optional()}),_F=vi.extend({protocolVersion:H(),capabilities:wF,clientInfo:Ph}),AF=En.extend({method:Ce("initialize"),params:_F}),BF=he({experimental:Ut(H(),yn).optional(),logging:yn.optional(),completions:yn.optional(),prompts:he({listChanged:gn().optional()}).optional(),resources:he({subscribe:gn().optional(),listChanged:gn().optional()}).optional(),tools:he({listChanged:gn().optional()}).optional(),tasks:SF.optional()}),TF=Cn.extend({protocolVersion:H(),capabilities:BF,serverInfo:Ph,instructions:H().optional()}),zF=Ji.extend({method:Ce("notifications/initialized"),params:Vi.optional()}),Hh=En.extend({method:Ce("ping"),params:vi.optional()}),NF=he({progress:vt(),total:Ht(vt()),message:Ht(H())}),$F=he({...Vi.shape,...NF.shape,progressToken:X2}),$y=Ji.extend({method:Ce("notifications/progress"),params:$F}),OF=vi.extend({cursor:Q2.optional()}),df=En.extend({params:OF.optional()}),hf=Cn.extend({nextCursor:Q2.optional()}),IF=yi(["working","input_required","completed","failed","cancelled"]),pf=he({taskId:H(),status:IF,ttl:Nt([vt(),L2()]),createdAt:H(),lastUpdatedAt:H(),pollInterval:Ht(vt()),statusMessage:Ht(H())}),Oy=Cn.extend({task:pf}),MF=Vi.merge(pf),fh=Ji.extend({method:Ce("notifications/tasks/status"),params:MF}),Iy=En.extend({method:Ce("tasks/get"),params:vi.extend({taskId:H()})}),My=Cn.merge(pf),Ry=En.extend({method:Ce("tasks/result"),params:vi.extend({taskId:H()})});Cn.loose();var Fy=df.extend({method:Ce("tasks/list")}),Uy=hf.extend({tasks:it(pf)}),jy=En.extend({method:Ce("tasks/cancel"),params:vi.extend({taskId:H()})}),RF=Cn.merge(pf),nw=he({uri:H(),mimeType:Ht(H()),_meta:Ut(H(),Ft()).optional()}),iw=nw.extend({text:H()}),Ly=H().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),uw=nw.extend({blob:Ly}),mf=yi(["user","assistant"]),Kl=he({audience:it(mf).optional(),priority:vt().min(0).max(1).optional(),lastModified:F2({offset:!0}).optional()}),rw=he({...$l.shape,...ff.shape,uri:H(),description:Ht(H()),mimeType:Ht(H()),annotations:Kl.optional(),_meta:Ht(Gn({}))}),FF=he({...$l.shape,...ff.shape,uriTemplate:H(),description:Ht(H()),mimeType:Ht(H()),annotations:Kl.optional(),_meta:Ht(Gn({}))}),UF=df.extend({method:Ce("resources/list")}),jF=hf.extend({resources:it(rw)}),LF=df.extend({method:Ce("resources/templates/list")}),ZF=hf.extend({resourceTemplates:it(FF)}),Zy=vi.extend({uri:H()}),PF=Zy,HF=En.extend({method:Ce("resources/read"),params:PF}),qF=Cn.extend({contents:it(Nt([iw,uw]))}),VF=Ji.extend({method:Ce("notifications/resources/list_changed"),params:Vi.optional()}),JF=Zy,KF=En.extend({method:Ce("resources/subscribe"),params:JF}),GF=Zy,YF=En.extend({method:Ce("resources/unsubscribe"),params:GF}),XF=Vi.extend({uri:H()}),QF=Ji.extend({method:Ce("notifications/resources/updated"),params:XF}),WF=he({name:H(),description:Ht(H()),required:Ht(gn())}),eU=he({...$l.shape,...ff.shape,description:Ht(H()),arguments:Ht(it(WF)),_meta:Ht(Gn({}))}),tU=df.extend({method:Ce("prompts/list")}),nU=hf.extend({prompts:it(eU)}),iU=vi.extend({name:H(),arguments:Ut(H(),H()).optional()}),uU=En.extend({method:Ce("prompts/get"),params:iU}),Py=he({type:Ce("text"),text:H(),annotations:Kl.optional(),_meta:Ut(H(),Ft()).optional()}),Hy=he({type:Ce("image"),data:Ly,mimeType:H(),annotations:Kl.optional(),_meta:Ut(H(),Ft()).optional()}),qy=he({type:Ce("audio"),data:Ly,mimeType:H(),annotations:Kl.optional(),_meta:Ut(H(),Ft()).optional()}),rU=he({type:Ce("tool_use"),name:H(),id:H(),input:Ut(H(),Ft()),_meta:Ut(H(),Ft()).optional()}),aU=he({type:Ce("resource"),resource:Nt([iw,uw]),annotations:Kl.optional(),_meta:Ut(H(),Ft()).optional()}),oU=rw.extend({type:Ce("resource_link")}),qh=Nt([Py,Hy,qy,oU,aU]),lU=he({role:mf,content:qh}),sU=Cn.extend({description:H().optional(),messages:it(lU)}),cU=Ji.extend({method:Ce("notifications/prompts/list_changed"),params:Vi.optional()}),fU=he({title:H().optional(),readOnlyHint:gn().optional(),destructiveHint:gn().optional(),idempotentHint:gn().optional(),openWorldHint:gn().optional()}),dU=he({taskSupport:yi(["required","optional","forbidden"]).optional()}),Vy=he({...$l.shape,...ff.shape,description:H().optional(),inputSchema:he({type:Ce("object"),properties:Ut(H(),yn).optional(),required:it(H()).optional()}).catchall(Ft()),outputSchema:he({type:Ce("object"),properties:Ut(H(),yn).optional(),required:it(H()).optional()}).catchall(Ft()).optional(),annotations:fU.optional(),execution:dU.optional(),_meta:Ut(H(),Ft()).optional()}),aw=df.extend({method:Ce("tools/list")}),hU=hf.extend({tools:it(Vy)}),Vh=Cn.extend({content:it(qh).default([]),structuredContent:Ut(H(),Ft()).optional(),isError:gn().optional()});Vh.or(Cn.extend({toolResult:Ft()}));var pU=sf.extend({name:H(),arguments:Ut(H(),Ft()).optional()}),ow=En.extend({method:Ce("tools/call"),params:pU}),mU=Ji.extend({method:Ce("notifications/tools/list_changed"),params:Vi.optional()});he({autoRefresh:gn().default(!0),debounceMs:vt().int().nonnegative().default(300)});var lw=yi(["debug","info","notice","warning","error","critical","alert","emergency"]),gU=vi.extend({level:lw}),yU=En.extend({method:Ce("logging/setLevel"),params:gU}),vU=Vi.extend({level:lw,logger:H().optional(),data:Ft()}),bU=Ji.extend({method:Ce("notifications/message"),params:vU}),EU=he({name:H().optional()}),CU=he({hints:it(EU).optional(),costPriority:vt().min(0).max(1).optional(),speedPriority:vt().min(0).max(1).optional(),intelligencePriority:vt().min(0).max(1).optional()}),DU=he({mode:yi(["auto","required","none"]).optional()}),kU=he({type:Ce("tool_result"),toolUseId:H().describe("The unique identifier for the corresponding tool call."),content:it(qh).default([]),structuredContent:he({}).loose().optional(),isError:gn().optional(),_meta:Ut(H(),Ft()).optional()}),xU=H2("type",[Py,Hy,qy]),dh=H2("type",[Py,Hy,qy,rU,kU]),SU=he({role:mf,content:Nt([dh,it(dh)]),_meta:Ut(H(),Ft()).optional()}),wU=sf.extend({messages:it(SU),modelPreferences:CU.optional(),systemPrompt:H().optional(),includeContext:yi(["none","thisServer","allServers"]).optional(),temperature:vt().optional(),maxTokens:vt().int(),stopSequences:it(H()).optional(),metadata:yn.optional(),tools:it(Vy).optional(),toolChoice:DU.optional()}),_U=En.extend({method:Ce("sampling/createMessage"),params:wU}),AU=Cn.extend({model:H(),stopReason:Ht(yi(["endTurn","stopSequence","maxTokens"]).or(H())),role:mf,content:xU}),BU=Cn.extend({model:H(),stopReason:Ht(yi(["endTurn","stopSequence","maxTokens","toolUse"]).or(H())),role:mf,content:Nt([dh,it(dh)])}),TU=he({type:Ce("boolean"),title:H().optional(),description:H().optional(),default:gn().optional()}),zU=he({type:Ce("string"),title:H().optional(),description:H().optional(),minLength:vt().optional(),maxLength:vt().optional(),format:yi(["email","uri","date","date-time"]).optional(),default:H().optional()}),NU=he({type:yi(["number","integer"]),title:H().optional(),description:H().optional(),minimum:vt().optional(),maximum:vt().optional(),default:vt().optional()}),$U=he({type:Ce("string"),title:H().optional(),description:H().optional(),enum:it(H()),default:H().optional()}),OU=he({type:Ce("string"),title:H().optional(),description:H().optional(),oneOf:it(he({const:H(),title:H()})),default:H().optional()}),IU=he({type:Ce("string"),title:H().optional(),description:H().optional(),enum:it(H()),enumNames:it(H()).optional(),default:H().optional()}),MU=Nt([$U,OU]),RU=he({type:Ce("array"),title:H().optional(),description:H().optional(),minItems:vt().optional(),maxItems:vt().optional(),items:he({type:Ce("string"),enum:it(H())}),default:it(H()).optional()}),FU=he({type:Ce("array"),title:H().optional(),description:H().optional(),minItems:vt().optional(),maxItems:vt().optional(),items:he({anyOf:it(he({const:H(),title:H()}))}),default:it(H()).optional()}),UU=Nt([RU,FU]),jU=Nt([IU,MU,UU]),LU=Nt([jU,TU,zU,NU]),ZU=sf.extend({mode:Ce("form").optional(),message:H(),requestedSchema:he({type:Ce("object"),properties:Ut(H(),LU),required:it(H()).optional()})}),PU=sf.extend({mode:Ce("url"),message:H(),elicitationId:H(),url:H().url()}),HU=Nt([ZU,PU]),qU=En.extend({method:Ce("elicitation/create"),params:HU}),VU=Vi.extend({elicitationId:H()}),JU=Ji.extend({method:Ce("notifications/elicitation/complete"),params:VU}),KU=Cn.extend({action:yi(["accept","decline","cancel"]),content:G2(e=>e===null?void 0:e,Ut(H(),Nt([H(),vt(),gn(),it(H())])).optional())}),GU=he({type:Ce("ref/resource"),uri:H()}),YU=he({type:Ce("ref/prompt"),name:H()}),XU=vi.extend({ref:Nt([YU,GU]),argument:he({name:H(),value:H()}),context:he({arguments:Ut(H(),H()).optional()}).optional()}),QU=En.extend({method:Ce("completion/complete"),params:XU}),WU=Cn.extend({completion:Gn({values:it(H()).max(100),total:Ht(vt().int()),hasMore:Ht(gn())})}),ej=he({uri:H().startsWith("file://"),name:H().optional(),_meta:Ut(H(),Ft()).optional()}),tj=En.extend({method:Ce("roots/list"),params:vi.optional()}),nj=Cn.extend({roots:it(ej)}),ij=Ji.extend({method:Ce("notifications/roots/list_changed"),params:Vi.optional()});Nt([Hh,AF,QU,yU,uU,tU,UF,LF,HF,KF,YF,ow,aw,Iy,Ry,Fy,jy]);Nt([Ny,$y,zF,ij,fh]);Nt([tw,AU,BU,KU,nj,My,Uy,Oy]);Nt([Hh,_U,qU,tj,Iy,Ry,Fy,jy]);Nt([Ny,$y,bU,QF,VF,mU,cU,fh,JU]);Nt([tw,TF,WU,sU,nU,jF,ZF,qF,Vh,hU,My,Uy,Oy]);var st=class sw extends Error{constructor(t,n,u){super(`MCP error ${t}: ${n}`),this.code=t,this.data=u,this.name="McpError"}static fromError(t,n,u){if(t===yt.UrlElicitationRequired&&u){const i=u;if(i.elicitations)return new uj(i.elicitations,n)}return new sw(t,n,u)}},uj=class extends st{constructor(e,t=`URL elicitation${e.length>1?"s":""} required`){super(yt.UrlElicitationRequired,t,{elicitations:e})}get elicitations(){var e;return((e=this.data)==null?void 0:e.elicitations)??[]}};function Ta(e){return e==="completed"||e==="failed"||e==="cancelled"}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Wk(e){const t=dF(e),n=t==null?void 0:t.method;if(!n)throw new Error("Schema is missing a method literal");const u=hF(n);if(typeof u!="string")throw new Error("Schema method literal must be a string");return u}function ex(e,t){const n=Y2(e,t);if(!n.success)throw n.error;return n.data}var rj=6e4,aj=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Ny,t=>{this._oncancel(t)}),this.setNotificationHandler($y,t=>{this._onprogress(t)}),this.setRequestHandler(Hh,t=>({})),this._taskStore=e==null?void 0:e.taskStore,this._taskMessageQueue=e==null?void 0:e.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Iy,async(t,n)=>{const u=await this._taskStore.getTask(t.params.taskId,n.sessionId);if(!u)throw new st(yt.InvalidParams,"Failed to retrieve task: Task not found");return{...u}}),this.setRequestHandler(Ry,async(t,n)=>{const u=async()=>{var o;const i=t.params.taskId;if(this._taskMessageQueue){let s;for(;s=await this._taskMessageQueue.dequeue(i,n.sessionId);){if(s.type==="response"||s.type==="error"){const f=s.message,d=f.id,p=this._requestResolvers.get(d);if(p)if(this._requestResolvers.delete(d),s.type==="response")p(f);else{const m=f,v=new st(m.error.code,m.error.message,m.error.data);p(v)}else{const m=s.type==="response"?"Response":"Error";this._onerror(new Error(`${m} handler missing for request ${d}`))}continue}await((o=this._transport)==null?void 0:o.send(s.message,{relatedRequestId:n.requestId}))}}const r=await this._taskStore.getTask(i,n.sessionId);if(!r)throw new st(yt.InvalidParams,`Task not found: ${i}`);if(!Ta(r.status))return await this._waitForTaskUpdate(i,n.signal),await u();if(Ta(r.status)){const s=await this._taskStore.getTaskResult(i,n.sessionId);return this._clearTaskQueue(i),{...s,_meta:{...s._meta,[$a]:{taskId:i}}}}return await u()};return await u()}),this.setRequestHandler(Fy,async(t,n)=>{var u;try{const{tasks:i,nextCursor:r}=await this._taskStore.listTasks((u=t.params)==null?void 0:u.cursor,n.sessionId);return{tasks:i,nextCursor:r,_meta:{}}}catch(i){throw new st(yt.InvalidParams,`Failed to list tasks: ${i instanceof Error?i.message:String(i)}`)}}),this.setRequestHandler(jy,async(t,n)=>{try{const u=await this._taskStore.getTask(t.params.taskId,n.sessionId);if(!u)throw new st(yt.InvalidParams,`Task not found: ${t.params.taskId}`);if(Ta(u.status))throw new st(yt.InvalidParams,`Cannot cancel task in terminal status: ${u.status}`);await this._taskStore.updateTaskStatus(t.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(t.params.taskId);const i=await this._taskStore.getTask(t.params.taskId,n.sessionId);if(!i)throw new st(yt.InvalidParams,`Task not found after cancellation: ${t.params.taskId}`);return{_meta:{},...i}}catch(u){throw u instanceof st?u:new st(yt.InvalidRequest,`Failed to cancel task: ${u instanceof Error?u.message:String(u)}`)}}))}async _oncancel(e){if(!e.params.requestId)return;const t=this._requestHandlerAbortControllers.get(e.params.requestId);t==null||t.abort(e.params.reason)}_setupTimeout(e,t,n,u,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(u,t),startTime:Date.now(),timeout:t,maxTotalTimeout:n,resetTimeoutOnProgress:i,onTimeout:u})}_resetTimeout(e){const t=this._timeoutInfo.get(e);if(!t)return!1;const n=Date.now()-t.startTime;if(t.maxTotalTimeout&&n>=t.maxTotalTimeout)throw this._timeoutInfo.delete(e),st.fromError(yt.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:t.maxTotalTimeout,totalElapsed:n});return clearTimeout(t.timeoutId),t.timeoutId=setTimeout(t.onTimeout,t.timeout),!0}_cleanupTimeout(e){const t=this._timeoutInfo.get(e);t&&(clearTimeout(t.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var i,r,o;this._transport=e;const t=(i=this.transport)==null?void 0:i.onclose;this._transport.onclose=()=>{t==null||t(),this._onclose()};const n=(r=this.transport)==null?void 0:r.onerror;this._transport.onerror=s=>{n==null||n(s),this._onerror(s)};const u=(o=this._transport)==null?void 0:o.onmessage;this._transport.onmessage=(s,f)=>{u==null||u(s,f),S0(s)||vF(s)?this._onresponse(s):Qk(s)?this._onrequest(s,f):yF(s)?this._onnotification(s):this._onerror(new Error(`Unknown message type: ${JSON.stringify(s)}`))},await this._transport.start()}_onclose(){var n;const e=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const t=st.fromError(yt.ConnectionClosed,"Connection closed");this._transport=void 0,(n=this.onclose)==null||n.call(this);for(const u of e.values())u(t)}_onerror(e){var t;(t=this.onerror)==null||t.call(this,e)}_onnotification(e){const t=this._notificationHandlers.get(e.method)??this.fallbackNotificationHandler;t!==void 0&&Promise.resolve().then(()=>t(e)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(e,t){var d,p,m,v;const n=this._requestHandlers.get(e.method)??this.fallbackRequestHandler,u=this._transport,i=(m=(p=(d=e.params)==null?void 0:d._meta)==null?void 0:p[$a])==null?void 0:m.taskId;if(n===void 0){const b={jsonrpc:"2.0",id:e.id,error:{code:yt.MethodNotFound,message:"Method not found"}};i&&this._taskMessageQueue?this._enqueueTaskMessage(i,{type:"error",message:b,timestamp:Date.now()},u==null?void 0:u.sessionId).catch(E=>this._onerror(new Error(`Failed to enqueue error response: ${E}`))):u==null||u.send(b).catch(E=>this._onerror(new Error(`Failed to send an error response: ${E}`)));return}const r=new AbortController;this._requestHandlerAbortControllers.set(e.id,r);const o=gF(e.params)?e.params.task:void 0,s=this._taskStore?this.requestTaskStore(e,u==null?void 0:u.sessionId):void 0,f={signal:r.signal,sessionId:u==null?void 0:u.sessionId,_meta:(v=e.params)==null?void 0:v._meta,sendNotification:async b=>{const E={relatedRequestId:e.id};i&&(E.relatedTask={taskId:i}),await this.notification(b,E)},sendRequest:async(b,E,k)=>{var U;const S={...k,relatedRequestId:e.id};i&&!S.relatedTask&&(S.relatedTask={taskId:i});const w=((U=S.relatedTask)==null?void 0:U.taskId)??i;return w&&s&&await s.updateTaskStatus(w,"input_required"),await this.request(b,E,S)},authInfo:t==null?void 0:t.authInfo,requestId:e.id,requestInfo:t==null?void 0:t.requestInfo,taskId:i,taskStore:s,taskRequestedTtl:o==null?void 0:o.ttl,closeSSEStream:t==null?void 0:t.closeSSEStream,closeStandaloneSSEStream:t==null?void 0:t.closeStandaloneSSEStream};Promise.resolve().then(()=>{o&&this.assertTaskHandlerCapability(e.method)}).then(()=>n(e,f)).then(async b=>{if(r.signal.aborted)return;const E={result:b,jsonrpc:"2.0",id:e.id};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"response",message:E,timestamp:Date.now()},u==null?void 0:u.sessionId):await(u==null?void 0:u.send(E))},async b=>{if(r.signal.aborted)return;const E={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(b.code)?b.code:yt.InternalError,message:b.message??"Internal error",...b.data!==void 0&&{data:b.data}}};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"error",message:E,timestamp:Date.now()},u==null?void 0:u.sessionId):await(u==null?void 0:u.send(E))}).catch(b=>this._onerror(new Error(`Failed to send response: ${b}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progressToken:t,...n}=e.params,u=Number(t),i=this._progressHandlers.get(u);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}const r=this._responseHandlers.get(u),o=this._timeoutInfo.get(u);if(o&&r&&o.resetTimeoutOnProgress)try{this._resetTimeout(u)}catch(s){this._responseHandlers.delete(u),this._progressHandlers.delete(u),this._cleanupTimeout(u),r(s);return}i(n)}_onresponse(e){const t=Number(e.id),n=this._requestResolvers.get(t);if(n){if(this._requestResolvers.delete(t),S0(e))n(e);else{const r=new st(e.error.code,e.error.message,e.error.data);n(r)}return}const u=this._responseHandlers.get(t);if(u===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(t),this._cleanupTimeout(t);let i=!1;if(S0(e)&&e.result&&typeof e.result=="object"){const r=e.result;if(r.task&&typeof r.task=="object"){const o=r.task;typeof o.taskId=="string"&&(i=!0,this._taskProgressTokens.set(o.taskId,t))}}if(i||this._progressHandlers.delete(t),S0(e))u(e);else{const r=st.fromError(e.error.code,e.error.message,e.error.data);u(r)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)==null?void 0:e.close())}async*requestStream(e,t,n){var r,o;const{task:u}=n??{};if(!u){try{yield{type:"result",result:await this.request(e,t,n)}}catch(s){yield{type:"error",error:s instanceof st?s:new st(yt.InternalError,String(s))}}return}let i;try{const s=await this.request(e,Oy,n);if(s.task)i=s.task.taskId,yield{type:"taskCreated",task:s.task};else throw new st(yt.InternalError,"Task creation did not return a task");for(;;){const f=await this.getTask({taskId:i},n);if(yield{type:"taskStatus",task:f},Ta(f.status)){f.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:i},t,n)}:f.status==="failed"?yield{type:"error",error:new st(yt.InternalError,`Task ${i} failed`)}:f.status==="cancelled"&&(yield{type:"error",error:new st(yt.InternalError,`Task ${i} was cancelled`)});return}if(f.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:i},t,n)};return}const d=f.pollInterval??((r=this._options)==null?void 0:r.defaultTaskPollInterval)??1e3;await new Promise(p=>setTimeout(p,d)),(o=n==null?void 0:n.signal)==null||o.throwIfAborted()}}catch(s){yield{type:"error",error:s instanceof st?s:new st(yt.InternalError,String(s))}}}request(e,t,n){const{relatedRequestId:u,resumptionToken:i,onresumptiontoken:r,task:o,relatedTask:s}=n??{};return new Promise((f,d)=>{var w,U,$,Q,ue;const p=N=>{d(N)};if(!this._transport){p(new Error("Not connected"));return}if(((w=this._options)==null?void 0:w.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(e.method),o&&this.assertTaskCapability(e.method)}catch(N){p(N);return}(U=n==null?void 0:n.signal)==null||U.throwIfAborted();const m=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:m};n!=null&&n.onprogress&&(this._progressHandlers.set(m,n.onprogress),v.params={...e.params,_meta:{...(($=e.params)==null?void 0:$._meta)||{},progressToken:m}}),o&&(v.params={...v.params,task:o}),s&&(v.params={...v.params,_meta:{...((Q=v.params)==null?void 0:Q._meta)||{},[$a]:s}});const b=N=>{var re;this._responseHandlers.delete(m),this._progressHandlers.delete(m),this._cleanupTimeout(m),(re=this._transport)==null||re.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:m,reason:String(N)}},{relatedRequestId:u,resumptionToken:i,onresumptiontoken:r}).catch(pe=>this._onerror(new Error(`Failed to send cancellation: ${pe}`)));const P=N instanceof st?N:new st(yt.RequestTimeout,String(N));d(P)};this._responseHandlers.set(m,N=>{var P;if(!((P=n==null?void 0:n.signal)!=null&&P.aborted)){if(N instanceof Error)return d(N);try{const re=Y2(t,N.result);re.success?f(re.data):d(re.error)}catch(re){d(re)}}}),(ue=n==null?void 0:n.signal)==null||ue.addEventListener("abort",()=>{var N;b((N=n==null?void 0:n.signal)==null?void 0:N.reason)});const E=(n==null?void 0:n.timeout)??rj,k=()=>b(st.fromError(yt.RequestTimeout,"Request timed out",{timeout:E}));this._setupTimeout(m,E,n==null?void 0:n.maxTotalTimeout,k,(n==null?void 0:n.resetTimeoutOnProgress)??!1);const S=s==null?void 0:s.taskId;if(S){const N=P=>{const re=this._responseHandlers.get(m);re?re(P):this._onerror(new Error(`Response handler missing for side-channeled request ${m}`))};this._requestResolvers.set(m,N),this._enqueueTaskMessage(S,{type:"request",message:v,timestamp:Date.now()}).catch(P=>{this._cleanupTimeout(m),d(P)})}else this._transport.send(v,{relatedRequestId:u,resumptionToken:i,onresumptiontoken:r}).catch(N=>{this._cleanupTimeout(m),d(N)})})}async getTask(e,t){return this.request({method:"tasks/get",params:e},My,t)}async getTaskResult(e,t,n){return this.request({method:"tasks/result",params:e},t,n)}async listTasks(e,t){return this.request({method:"tasks/list",params:e},Uy,t)}async cancelTask(e,t){return this.request({method:"tasks/cancel",params:e},RF,t)}async notification(e,t){var o,s,f,d;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);const n=(o=t==null?void 0:t.relatedTask)==null?void 0:o.taskId;if(n){const p={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...((s=e.params)==null?void 0:s._meta)||{},[$a]:t.relatedTask}}};await this._enqueueTaskMessage(n,{type:"notification",message:p,timestamp:Date.now()});return}if((((f=this._options)==null?void 0:f.debouncedNotificationMethods)??[]).includes(e.method)&&!e.params&&!(t!=null&&t.relatedRequestId)&&!(t!=null&&t.relatedTask)){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var m,v;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let p={...e,jsonrpc:"2.0"};t!=null&&t.relatedTask&&(p={...p,params:{...p.params,_meta:{...((m=p.params)==null?void 0:m._meta)||{},[$a]:t.relatedTask}}}),(v=this._transport)==null||v.send(p,t).catch(b=>this._onerror(b))});return}let r={...e,jsonrpc:"2.0"};t!=null&&t.relatedTask&&(r={...r,params:{...r.params,_meta:{...((d=r.params)==null?void 0:d._meta)||{},[$a]:t.relatedTask}}}),await this._transport.send(r,t)}setRequestHandler(e,t){const n=Wk(e);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(u,i)=>{const r=ex(e,u);return Promise.resolve(t(r,i))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,t){const n=Wk(e);this._notificationHandlers.set(n,u=>{const i=ex(e,u);return Promise.resolve(t(i))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){const t=this._taskProgressTokens.get(e);t!==void 0&&(this._progressHandlers.delete(t),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,t,n){var i;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const u=(i=this._options)==null?void 0:i.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,t,n,u)}async _clearTaskQueue(e,t){if(this._taskMessageQueue){const n=await this._taskMessageQueue.dequeueAll(e,t);for(const u of n)if(u.type==="request"&&Qk(u.message)){const i=u.message.id,r=this._requestResolvers.get(i);r?(r(new st(yt.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(i)):this._onerror(new Error(`Resolver missing for request ${i} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,t){var u,i;let n=((u=this._options)==null?void 0:u.defaultTaskPollInterval)??1e3;try{const r=await((i=this._taskStore)==null?void 0:i.getTask(e));r!=null&&r.pollInterval&&(n=r.pollInterval)}catch{}return new Promise((r,o)=>{if(t.aborted){o(new st(yt.InvalidRequest,"Request cancelled"));return}const s=setTimeout(r,n);t.addEventListener("abort",()=>{clearTimeout(s),o(new st(yt.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,t){const n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async u=>{if(!e)throw new Error("No request provided");return await n.createTask(u,e.id,{method:e.method,params:e.params},t)},getTask:async u=>{const i=await n.getTask(u,t);if(!i)throw new st(yt.InvalidParams,"Failed to retrieve task: Task not found");return i},storeTaskResult:async(u,i,r)=>{await n.storeTaskResult(u,i,r,t);const o=await n.getTask(u,t);if(o){const s=fh.parse({method:"notifications/tasks/status",params:o});await this.notification(s),Ta(o.status)&&this._cleanupTaskProgressHandler(u)}},getTaskResult:u=>n.getTaskResult(u,t),updateTaskStatus:async(u,i,r)=>{const o=await n.getTask(u,t);if(!o)throw new st(yt.InvalidParams,`Task "${u}" not found - it may have been cleaned up`);if(Ta(o.status))throw new st(yt.InvalidParams,`Cannot update task "${u}" from terminal status "${o.status}" to "${i}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(u,i,r,t);const s=await n.getTask(u,t);if(s){const f=fh.parse({method:"notifications/tasks/status",params:s});await this.notification(f),Ta(s.status)&&this._cleanupTaskProgressHandler(u)}},listTasks:u=>n.listTasks(u,t)}}},oj=Object.defineProperty,ar=(e,t)=>{for(var n in t)oj(e,n,{get:t[n],enumerable:!0,configurable:!0,set:u=>t[n]=()=>u})},cw=class{constructor(e=window.parent,t){Ct(this,"eventTarget");Ct(this,"eventSource");Ct(this,"messageListener");Ct(this,"onclose");Ct(this,"onerror");Ct(this,"onmessage");Ct(this,"sessionId");Ct(this,"setProtocolVersion");this.eventTarget=e,this.eventSource=t,this.messageListener=n=>{var i,r;if(t&&n.source!==this.eventSource){console.error("Ignoring message from unknown source",n);return}let u=bF.safeParse(n.data);u.success?(console.debug("Parsed message",u.data),(i=this.onmessage)==null||i.call(this,u.data)):(console.error("Failed to parse message",u.error.message,n),(r=this.onerror)==null||r.call(this,Error("Invalid JSON-RPC message received: "+u.error.message)))}}async start(){window.addEventListener("message",this.messageListener)}async send(e,t){console.debug("Sending message",e),this.eventTarget.postMessage(e,"*")}async close(){var e;window.removeEventListener("message",this.messageListener),(e=this.onclose)==null||e.call(this)}},lj="2025-11-21",B={};ar(B,{xor:()=>B7,xid:()=>QB,void:()=>k7,uuidv7:()=>HB,uuidv6:()=>PB,uuidv4:()=>ZB,uuid:()=>LB,util:()=>Je,url:()=>qB,uppercase:()=>np,unknown:()=>uo,union:()=>Np,undefined:()=>C7,ulid:()=>XB,uint64:()=>b7,uint32:()=>g7,tuple:()=>f3,trim:()=>lp,treeifyError:()=>Sw,transform:()=>Op,toUpperCase:()=>cp,toLowerCase:()=>sp,toJSONSchema:()=>bB,templateLiteral:()=>Z7,symbol:()=>E7,superRefine:()=>M3,success:()=>U7,stringbool:()=>G7,stringFormat:()=>s7,string:()=>bh,strictObject:()=>_7,startsWith:()=>up,slugify:()=>fp,size:()=>Wh,setErrorMap:()=>NP,set:()=>O7,safeParseAsync:()=>TB,safeParse:()=>BB,safeEncodeAsync:()=>RB,safeEncode:()=>IB,safeDecodeAsync:()=>FB,safeDecode:()=>MB,registry:()=>gv,regexes:()=>mo,regex:()=>ep,refine:()=>I3,record:()=>d3,readonly:()=>B3,property:()=>Lv,promise:()=>P7,prettifyError:()=>_w,preprocess:()=>X7,prefault:()=>D3,positive:()=>Rv,pipe:()=>Uc,partialRecord:()=>z7,parseAsync:()=>AB,parse:()=>_B,overwrite:()=>or,optional:()=>Rc,object:()=>w7,number:()=>Gv,nullish:()=>F7,nullable:()=>Fc,null:()=>e3,normalize:()=>op,nonpositive:()=>Uv,nonoptional:()=>k3,nonnegative:()=>jv,never:()=>Tp,negative:()=>Fv,nativeEnum:()=>I7,nanoid:()=>KB,nan:()=>j7,multipleOf:()=>Ml,minSize:()=>Rl,minLength:()=>io,mime:()=>ap,meta:()=>J7,maxSize:()=>Sf,maxLength:()=>wf,map:()=>$7,mac:()=>t7,lte:()=>ji,lt:()=>na,lowercase:()=>tp,looseRecord:()=>N7,looseObject:()=>A7,locales:()=>mv,literal:()=>M7,length:()=>_f,lazy:()=>N3,ksuid:()=>WB,keyof:()=>S7,jwt:()=>l7,json:()=>Y7,iso:()=>Pv,ipv6:()=>n7,ipv4:()=>e7,intersection:()=>s3,int64:()=>v7,int32:()=>m7,int:()=>Eh,instanceof:()=>K7,includes:()=>ip,httpUrl:()=>VB,hostname:()=>c7,hex:()=>f7,hash:()=>d7,guid:()=>jB,gte:()=>Kn,gt:()=>ia,globalRegistry:()=>iu,getErrorMap:()=>$P,function:()=>Ch,fromJSONSchema:()=>MP,formatError:()=>Xy,float64:()=>p7,float32:()=>h7,flattenError:()=>Yy,file:()=>R7,enum:()=>$p,endsWith:()=>rp,encodeAsync:()=>$B,encode:()=>zB,emoji:()=>JB,email:()=>UB,e164:()=>o7,discriminatedUnion:()=>T7,describe:()=>V7,decodeAsync:()=>OB,decode:()=>NB,date:()=>x7,custom:()=>q7,cuid2:()=>YB,cuid:()=>GB,core:()=>fw,config:()=>_n,coerce:()=>W7,codec:()=>L7,clone:()=>Ki,cidrv6:()=>u7,cidrv4:()=>i7,check:()=>H7,catch:()=>w3,boolean:()=>Yv,bigint:()=>y7,base64url:()=>a7,base64:()=>r7,array:()=>Of,any:()=>D7,_function:()=>Ch,_default:()=>E3,_ZodString:()=>dp,ZodXor:()=>a3,ZodXID:()=>bp,ZodVoid:()=>u3,ZodUnknown:()=>n3,ZodUnion:()=>Mf,ZodUndefined:()=>Qv,ZodUUID:()=>pu,ZodURL:()=>Tf,ZodULID:()=>vp,ZodType:()=>je,ZodTuple:()=>c3,ZodTransform:()=>y3,ZodTemplateLiteral:()=>T3,ZodSymbol:()=>Xv,ZodSuccess:()=>x3,ZodStringFormat:()=>St,ZodString:()=>Bf,ZodSet:()=>p3,ZodRecord:()=>Rf,ZodRealError:()=>Ei,ZodReadonly:()=>A3,ZodPromise:()=>$3,ZodPrefault:()=>C3,ZodPipe:()=>Rp,ZodOptional:()=>Ip,ZodObject:()=>If,ZodNumberFormat:()=>go,ZodNumber:()=>zf,ZodNullable:()=>v3,ZodNull:()=>Wv,ZodNonOptional:()=>Mp,ZodNever:()=>i3,ZodNanoID:()=>mp,ZodNaN:()=>_3,ZodMap:()=>h3,ZodMAC:()=>Kv,ZodLiteral:()=>m3,ZodLazy:()=>z3,ZodKSUID:()=>Ep,ZodJWT:()=>Ap,ZodIssueCode:()=>zP,ZodIntersection:()=>l3,ZodISOTime:()=>Vv,ZodISODuration:()=>Jv,ZodISODateTime:()=>Hv,ZodISODate:()=>qv,ZodIPv6:()=>Dp,ZodIPv4:()=>Cp,ZodGUID:()=>Mc,ZodFunction:()=>O3,ZodFirstPartyTypeKind:()=>A1,ZodFile:()=>g3,ZodError:()=>TP,ZodEnum:()=>Ll,ZodEmoji:()=>pp,ZodEmail:()=>hp,ZodE164:()=>_p,ZodDiscriminatedUnion:()=>o3,ZodDefault:()=>b3,ZodDate:()=>zp,ZodCustomStringFormat:()=>Gl,ZodCustom:()=>Ff,ZodCodec:()=>Fp,ZodCatch:()=>S3,ZodCUID2:()=>yp,ZodCUID:()=>gp,ZodCIDRv6:()=>xp,ZodCIDRv4:()=>kp,ZodBoolean:()=>Nf,ZodBigIntFormat:()=>Bp,ZodBigInt:()=>$f,ZodBase64URL:()=>wp,ZodBase64:()=>Sp,ZodArray:()=>r3,ZodAny:()=>t3,TimePrecision:()=>X5,NEVER:()=>dw,$output:()=>q5,$input:()=>V5,$brand:()=>hw});var fw={};ar(fw,{version:()=>A_,util:()=>Je,treeifyError:()=>Sw,toJSONSchema:()=>bB,toDotPath:()=>ww,safeParseAsync:()=>Bw,safeParse:()=>Aw,safeEncodeAsync:()=>Lj,safeEncode:()=>Uj,safeDecodeAsync:()=>Zj,safeDecode:()=>jj,registry:()=>gv,regexes:()=>mo,process:()=>kt,prettifyError:()=>_w,parseAsync:()=>S1,parse:()=>x1,meta:()=>NA,locales:()=>mv,isValidJWT:()=>W_,isValidBase64URL:()=>Y_,isValidBase64:()=>sv,initializeContext:()=>Fl,globalRegistry:()=>iu,globalConfig:()=>hh,formatError:()=>Xy,flattenError:()=>Yy,finalize:()=>jl,extractDefs:()=>Ul,encodeAsync:()=>Rj,encode:()=>Ij,describe:()=>zA,decodeAsync:()=>Fj,decode:()=>Mj,createToJSONSchemaMethod:()=>OA,createStandardJSONSchemaMethod:()=>Ic,config:()=>_n,clone:()=>Ki,_xor:()=>rP,_xid:()=>_v,_void:()=>CA,_uuidv7:()=>Cv,_uuidv6:()=>Ev,_uuidv4:()=>bv,_uuid:()=>vv,_url:()=>Qh,_uppercase:()=>np,_unknown:()=>bA,_union:()=>uP,_undefined:()=>gA,_ulid:()=>wv,_uint64:()=>pA,_uint32:()=>lA,_tuple:()=>lP,_trim:()=>lp,_transform:()=>mP,_toUpperCase:()=>cp,_toLowerCase:()=>sp,_templateLiteral:()=>xP,_symbol:()=>mA,_superRefine:()=>BA,_success:()=>EP,_stringbool:()=>$A,_stringFormat:()=>Af,_string:()=>K5,_startsWith:()=>up,_slugify:()=>fp,_size:()=>Wh,_set:()=>fP,_safeParseAsync:()=>Ef,_safeParse:()=>bf,_safeEncodeAsync:()=>uv,_safeEncode:()=>nv,_safeDecodeAsync:()=>rv,_safeDecode:()=>iv,_regex:()=>ep,_refine:()=>AA,_record:()=>sP,_readonly:()=>kP,_property:()=>Lv,_promise:()=>wP,_positive:()=>Rv,_pipe:()=>DP,_parseAsync:()=>vf,_parse:()=>yf,_overwrite:()=>or,_optional:()=>gP,_number:()=>nA,_nullable:()=>yP,_null:()=>yA,_normalize:()=>op,_nonpositive:()=>Uv,_nonoptional:()=>bP,_nonnegative:()=>jv,_never:()=>EA,_negative:()=>Fv,_nativeEnum:()=>hP,_nanoid:()=>kv,_nan:()=>xA,_multipleOf:()=>Ml,_minSize:()=>Rl,_minLength:()=>io,_min:()=>Kn,_mime:()=>ap,_maxSize:()=>Sf,_maxLength:()=>wf,_max:()=>ji,_map:()=>cP,_mac:()=>Y5,_lte:()=>ji,_lt:()=>na,_lowercase:()=>tp,_literal:()=>pP,_length:()=>_f,_lazy:()=>SP,_ksuid:()=>Av,_jwt:()=>Mv,_isoTime:()=>eA,_isoDuration:()=>tA,_isoDateTime:()=>Q5,_isoDate:()=>W5,_ipv6:()=>Tv,_ipv4:()=>Bv,_intersection:()=>oP,_int64:()=>hA,_int32:()=>oA,_int:()=>uA,_includes:()=>ip,_guid:()=>vh,_gte:()=>Kn,_gt:()=>ia,_float64:()=>aA,_float32:()=>rA,_file:()=>wA,_enum:()=>dP,_endsWith:()=>rp,_encodeAsync:()=>ev,_encode:()=>Qy,_emoji:()=>Dv,_email:()=>yv,_e164:()=>Iv,_discriminatedUnion:()=>aP,_default:()=>vP,_decodeAsync:()=>tv,_decode:()=>Wy,_date:()=>DA,_custom:()=>_A,_cuid2:()=>Sv,_cuid:()=>xv,_coercedString:()=>G5,_coercedNumber:()=>iA,_coercedDate:()=>kA,_coercedBoolean:()=>cA,_coercedBigint:()=>dA,_cidrv6:()=>Nv,_cidrv4:()=>zv,_check:()=>TA,_catch:()=>CP,_boolean:()=>sA,_bigint:()=>fA,_base64url:()=>Ov,_base64:()=>$v,_array:()=>SA,_any:()=>vA,TimePrecision:()=>X5,NEVER:()=>dw,JSONSchemaGenerator:()=>AP,JSONSchema:()=>BP,Doc:()=>__,$output:()=>q5,$input:()=>V5,$constructor:()=>I,$brand:()=>hw,$ZodXor:()=>y5,$ZodXID:()=>F_,$ZodVoid:()=>c5,$ZodUnknown:()=>l5,$ZodUnion:()=>Xh,$ZodUndefined:()=>r5,$ZodUUID:()=>T_,$ZodURL:()=>N_,$ZodULID:()=>R_,$ZodType:()=>Oe,$ZodTuple:()=>hv,$ZodTransform:()=>w5,$ZodTemplateLiteral:()=>R5,$ZodSymbol:()=>u5,$ZodSuccess:()=>N5,$ZodStringFormat:()=>xt,$ZodString:()=>xf,$ZodSet:()=>D5,$ZodRegistry:()=>J5,$ZodRecord:()=>E5,$ZodRealError:()=>bi,$ZodReadonly:()=>M5,$ZodPromise:()=>U5,$ZodPrefault:()=>T5,$ZodPipe:()=>I5,$ZodOptional:()=>_5,$ZodObjectJIT:()=>g5,$ZodObject:()=>m5,$ZodNumberFormat:()=>n5,$ZodNumber:()=>cv,$ZodNullable:()=>A5,$ZodNull:()=>a5,$ZodNonOptional:()=>z5,$ZodNever:()=>s5,$ZodNanoID:()=>O_,$ZodNaN:()=>O5,$ZodMap:()=>C5,$ZodMAC:()=>V_,$ZodLiteral:()=>x5,$ZodLazy:()=>j5,$ZodKSUID:()=>U_,$ZodJWT:()=>e5,$ZodIntersection:()=>b5,$ZodISOTime:()=>Z_,$ZodISODuration:()=>P_,$ZodISODateTime:()=>j_,$ZodISODate:()=>L_,$ZodIPv6:()=>q_,$ZodIPv4:()=>H_,$ZodGUID:()=>B_,$ZodFunction:()=>F5,$ZodFile:()=>S5,$ZodError:()=>Gy,$ZodEnum:()=>k5,$ZodEncodeError:()=>Jh,$ZodEmoji:()=>$_,$ZodEmail:()=>z_,$ZodE164:()=>Q_,$ZodDiscriminatedUnion:()=>v5,$ZodDefault:()=>B5,$ZodDate:()=>f5,$ZodCustomStringFormat:()=>t5,$ZodCustom:()=>L5,$ZodCodec:()=>pv,$ZodCheckUpperCase:()=>E_,$ZodCheckStringFormat:()=>kf,$ZodCheckStartsWith:()=>D_,$ZodCheckSizeEquals:()=>p_,$ZodCheckRegex:()=>v_,$ZodCheckProperty:()=>x_,$ZodCheckOverwrite:()=>w_,$ZodCheckNumberFormat:()=>c_,$ZodCheckMultipleOf:()=>s_,$ZodCheckMinSize:()=>h_,$ZodCheckMinLength:()=>g_,$ZodCheckMimeType:()=>S_,$ZodCheckMaxSize:()=>d_,$ZodCheckMaxLength:()=>m_,$ZodCheckLowerCase:()=>b_,$ZodCheckLessThan:()=>ov,$ZodCheckLengthEquals:()=>y_,$ZodCheckIncludes:()=>C_,$ZodCheckGreaterThan:()=>lv,$ZodCheckEndsWith:()=>k_,$ZodCheckBigIntFormat:()=>f_,$ZodCheck:()=>Rt,$ZodCatch:()=>$5,$ZodCUID2:()=>M_,$ZodCUID:()=>I_,$ZodCIDRv6:()=>K_,$ZodCIDRv4:()=>J_,$ZodBoolean:()=>fv,$ZodBigIntFormat:()=>i5,$ZodBigInt:()=>dv,$ZodBase64URL:()=>X_,$ZodBase64:()=>G_,$ZodAsyncError:()=>Ja,$ZodArray:()=>d5,$ZodAny:()=>o5});var dw=Object.freeze({status:"aborted"});function I(e,t,n){function u(s,f){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:f,constr:o,traits:new Set},enumerable:!1}),s._zod.traits.has(e))return;s._zod.traits.add(e),t(s,f);let d=o.prototype,p=Object.keys(d);for(let m=0;m<p.length;m++){let v=p[m];v in s||(s[v]=d[v].bind(s))}}let i=(n==null?void 0:n.Parent)??Object;class r extends i{}Object.defineProperty(r,"name",{value:e});function o(s){var f;let d=n!=null&&n.Parent?new r:this;u(d,s),(f=d._zod).deferred??(f.deferred=[]);for(let p of d._zod.deferred)p();return d}return Object.defineProperty(o,"init",{value:u}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>{var f,d;return n!=null&&n.Parent&&s instanceof n.Parent?!0:(d=(f=s==null?void 0:s._zod)==null?void 0:f.traits)==null?void 0:d.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}var hw=Symbol("zod_brand"),Ja=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Jh=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},hh={};function _n(e){return e&&Object.assign(hh,e),hh}var Je={};ar(Je,{unwrapMessage:()=>rc,uint8ArrayToHex:()=>$j,uint8ArrayToBase64url:()=>zj,uint8ArrayToBase64:()=>kw,stringifyPrimitive:()=>Te,slugify:()=>mw,shallowClone:()=>yw,safeExtend:()=>Sj,required:()=>Aj,randomString:()=>vj,propertyKeyTypes:()=>mh,promiseAllObject:()=>yj,primitiveTypes:()=>vw,prefixIssues:()=>nu,pick:()=>Dj,partial:()=>_j,optionalKeys:()=>bw,omit:()=>kj,objectClone:()=>pj,numKeys:()=>bj,nullish:()=>po,normalizeParams:()=>ie,mergeDefs:()=>la,merge:()=>wj,jsonStringifyReplacer:()=>ph,joinValues:()=>ne,issue:()=>gh,isPlainObject:()=>no,isObject:()=>Ol,hexToUint8Array:()=>Nj,getSizableOrigin:()=>Gh,getParsedType:()=>Ej,getLengthableOrigin:()=>Yh,getEnumValues:()=>Jy,getElementAtPath:()=>gj,floatSafeRemainder:()=>pw,finalizeIssue:()=>Hi,extend:()=>xj,escapeRegex:()=>ur,esc:()=>k1,defineLazy:()=>Qe,createTransparentProxy:()=>Cj,cloneDef:()=>mj,clone:()=>Ki,cleanRegex:()=>Kh,cleanEnum:()=>Bj,captureStackTrace:()=>Ky,cached:()=>gf,base64urlToUint8Array:()=>Tj,base64ToUint8Array:()=>Dw,assignProp:()=>oa,assertNotEqual:()=>cj,assertNever:()=>dj,assertIs:()=>fj,assertEqual:()=>sj,assert:()=>hj,allowsEval:()=>gw,aborted:()=>Ra,NUMBER_FORMAT_RANGES:()=>Ew,Class:()=>Oj,BIGINT_FORMAT_RANGES:()=>Cw});function sj(e){return e}function cj(e){return e}function fj(e){}function dj(e){throw Error("Unexpected value in exhaustive check")}function hj(e){}function Jy(e){let t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,u])=>t.indexOf(+n)===-1).map(([n,u])=>u)}function ne(e,t="|"){return e.map(n=>Te(n)).join(t)}function ph(e,t){return typeof t=="bigint"?t.toString():t}function gf(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function po(e){return e==null}function Kh(e){let t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function pw(e,t){let n=(e.toString().split(".")[1]||"").length,u=t.toString(),i=(u.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(u)){let f=u.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}let r=n>i?n:i,o=Number.parseInt(e.toFixed(r).replace(".","")),s=Number.parseInt(t.toFixed(r).replace(".",""));return o%s/10**r}var tx=Symbol("evaluating");function Qe(e,t,n){let u;Object.defineProperty(e,t,{get(){if(u!==tx)return u===void 0&&(u=tx,u=n()),u},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function pj(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function oa(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function la(...e){let t={};for(let n of e){let u=Object.getOwnPropertyDescriptors(n);Object.assign(t,u)}return Object.defineProperties({},t)}function mj(e){return la(e._zod.def)}function gj(e,t){return t?t.reduce((n,u)=>n==null?void 0:n[u],e):e}function yj(e){let t=Object.keys(e),n=t.map(u=>e[u]);return Promise.all(n).then(u=>{let i={};for(let r=0;r<t.length;r++)i[t[r]]=u[r];return i})}function vj(e=10){let t="";for(let n=0;n<e;n++)t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return t}function k1(e){return JSON.stringify(e)}function mw(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var Ky="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ol(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var gw=gf(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{return new Function(""),!0}catch{return!1}});function no(e){if(Ol(e)===!1)return!1;let t=e.constructor;if(t===void 0||typeof t!="function")return!0;let n=t.prototype;return!(Ol(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function yw(e){return no(e)?{...e}:Array.isArray(e)?[...e]:e}function bj(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}var Ej=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw Error(`Unknown data type: ${t}`)}},mh=new Set(["string","number","symbol"]),vw=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ur(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ki(e,t,n){let u=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(u._zod.parent=e),u}function ie(e){let t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Cj(e){let t;return new Proxy({},{get(n,u,i){return t??(t=e()),Reflect.get(t,u,i)},set(n,u,i,r){return t??(t=e()),Reflect.set(t,u,i,r)},has(n,u){return t??(t=e()),Reflect.has(t,u)},deleteProperty(n,u){return t??(t=e()),Reflect.deleteProperty(t,u)},ownKeys(n){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(n,u){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,u)},defineProperty(n,u,i){return t??(t=e()),Reflect.defineProperty(t,u,i)}})}function Te(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function bw(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var Ew={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Cw={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function Dj(e,t){let n=e._zod.def,u=la(e._zod.def,{get shape(){let i={};for(let r in t){if(!(r in n.shape))throw Error(`Unrecognized key: "${r}"`);t[r]&&(i[r]=n.shape[r])}return oa(this,"shape",i),i},checks:[]});return Ki(e,u)}function kj(e,t){let n=e._zod.def,u=la(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let r in t){if(!(r in n.shape))throw Error(`Unrecognized key: "${r}"`);t[r]&&delete i[r]}return oa(this,"shape",i),i},checks:[]});return Ki(e,u)}function xj(e,t){if(!no(t))throw Error("Invalid input to extend: expected a plain object");let n=e._zod.def.checks;if(n&&n.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let u=la(e._zod.def,{get shape(){let i={...e._zod.def.shape,...t};return oa(this,"shape",i),i},checks:[]});return Ki(e,u)}function Sj(e,t){if(!no(t))throw Error("Invalid input to safeExtend: expected a plain object");let n={...e._zod.def,get shape(){let u={...e._zod.def.shape,...t};return oa(this,"shape",u),u},checks:e._zod.def.checks};return Ki(e,n)}function wj(e,t){let n=la(e._zod.def,{get shape(){let u={...e._zod.def.shape,...t._zod.def.shape};return oa(this,"shape",u),u},get catchall(){return t._zod.def.catchall},checks:[]});return Ki(e,n)}function _j(e,t,n){let u=la(t._zod.def,{get shape(){let i=t._zod.def.shape,r={...i};if(n)for(let o in n){if(!(o in i))throw Error(`Unrecognized key: "${o}"`);n[o]&&(r[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(let o in i)r[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return oa(this,"shape",r),r},checks:[]});return Ki(t,u)}function Aj(e,t,n){let u=la(t._zod.def,{get shape(){let i=t._zod.def.shape,r={...i};if(n)for(let o in n){if(!(o in r))throw Error(`Unrecognized key: "${o}"`);n[o]&&(r[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(let o in i)r[o]=new e({type:"nonoptional",innerType:i[o]});return oa(this,"shape",r),r},checks:[]});return Ki(t,u)}function Ra(e,t=0){var n;if(e.aborted===!0)return!0;for(let u=t;u<e.issues.length;u++)if(((n=e.issues[u])==null?void 0:n.continue)!==!0)return!0;return!1}function nu(e,t){return t.map(n=>{var u;return(u=n).path??(u.path=[]),n.path.unshift(e),n})}function rc(e){return typeof e=="string"?e:e==null?void 0:e.message}function Hi(e,t,n){var i,r,o,s,f,d;let u={...e,path:e.path??[]};if(!e.message){let p=rc((o=(r=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:r.error)==null?void 0:o.call(r,e))??rc((s=t==null?void 0:t.error)==null?void 0:s.call(t,e))??rc((f=n.customError)==null?void 0:f.call(n,e))??rc((d=n.localeError)==null?void 0:d.call(n,e))??"Invalid input";u.message=p}return delete u.inst,delete u.continue,!(t!=null&&t.reportInput)&&delete u.input,u}function Gh(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Yh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function gh(...e){let[t,n,u]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:u}:{...t}}function Bj(e){return Object.entries(e).filter(([t,n])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}function Dw(e){let t=atob(e),n=new Uint8Array(t.length);for(let u=0;u<t.length;u++)n[u]=t.charCodeAt(u);return n}function kw(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function Tj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-t.length%4)%4);return Dw(t+n)}function zj(e){return kw(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Nj(e){let t=e.replace(/^0x/,"");if(t.length%2!==0)throw Error("Invalid hex string length");let n=new Uint8Array(t.length/2);for(let u=0;u<t.length;u+=2)n[u/2]=Number.parseInt(t.slice(u,u+2),16);return n}function $j(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}var Oj=class{constructor(...e){}},xw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ph,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Gy=I("$ZodError",xw),bi=I("$ZodError",xw,{Parent:Error});function Yy(e,t=n=>n.message){let n={},u=[];for(let i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):u.push(t(i));return{formErrors:u,fieldErrors:n}}function Xy(e,t=n=>n.message){let n={_errors:[]},u=i=>{for(let r of i.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(o=>u({issues:o}));else if(r.code==="invalid_key")u({issues:r.issues});else if(r.code==="invalid_element")u({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let o=n,s=0;for(;s<r.path.length;){let f=r.path[s];s!==r.path.length-1?o[f]=o[f]||{_errors:[]}:(o[f]=o[f]||{_errors:[]},o[f]._errors.push(t(r))),o=o[f],s++}}};return u(e),n}function Sw(e,t=n=>n.message){let n={errors:[]},u=(i,r=[])=>{var o,s;for(let f of i.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(d=>u({issues:d},f.path));else if(f.code==="invalid_key")u({issues:f.issues},f.path);else if(f.code==="invalid_element")u({issues:f.issues},f.path);else{let d=[...r,...f.path];if(d.length===0){n.errors.push(t(f));continue}let p=n,m=0;for(;m<d.length;){let v=d[m],b=m===d.length-1;typeof v=="string"?(p.properties??(p.properties={}),(o=p.properties)[v]??(o[v]={errors:[]}),p=p.properties[v]):(p.items??(p.items=[]),(s=p.items)[v]??(s[v]={errors:[]}),p=p.items[v]),b&&p.errors.push(t(f)),m++}}};return u(e),n}function ww(e){let t=[],n=e.map(u=>typeof u=="object"?u.key:u);for(let u of n)typeof u=="number"?t.push(`[${u}]`):typeof u=="symbol"?t.push(`[${JSON.stringify(String(u))}]`):/[^\w$]/.test(u)?t.push(`[${JSON.stringify(u)}]`):(t.length&&t.push("."),t.push(u));return t.join("")}function _w(e){var u;let t=[],n=[...e.issues].sort((i,r)=>(i.path??[]).length-(r.path??[]).length);for(let i of n)t.push(` ${i.message}`),(u=i.path)!=null&&u.length&&t.push(`   at ${ww(i.path)}`);return t.join(`
`)}var yf=e=>(t,n,u,i)=>{let r=u?Object.assign(u,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},r);if(o instanceof Promise)throw new Ja;if(o.issues.length){let s=new((i==null?void 0:i.Err)??e)(o.issues.map(f=>Hi(f,r,_n())));throw Ky(s,i==null?void 0:i.callee),s}return o.value},x1=yf(bi),vf=e=>async(t,n,u,i)=>{let r=u?Object.assign(u,{async:!0}):{async:!0},o=t._zod.run({value:n,issues:[]},r);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new((i==null?void 0:i.Err)??e)(o.issues.map(f=>Hi(f,r,_n())));throw Ky(s,i==null?void 0:i.callee),s}return o.value},S1=vf(bi),bf=e=>(t,n,u)=>{let i=u?{...u,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},i);if(r instanceof Promise)throw new Ja;return r.issues.length?{success:!1,error:new(e??Gy)(r.issues.map(o=>Hi(o,i,_n())))}:{success:!0,data:r.value}},Aw=bf(bi),Ef=e=>async(t,n,u)=>{let i=u?Object.assign(u,{async:!0}):{async:!0},r=t._zod.run({value:n,issues:[]},i);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(o=>Hi(o,i,_n())))}:{success:!0,data:r.value}},Bw=Ef(bi),Qy=e=>(t,n,u)=>{let i=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return yf(e)(t,n,i)},Ij=Qy(bi),Wy=e=>(t,n,u)=>yf(e)(t,n,u),Mj=Wy(bi),ev=e=>async(t,n,u)=>{let i=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return vf(e)(t,n,i)},Rj=ev(bi),tv=e=>async(t,n,u)=>vf(e)(t,n,u),Fj=tv(bi),nv=e=>(t,n,u)=>{let i=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return bf(e)(t,n,i)},Uj=nv(bi),iv=e=>(t,n,u)=>bf(e)(t,n,u),jj=iv(bi),uv=e=>async(t,n,u)=>{let i=u?Object.assign(u,{direction:"backward"}):{direction:"backward"};return Ef(e)(t,n,i)},Lj=uv(bi),rv=e=>async(t,n,u)=>Ef(e)(t,n,u),Zj=rv(bi),mo={};ar(mo,{xid:()=>$w,uuid7:()=>Vj,uuid6:()=>qj,uuid4:()=>Hj,uuid:()=>Il,uppercase:()=>o_,unicodeEmail:()=>Uw,undefined:()=>r_,ulid:()=>Nw,time:()=>Xw,string:()=>Ww,sha512_hex:()=>hL,sha512_base64url:()=>mL,sha512_base64:()=>pL,sha384_hex:()=>cL,sha384_base64url:()=>dL,sha384_base64:()=>fL,sha256_hex:()=>oL,sha256_base64url:()=>sL,sha256_base64:()=>lL,sha1_hex:()=>uL,sha1_base64url:()=>aL,sha1_base64:()=>rL,rfc5322Email:()=>Kj,number:()=>n_,null:()=>u_,nanoid:()=>Iw,md5_hex:()=>tL,md5_base64url:()=>iL,md5_base64:()=>nL,mac:()=>Pw,lowercase:()=>a_,ksuid:()=>Ow,ipv6:()=>Zw,ipv4:()=>Lw,integer:()=>t_,idnEmail:()=>Gj,html5Email:()=>Jj,hostname:()=>Qj,hex:()=>eL,guid:()=>Rw,extendedDuration:()=>Pj,emoji:()=>jw,email:()=>Fw,e164:()=>Jw,duration:()=>Mw,domain:()=>Wj,datetime:()=>Qw,date:()=>Gw,cuid2:()=>zw,cuid:()=>Tw,cidrv6:()=>qw,cidrv4:()=>Hw,browserEmail:()=>Yj,boolean:()=>i_,bigint:()=>e_,base64url:()=>av,base64:()=>Vw});var Tw=/^[cC][^\s-]{8,}$/,zw=/^[0-9a-z]+$/,Nw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$w=/^[0-9a-vA-V]{20}$/,Ow=/^[A-Za-z0-9]{27}$/,Iw=/^[a-zA-Z0-9_-]{21}$/,Mw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rw=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Il=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Hj=Il(4),qj=Il(6),Vj=Il(7),Fw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Jj=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Kj=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Uw=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Gj=Uw,Yj=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jw(){return new RegExp(Xj,"u")}var Lw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Zw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Pw=e=>{let t=ur(e??":");return new RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},Hw=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,qw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,av=/^[A-Za-z0-9_-]*$/,Qj=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Wj=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Jw=/^\+(?:[0-9]){6,14}[0-9]$/,Kw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Gw=new RegExp(`^${Kw}$`);function Yw(e){return typeof e.precision=="number"?e.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":e.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${e.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function Xw(e){return new RegExp(`^${Yw(e)}$`)}function Qw(e){let t=Yw({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let u=`${t}(?:${n.join("|")})`;return new RegExp(`^${Kw}T(?:${u})$`)}var Ww=e=>{let t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},e_=/^-?\d+n?$/,t_=/^-?\d+$/,n_=/^-?\d+(?:\.\d+)?/,i_=/^(?:true|false)$/i,u_=/^null$/i,r_=/^undefined$/i,a_=/^[^A-Z]*$/,o_=/^[^a-z]*$/,eL=/^[0-9a-fA-F]*$/;function Cf(e,t){return new RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function Df(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}var tL=/^[0-9a-fA-F]{32}$/,nL=Cf(22,"=="),iL=Df(22),uL=/^[0-9a-fA-F]{40}$/,rL=Cf(27,"="),aL=Df(27),oL=/^[0-9a-fA-F]{64}$/,lL=Cf(43,"="),sL=Df(43),cL=/^[0-9a-fA-F]{96}$/,fL=Cf(64,""),dL=Df(64),hL=/^[0-9a-fA-F]{128}$/,pL=Cf(86,"=="),mL=Df(86),Rt=I("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),l_={number:"number",bigint:"bigint",object:"date"},ov=I("$ZodCheckLessThan",(e,t)=>{Rt.init(e,t);let n=l_[typeof t.value];e._zod.onattach.push(u=>{let i=u._zod.bag,r=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=u=>{(t.inclusive?u.value<=t.value:u.value<t.value)||u.issues.push({origin:n,code:"too_big",maximum:t.value,input:u.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),lv=I("$ZodCheckGreaterThan",(e,t)=>{Rt.init(e,t);let n=l_[typeof t.value];e._zod.onattach.push(u=>{let i=u._zod.bag,r=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=u=>{(t.inclusive?u.value>=t.value:u.value>t.value)||u.issues.push({origin:n,code:"too_small",minimum:t.value,input:u.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),s_=I("$ZodCheckMultipleOf",(e,t)=>{Rt.init(e,t),e._zod.onattach.push(n=>{var u;(u=n._zod.bag).multipleOf??(u.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):pw(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),c_=I("$ZodCheckNumberFormat",(e,t)=>{var o;Rt.init(e,t),t.format=t.format||"float64";let n=(o=t.format)==null?void 0:o.includes("int"),u=n?"int":"number",[i,r]=Ew[t.format];e._zod.onattach.push(s=>{let f=s._zod.bag;f.format=t.format,f.minimum=i,f.maximum=r,n&&(f.pattern=t_)}),e._zod.check=s=>{let f=s.value;if(n){if(!Number.isInteger(f)){s.issues.push({expected:u,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?s.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:u,continue:!t.abort}):s.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:u,continue:!t.abort});return}}f<i&&s.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),f>r&&s.issues.push({origin:"number",input:f,code:"too_big",maximum:r,inst:e})}}),f_=I("$ZodCheckBigIntFormat",(e,t)=>{Rt.init(e,t);let[n,u]=Cw[t.format];e._zod.onattach.push(i=>{let r=i._zod.bag;r.format=t.format,r.minimum=n,r.maximum=u}),e._zod.check=i=>{let r=i.value;r<n&&i.issues.push({origin:"bigint",input:r,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),r>u&&i.issues.push({origin:"bigint",input:r,code:"too_big",maximum:u,inst:e})}}),d_=I("$ZodCheckMaxSize",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.size!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(u._zod.bag.maximum=t.maximum)}),e._zod.check=u=>{let i=u.value;i.size<=t.maximum||u.issues.push({origin:Gh(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),h_=I("$ZodCheckMinSize",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.size!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(u._zod.bag.minimum=t.minimum)}),e._zod.check=u=>{let i=u.value;i.size>=t.minimum||u.issues.push({origin:Gh(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),p_=I("$ZodCheckSizeEquals",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.size!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag;i.minimum=t.size,i.maximum=t.size,i.size=t.size}),e._zod.check=u=>{let i=u.value,r=i.size;if(r===t.size)return;let o=r>t.size;u.issues.push({origin:Gh(i),...o?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:u.value,inst:e,continue:!t.abort})}}),m_=I("$ZodCheckMaxLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(u._zod.bag.maximum=t.maximum)}),e._zod.check=u=>{let i=u.value;if(i.length<=t.maximum)return;let r=Yh(i);u.issues.push({origin:r,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),g_=I("$ZodCheckMinLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(u._zod.bag.minimum=t.minimum)}),e._zod.check=u=>{let i=u.value;if(i.length>=t.minimum)return;let r=Yh(i);u.issues.push({origin:r,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),y_=I("$ZodCheckLengthEquals",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=u=>{let i=u.value;return!po(i)&&i.length!==void 0}),e._zod.onattach.push(u=>{let i=u._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=u=>{let i=u.value,r=i.length;if(r===t.length)return;let o=Yh(i),s=r>t.length;u.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:u.value,inst:e,continue:!t.abort})}}),kf=I("$ZodCheckStringFormat",(e,t)=>{var n,u;Rt.init(e,t),e._zod.onattach.push(i=>{let r=i._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(u=e._zod).check??(u.check=()=>{})}),v_=I("$ZodCheckRegex",(e,t)=>{kf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),b_=I("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=a_),kf.init(e,t)}),E_=I("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=o_),kf.init(e,t)}),C_=I("$ZodCheckIncludes",(e,t)=>{Rt.init(e,t);let n=ur(t.includes),u=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=u,e._zod.onattach.push(i=>{let r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(u)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),D_=I("$ZodCheckStartsWith",(e,t)=>{Rt.init(e,t);let n=new RegExp(`^${ur(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(u=>{let i=u._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=u=>{u.value.startsWith(t.prefix)||u.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:u.value,inst:e,continue:!t.abort})}}),k_=I("$ZodCheckEndsWith",(e,t)=>{Rt.init(e,t);let n=new RegExp(`.*${ur(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(u=>{let i=u._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=u=>{u.value.endsWith(t.suffix)||u.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:u.value,inst:e,continue:!t.abort})}});function nx(e,t,n){e.issues.length&&t.issues.push(...nu(n,e.issues))}var x_=I("$ZodCheckProperty",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{let u=t.schema._zod.run({value:n.value[t.property],issues:[]},{});if(u instanceof Promise)return u.then(i=>nx(i,n,t.property));nx(u,n,t.property)}}),S_=I("$ZodCheckMimeType",(e,t)=>{Rt.init(e,t);let n=new Set(t.mime);e._zod.onattach.push(u=>{u._zod.bag.mime=t.mime}),e._zod.check=u=>{n.has(u.value.type)||u.issues.push({code:"invalid_value",values:t.mime,input:u.value.type,inst:e,continue:!t.abort})}}),w_=I("$ZodCheckOverwrite",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}}),__=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split(`
`).filter(i=>i),n=Math.min(...t.map(i=>i.length-i.trimStart().length)),u=t.map(i=>i.slice(n)).map(i=>" ".repeat(this.indent*2)+i);for(let i of u)this.content.push(i)}compile(){let e=Function,t=this==null?void 0:this.args,n=[...((this==null?void 0:this.content)??[""]).map(u=>`  ${u}`)];return new e(...t,n.join(`
`))}},A_={major:4,minor:2,patch:1},Oe=I("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=A_;let u=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&u.unshift(e);for(let r of u)for(let o of r._zod.onattach)o(e);if(u.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{let r=(s,f,d)=>{let p=Ra(s),m;for(let v of f){if(v._zod.def.when){if(!v._zod.def.when(s))continue}else if(p)continue;let b=s.issues.length,E=v._zod.check(s);if(E instanceof Promise&&(d==null?void 0:d.async)===!1)throw new Ja;if(m||E instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await E,s.issues.length!==b&&(p||(p=Ra(s,b)))});else{if(s.issues.length===b)continue;p||(p=Ra(s,b))}}return m?m.then(()=>s):s},o=(s,f,d)=>{if(Ra(s))return s.aborted=!0,s;let p=r(f,u,d);if(p instanceof Promise){if(d.async===!1)throw new Ja;return p.then(m=>e._zod.parse(m,d))}return e._zod.parse(p,d)};e._zod.run=(s,f)=>{if(f.skipChecks)return e._zod.parse(s,f);if(f.direction==="backward"){let p=e._zod.parse({value:s.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(m=>o(m,s,f)):o(p,s,f)}let d=e._zod.parse(s,f);if(d instanceof Promise){if(f.async===!1)throw new Ja;return d.then(p=>r(p,u,f))}return r(d,u,f)}}e["~standard"]={validate:r=>{var o;try{let s=Aw(e,r);return s.success?{value:s.data}:{issues:(o=s.error)==null?void 0:o.issues}}catch{return Bw(e,r).then(f=>{var d;return f.success?{value:f.data}:{issues:(d=f.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}}),xf=I("$ZodString",(e,t)=>{var n;Oe.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Ww(e._zod.bag),e._zod.parse=(u,i)=>{if(t.coerce)try{u.value=String(u.value)}catch{}return typeof u.value=="string"||u.issues.push({expected:"string",code:"invalid_type",input:u.value,inst:e}),u}}),xt=I("$ZodStringFormat",(e,t)=>{kf.init(e,t),xf.init(e,t)}),B_=I("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Rw),xt.init(e,t)}),T_=I("$ZodUUID",(e,t)=>{if(t.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Il(n))}else t.pattern??(t.pattern=Il());xt.init(e,t)}),z_=I("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Fw),xt.init(e,t)}),N_=I("$ZodURL",(e,t)=>{xt.init(e,t),e._zod.check=n=>{try{let u=n.value.trim(),i=new URL(u);t.hostname&&(t.hostname.lastIndex=0,!t.hostname.test(i.hostname)&&n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,!t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)&&n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=u;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),$_=I("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=jw()),xt.init(e,t)}),O_=I("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Iw),xt.init(e,t)}),I_=I("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Tw),xt.init(e,t)}),M_=I("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zw),xt.init(e,t)}),R_=I("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Nw),xt.init(e,t)}),F_=I("$ZodXID",(e,t)=>{t.pattern??(t.pattern=$w),xt.init(e,t)}),U_=I("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Ow),xt.init(e,t)}),j_=I("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Qw(t)),xt.init(e,t)}),L_=I("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Gw),xt.init(e,t)}),Z_=I("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Xw(t)),xt.init(e,t)}),P_=I("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Mw),xt.init(e,t)}),H_=I("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Lw),xt.init(e,t),e._zod.bag.format="ipv4"}),q_=I("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Zw),xt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),V_=I("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=Pw(t.delimiter)),xt.init(e,t),e._zod.bag.format="mac"}),J_=I("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Hw),xt.init(e,t)}),K_=I("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=qw),xt.init(e,t),e._zod.check=n=>{let u=n.value.split("/");try{if(u.length!==2)throw Error();let[i,r]=u;if(!r)throw Error();let o=Number(r);if(`${o}`!==r||o<0||o>128)throw Error();new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function sv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var G_=I("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Vw),xt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{sv(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Y_(e){if(!av.test(e))return!1;let t=e.replace(/[-_]/g,u=>u==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return sv(n)}var X_=I("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=av),xt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Y_(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Q_=I("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Jw),xt.init(e,t)});function W_(e,t=null){try{let n=e.split(".");if(n.length!==3)return!1;let[u]=n;if(!u)return!1;let i=JSON.parse(atob(u));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}var e5=I("$ZodJWT",(e,t)=>{xt.init(e,t),e._zod.check=n=>{W_(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),t5=I("$ZodCustomStringFormat",(e,t)=>{xt.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),cv=I("$ZodNumber",(e,t)=>{Oe.init(e,t),e._zod.pattern=e._zod.bag.pattern??n_,e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}let i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;let r=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...r?{received:r}:{}}),n}}),n5=I("$ZodNumberFormat",(e,t)=>{c_.init(e,t),cv.init(e,t)}),fv=I("$ZodBoolean",(e,t)=>{Oe.init(e,t),e._zod.pattern=i_,e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=!!n.value}catch{}let i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),dv=I("$ZodBigInt",(e,t)=>{Oe.init(e,t),e._zod.pattern=e_,e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),i5=I("$ZodBigIntFormat",(e,t)=>{f_.init(e,t),dv.init(e,t)}),u5=I("$ZodSymbol",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;return typeof i=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),n}}),r5=I("$ZodUndefined",(e,t)=>{Oe.init(e,t),e._zod.pattern=r_,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(n,u)=>{let i=n.value;return typeof i>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),n}}),a5=I("$ZodNull",(e,t)=>{Oe.init(e,t),e._zod.pattern=u_,e._zod.values=new Set([null]),e._zod.parse=(n,u)=>{let i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),n}}),o5=I("$ZodAny",(e,t)=>{Oe.init(e,t),e._zod.parse=n=>n}),l5=I("$ZodUnknown",(e,t)=>{Oe.init(e,t),e._zod.parse=n=>n}),s5=I("$ZodNever",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),c5=I("$ZodVoid",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;return typeof i>"u"||n.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),n}}),f5=I("$ZodDate",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}let i=n.value,r=i instanceof Date;return r&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...r?{received:"Invalid Date"}:{},inst:e}),n}});function ix(e,t,n){e.issues.length&&t.issues.push(...nu(n,e.issues)),t.value[n]=e.value}var d5=I("$ZodArray",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);let r=[];for(let o=0;o<i.length;o++){let s=i[o],f=t.element._zod.run({value:s,issues:[]},u);f instanceof Promise?r.push(f.then(d=>ix(d,n,o))):ix(f,n,o)}return r.length?Promise.all(r).then(()=>n):n}});function yh(e,t,n,u){e.issues.length&&t.issues.push(...nu(n,e.issues)),e.value===void 0?n in u&&(t.value[n]=void 0):t.value[n]=e.value}function h5(e){var u,i,r,o;let t=Object.keys(e.shape);for(let s of t)if(!((o=(r=(i=(u=e.shape)==null?void 0:u[s])==null?void 0:i._zod)==null?void 0:r.traits)!=null&&o.has("$ZodType")))throw Error(`Invalid element at key "${s}": expected a Zod schema`);let n=bw(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function p5(e,t,n,u,i,r){let o=[],s=i.keySet,f=i.catchall._zod,d=f.def.type;for(let p in t){if(s.has(p))continue;if(d==="never"){o.push(p);continue}let m=f.run({value:t[p],issues:[]},u);m instanceof Promise?e.push(m.then(v=>yh(v,n,p,t))):yh(m,n,p,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}var m5=I("$ZodObject",(e,t)=>{var o;if(Oe.init(e,t),!((o=Object.getOwnPropertyDescriptor(t,"shape"))!=null&&o.get)){let s=t.shape;Object.defineProperty(t,"shape",{get:()=>{let f={...s};return Object.defineProperty(t,"shape",{value:f}),f}})}let n=gf(()=>h5(t));Qe(e._zod,"propValues",()=>{let s=t.shape,f={};for(let d in s){let p=s[d]._zod;if(p.values){f[d]??(f[d]=new Set);for(let m of p.values)f[d].add(m)}}return f});let u=Ol,i=t.catchall,r;e._zod.parse=(s,f)=>{r??(r=n.value);let d=s.value;if(!u(d))return s.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),s;s.value={};let p=[],m=r.shape;for(let v of r.keys){let b=m[v]._zod.run({value:d[v],issues:[]},f);b instanceof Promise?p.push(b.then(E=>yh(E,s,v,d))):yh(b,s,v,d)}return i?p5(p,d,s,f,n.value,e):p.length?Promise.all(p).then(()=>s):s}}),g5=I("$ZodObjectJIT",(e,t)=>{m5.init(e,t);let n=e._zod.parse,u=gf(()=>h5(t)),i=m=>{let v=new __(["shape","payload","ctx"]),b=u.value,E=U=>{let $=k1(U);return`shape[${$}]._zod.run({ value: input[${$}], issues: [] }, ctx)`};v.write("const input = payload.value;");let k=Object.create(null),S=0;for(let U of b.keys)k[U]=`key_${S++}`;v.write("const newResult = {};");for(let U of b.keys){let $=k[U],Q=k1(U);v.write(`const ${$} = ${E(U)};`),v.write(`
        if (${$}.issues.length) {
          payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Q}, ...iss.path] : [${Q}]
          })));
        }
        
        
        if (${$}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${$}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");let w=v.compile();return(U,$)=>w(m,U,$)},r,o=Ol,s=!hh.jitless,f=s&&gw.value,d=t.catchall,p;e._zod.parse=(m,v)=>{p??(p=u.value);let b=m.value;return o(b)?s&&f&&(v==null?void 0:v.async)===!1&&v.jitless!==!0?(r||(r=i(t.shape)),m=r(m,v),d?p5([],b,m,v,p,e):m):n(m,v):(m.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),m)}});function ux(e,t,n,u){for(let r of e)if(r.issues.length===0)return t.value=r.value,t;let i=e.filter(r=>!Ra(r));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(o=>Hi(o,u,_n())))}),t)}var Xh=I("$ZodUnion",(e,t)=>{Oe.init(e,t),Qe(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Qe(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Qe(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Qe(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){let i=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${i.map(r=>Kh(r.source)).join("|")})$`)}});let n=t.options.length===1,u=t.options[0]._zod.run;e._zod.parse=(i,r)=>{if(n)return u(i,r);let o=!1,s=[];for(let f of t.options){let d=f._zod.run({value:i.value,issues:[]},r);if(d instanceof Promise)s.push(d),o=!0;else{if(d.issues.length===0)return d;s.push(d)}}return o?Promise.all(s).then(f=>ux(f,i,e,r)):ux(s,i,e,r)}});function rx(e,t,n,u){let i=e.filter(r=>r.issues.length===0);return i.length===1?(t.value=i[0].value,t):(i.length===0?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(o=>Hi(o,u,_n())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t)}var y5=I("$ZodXor",(e,t)=>{Xh.init(e,t),t.inclusive=!1;let n=t.options.length===1,u=t.options[0]._zod.run;e._zod.parse=(i,r)=>{if(n)return u(i,r);let o=!1,s=[];for(let f of t.options){let d=f._zod.run({value:i.value,issues:[]},r);d instanceof Promise?(s.push(d),o=!0):s.push(d)}return o?Promise.all(s).then(f=>rx(f,i,e,r)):rx(s,i,e,r)}}),v5=I("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Xh.init(e,t);let n=e._zod.parse;Qe(e._zod,"propValues",()=>{let i={};for(let r of t.options){let o=r._zod.propValues;if(!o||Object.keys(o).length===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[s,f]of Object.entries(o)){i[s]||(i[s]=new Set);for(let d of f)i[s].add(d)}}return i});let u=gf(()=>{var o;let i=t.options,r=new Map;for(let s of i){let f=(o=s._zod.propValues)==null?void 0:o[t.discriminator];if(!f||f.size===0)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(let d of f){if(r.has(d))throw Error(`Duplicate discriminator value "${String(d)}"`);r.set(d,s)}}return r});e._zod.parse=(i,r)=>{let o=i.value;if(!Ol(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;let s=u.value.get(o==null?void 0:o[t.discriminator]);return s?s._zod.run(i,r):t.unionFallback?n(i,r):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),b5=I("$ZodIntersection",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value,r=t.left._zod.run({value:i,issues:[]},u),o=t.right._zod.run({value:i,issues:[]},u);return r instanceof Promise||o instanceof Promise?Promise.all([r,o]).then(([s,f])=>ax(n,s,f)):ax(n,r,o)}});function w1(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(no(e)&&no(t)){let n=Object.keys(t),u=Object.keys(e).filter(r=>n.indexOf(r)!==-1),i={...e,...t};for(let r of u){let o=w1(e[r],t[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};i[r]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let u=0;u<e.length;u++){let i=e[u],r=t[u],o=w1(i,r);if(!o.valid)return{valid:!1,mergeErrorPath:[u,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function ax(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ra(e))return e;let u=w1(t.value,n.value);if(!u.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(u.mergeErrorPath)}`);return e.value=u.data,e}var hv=I("$ZodTuple",(e,t)=>{Oe.init(e,t);let n=t.items;e._zod.parse=(u,i)=>{let r=u.value;if(!Array.isArray(r))return u.issues.push({input:r,inst:e,expected:"tuple",code:"invalid_type"}),u;u.value=[];let o=[],s=[...n].reverse().findIndex(p=>p._zod.optin!=="optional"),f=s===-1?0:n.length-s;if(!t.rest){let p=r.length>n.length,m=r.length<f-1;if(p||m)return u.issues.push({...p?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:r,inst:e,origin:"array"}),u}let d=-1;for(let p of n){if(d++,d>=r.length&&d>=f)continue;let m=p._zod.run({value:r[d],issues:[]},i);m instanceof Promise?o.push(m.then(v=>w0(v,u,d))):w0(m,u,d)}if(t.rest){let p=r.slice(n.length);for(let m of p){d++;let v=t.rest._zod.run({value:m,issues:[]},i);v instanceof Promise?o.push(v.then(b=>w0(b,u,d))):w0(v,u,d)}}return o.length?Promise.all(o).then(()=>u):u}});function w0(e,t,n){e.issues.length&&t.issues.push(...nu(n,e.issues)),t.value[n]=e.value}var E5=I("$ZodRecord",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;if(!no(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;let r=[],o=t.keyType._zod.values;if(o){n.value={};let s=new Set;for(let d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){s.add(typeof d=="number"?d.toString():d);let p=t.valueType._zod.run({value:i[d],issues:[]},u);p instanceof Promise?r.push(p.then(m=>{m.issues.length&&n.issues.push(...nu(d,m.issues)),n.value[d]=m.value})):(p.issues.length&&n.issues.push(...nu(d,p.issues)),n.value[d]=p.value)}let f;for(let d in i)s.has(d)||(f=f??[],f.push(d));f&&f.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:f})}else{n.value={};for(let s of Reflect.ownKeys(i)){if(s==="__proto__")continue;let f=t.keyType._zod.run({value:s,issues:[]},u);if(f instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(f.issues.length){t.mode==="loose"?n.value[s]=i[s]:n.issues.push({code:"invalid_key",origin:"record",issues:f.issues.map(p=>Hi(p,u,_n())),input:s,path:[s],inst:e});continue}let d=t.valueType._zod.run({value:i[s],issues:[]},u);d instanceof Promise?r.push(d.then(p=>{p.issues.length&&n.issues.push(...nu(s,p.issues)),n.value[f.value]=p.value})):(d.issues.length&&n.issues.push(...nu(s,d.issues)),n.value[f.value]=d.value)}}return r.length?Promise.all(r).then(()=>n):n}}),C5=I("$ZodMap",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;let r=[];n.value=new Map;for(let[o,s]of i){let f=t.keyType._zod.run({value:o,issues:[]},u),d=t.valueType._zod.run({value:s,issues:[]},u);f instanceof Promise||d instanceof Promise?r.push(Promise.all([f,d]).then(([p,m])=>{ox(p,m,n,o,i,e,u)})):ox(f,d,n,o,i,e,u)}return r.length?Promise.all(r).then(()=>n):n}});function ox(e,t,n,u,i,r,o){e.issues.length&&(mh.has(typeof u)?n.issues.push(...nu(u,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:r,issues:e.issues.map(s=>Hi(s,o,_n()))})),t.issues.length&&(mh.has(typeof u)?n.issues.push(...nu(u,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:r,key:u,issues:t.issues.map(s=>Hi(s,o,_n()))})),n.value.set(e.value,t.value)}var D5=I("$ZodSet",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;let r=[];n.value=new Set;for(let o of i){let s=t.valueType._zod.run({value:o,issues:[]},u);s instanceof Promise?r.push(s.then(f=>lx(f,n))):lx(s,n)}return r.length?Promise.all(r).then(()=>n):n}});function lx(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}var k5=I("$ZodEnum",(e,t)=>{Oe.init(e,t);let n=Jy(t.entries),u=new Set(n);e._zod.values=u,e._zod.pattern=new RegExp(`^(${n.filter(i=>mh.has(typeof i)).map(i=>typeof i=="string"?ur(i):i.toString()).join("|")})$`),e._zod.parse=(i,r)=>{let o=i.value;return u.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:e}),i}}),x5=I("$ZodLiteral",(e,t)=>{if(Oe.init(e,t),t.values.length===0)throw Error("Cannot create literal schema with no valid values");let n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(u=>typeof u=="string"?ur(u):u?ur(u.toString()):String(u)).join("|")})$`),e._zod.parse=(u,i)=>{let r=u.value;return n.has(r)||u.issues.push({code:"invalid_value",values:t.values,input:r,inst:e}),u}}),S5=I("$ZodFile",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{let i=n.value;return i instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),n}}),w5=I("$ZodTransform",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{if(u.direction==="backward")throw new Jh(e.constructor.name);let i=t.transform(n.value,n);if(u.async)return(i instanceof Promise?i:Promise.resolve(i)).then(r=>(n.value=r,n));if(i instanceof Promise)throw new Ja;return n.value=i,n}});function sx(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}var _5=I("$ZodOptional",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Qe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Qe(e._zod,"pattern",()=>{let n=t.innerType._zod.pattern;return n?new RegExp(`^(${Kh(n.source)})?$`):void 0}),e._zod.parse=(n,u)=>{if(t.innerType._zod.optin==="optional"){let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>sx(r,n.value)):sx(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,u)}}),A5=I("$ZodNullable",(e,t)=>{Oe.init(e,t),Qe(e._zod,"optin",()=>t.innerType._zod.optin),Qe(e._zod,"optout",()=>t.innerType._zod.optout),Qe(e._zod,"pattern",()=>{let n=t.innerType._zod.pattern;return n?new RegExp(`^(${Kh(n.source)}|null)$`):void 0}),Qe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,u)=>n.value===null?n:t.innerType._zod.run(n,u)}),B5=I("$ZodDefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",Qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>{if(u.direction==="backward")return t.innerType._zod.run(n,u);if(n.value===void 0)return n.value=t.defaultValue,n;let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>cx(r,t)):cx(i,t)}});function cx(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}var T5=I("$ZodPrefault",(e,t)=>{Oe.init(e,t),e._zod.optin="optional",Qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>(u.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,u))}),z5=I("$ZodNonOptional",(e,t)=>{Oe.init(e,t),Qe(e._zod,"values",()=>{let n=t.innerType._zod.values;return n?new Set([...n].filter(u=>u!==void 0)):void 0}),e._zod.parse=(n,u)=>{let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>fx(r,e)):fx(i,e)}});function fx(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var N5=I("$ZodSuccess",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>{if(u.direction==="backward")throw new Jh("ZodSuccess");let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>(n.value=r.issues.length===0,n)):(n.value=i.issues.length===0,n)}}),$5=I("$ZodCatch",(e,t)=>{Oe.init(e,t),Qe(e._zod,"optin",()=>t.innerType._zod.optin),Qe(e._zod,"optout",()=>t.innerType._zod.optout),Qe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,u)=>{if(u.direction==="backward")return t.innerType._zod.run(n,u);let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(o=>Hi(o,u,_n()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(r=>Hi(r,u,_n()))},input:n.value}),n.issues=[]),n)}}),O5=I("$ZodNaN",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:e,expected:"nan",code:"invalid_type"}),n)}),I5=I("$ZodPipe",(e,t)=>{Oe.init(e,t),Qe(e._zod,"values",()=>t.in._zod.values),Qe(e._zod,"optin",()=>t.in._zod.optin),Qe(e._zod,"optout",()=>t.out._zod.optout),Qe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,u)=>{if(u.direction==="backward"){let r=t.out._zod.run(n,u);return r instanceof Promise?r.then(o=>_0(o,t.in,u)):_0(r,t.in,u)}let i=t.in._zod.run(n,u);return i instanceof Promise?i.then(r=>_0(r,t.out,u)):_0(i,t.out,u)}});function _0(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}var pv=I("$ZodCodec",(e,t)=>{Oe.init(e,t),Qe(e._zod,"values",()=>t.in._zod.values),Qe(e._zod,"optin",()=>t.in._zod.optin),Qe(e._zod,"optout",()=>t.out._zod.optout),Qe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,u)=>{if((u.direction||"forward")==="forward"){let i=t.in._zod.run(n,u);return i instanceof Promise?i.then(r=>A0(r,t,u)):A0(i,t,u)}else{let i=t.out._zod.run(n,u);return i instanceof Promise?i.then(r=>A0(r,t,u)):A0(i,t,u)}}});function A0(e,t,n){if(e.issues.length)return e.aborted=!0,e;if((n.direction||"forward")==="forward"){let u=t.transform(e.value,e);return u instanceof Promise?u.then(i=>B0(e,i,t.out,n)):B0(e,u,t.out,n)}else{let u=t.reverseTransform(e.value,e);return u instanceof Promise?u.then(i=>B0(e,i,t.in,n)):B0(e,u,t.in,n)}}function B0(e,t,n,u){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},u)}var M5=I("$ZodReadonly",(e,t)=>{Oe.init(e,t),Qe(e._zod,"propValues",()=>t.innerType._zod.propValues),Qe(e._zod,"values",()=>t.innerType._zod.values),Qe(e._zod,"optin",()=>{var n,u;return(u=(n=t.innerType)==null?void 0:n._zod)==null?void 0:u.optin}),Qe(e._zod,"optout",()=>{var n,u;return(u=(n=t.innerType)==null?void 0:n._zod)==null?void 0:u.optout}),e._zod.parse=(n,u)=>{if(u.direction==="backward")return t.innerType._zod.run(n,u);let i=t.innerType._zod.run(n,u);return i instanceof Promise?i.then(dx):dx(i)}});function dx(e){return e.value=Object.freeze(e.value),e}var R5=I("$ZodTemplateLiteral",(e,t)=>{Oe.init(e,t);let n=[];for(let u of t.parts)if(typeof u=="object"&&u!==null){if(!u._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...u._zod.traits].shift()}`);let i=u._zod.pattern instanceof RegExp?u._zod.pattern.source:u._zod.pattern;if(!i)throw Error(`Invalid template literal part: ${u._zod.traits}`);let r=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;n.push(i.slice(r,o))}else if(u===null||vw.has(typeof u))n.push(ur(`${u}`));else throw Error(`Invalid template literal part: ${u}`);e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(u,i)=>typeof u.value!="string"?(u.issues.push({input:u.value,inst:e,expected:"template_literal",code:"invalid_type"}),u):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(u.value)||u.issues.push({input:u.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source}),u)}),F5=I("$ZodFunction",(e,t)=>(Oe.init(e,t),e._def=t,e._zod.def=t,e.implement=n=>{if(typeof n!="function")throw Error("implement() must be called with a function");return function(...u){let i=e._def.input?x1(e._def.input,u):u,r=Reflect.apply(n,this,i);return e._def.output?x1(e._def.output,r):r}},e.implementAsync=n=>{if(typeof n!="function")throw Error("implementAsync() must be called with a function");return async function(...u){let i=e._def.input?await S1(e._def.input,u):u,r=await Reflect.apply(n,this,i);return e._def.output?await S1(e._def.output,r):r}},e._zod.parse=(n,u)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:e}),n):(e._def.output&&e._def.output._zod.def.type==="promise"?n.value=e.implementAsync(n.value):n.value=e.implement(n.value),n),e.input=(...n)=>{let u=e.constructor;return Array.isArray(n[0])?new u({type:"function",input:new hv({type:"tuple",items:n[0],rest:n[1]}),output:e._def.output}):new u({type:"function",input:n[0],output:e._def.output})},e.output=n=>new e.constructor({type:"function",input:e._def.input,output:n}),e)),U5=I("$ZodPromise",(e,t)=>{Oe.init(e,t),e._zod.parse=(n,u)=>Promise.resolve(n.value).then(i=>t.innerType._zod.run({value:i,issues:[]},u))}),j5=I("$ZodLazy",(e,t)=>{Oe.init(e,t),Qe(e._zod,"innerType",()=>t.getter()),Qe(e._zod,"pattern",()=>{var n,u;return(u=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:u.pattern}),Qe(e._zod,"propValues",()=>{var n,u;return(u=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:u.propValues}),Qe(e._zod,"optin",()=>{var n,u;return((u=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:u.optin)??void 0}),Qe(e._zod,"optout",()=>{var n,u;return((u=(n=e._zod.innerType)==null?void 0:n._zod)==null?void 0:u.optout)??void 0}),e._zod.parse=(n,u)=>e._zod.innerType._zod.run(n,u)}),L5=I("$ZodCustom",(e,t)=>{Rt.init(e,t),Oe.init(e,t),e._zod.parse=(n,u)=>n,e._zod.check=n=>{let u=n.value,i=t.fn(u);if(i instanceof Promise)return i.then(r=>hx(r,n,u,e));hx(i,n,u,e)}});function hx(e,t,n,u){if(!e){let i={code:"custom",input:n,inst:u,path:[...u._zod.def.path??[]],continue:!u._zod.def.abort};u._zod.def.params&&(i.params=u._zod.def.params),t.issues.push(gh(i))}}var mv={};ar(mv,{zhTW:()=>tP,zhCN:()=>WZ,yo:()=>iP,vi:()=>XZ,ur:()=>GZ,uk:()=>H5,ua:()=>JZ,tr:()=>qZ,th:()=>ZZ,ta:()=>jZ,sv:()=>FZ,sl:()=>MZ,ru:()=>OZ,pt:()=>NZ,ps:()=>AZ,pl:()=>TZ,ota:()=>wZ,no:()=>xZ,nl:()=>DZ,ms:()=>EZ,mk:()=>vZ,lt:()=>gZ,ko:()=>hZ,km:()=>P5,kh:()=>fZ,ka:()=>sZ,ja:()=>aZ,it:()=>uZ,is:()=>nZ,id:()=>WL,hu:()=>XL,he:()=>GL,frCA:()=>JL,fr:()=>qL,fi:()=>PL,fa:()=>LL,es:()=>UL,eo:()=>RL,en:()=>Z5,de:()=>NL,da:()=>TL,cs:()=>AL,ca:()=>wL,bg:()=>xL,be:()=>CL,az:()=>bL,ar:()=>yL});var gL=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  :   ${i.expected}    ${n(i.input)}`;case"invalid_value":return i.values.length===1?`  :   ${Te(i.values[0])}`:`  :     : ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`   :    ${i.origin??""} ${r} ${i.maximum.toString()} ${o.unit??""}`:`  :    ${i.origin??""} ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`  :   ${i.origin}   ${r} ${i.minimum.toString()} ${o.unit}`:`  :   ${i.origin}   ${r} ${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`  :     "${i.prefix}"`:r.format==="ends_with"?`  :     "${r.suffix}"`:r.format==="includes"?`  :    "${r.includes}"`:r.format==="regex"?`  :     ${r.pattern}`:`${u[r.format]??i.format}  `}case"not_multiple_of":return`  :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${ne(i.keys," ")}`;case"invalid_key":return`    ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`    ${i.origin}`;default:return"  "}}};function yL(){return{localeError:gL()}}var vL=()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl dyr: gzlniln ${i.expected}, daxil olan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl dyr: gzlniln ${Te(i.values[0])}`:`Yanl seim: aadaklardan biri olmaldr: ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`ox byk: gzlniln ${i.origin??"dyr"} ${r}${i.maximum.toString()} ${o.unit??"element"}`:`ox byk: gzlniln ${i.origin??"dyr"} ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`ox kiik: gzlniln ${i.origin} ${r}${i.minimum.toString()} ${o.unit}`:`ox kiik: gzlniln ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Yanl mtn: "${r.prefix}" il balamaldr`:r.format==="ends_with"?`Yanl mtn: "${r.suffix}" il bitmlidir`:r.format==="includes"?`Yanl mtn: "${r.includes}" daxil olmaldr`:r.format==="regex"?`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`:`Yanl ${u[r.format]??i.format}`}case"not_multiple_of":return`Yanl dd: ${i.divisor} il bln biln olmaldr`;case"unrecognized_keys":return`Tannmayan aar${i.keys.length>1?"lar":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind yanl aar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${i.origin} daxilind yanl dyr`;default:return"Yanl dyr"}}};function bL(){return{localeError:vL()}}function px(e,t,n,u){let i=Math.abs(e),r=i%10,o=i%100;return o>=11&&o<=19?u:r===1?t:r>=2&&r<=4?n:u}var EL=()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${n(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])}`:` :    ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);if(o){let s=Number(i.maximum),f=px(s,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin??""}  ${o.verb} ${r}${i.maximum.toString()} ${f}`}return` : ,  ${i.origin??""}   ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);if(o){let s=Number(i.minimum),f=px(s,o.unit.one,o.unit.few,o.unit.many);return` : ,  ${i.origin}  ${o.verb} ${r}${i.minimum.toString()} ${f}`}return` : ,  ${i.origin}   ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` :    "${r.prefix}"`:r.format==="ends_with"?` :    "${r.suffix}"`:r.format==="includes"?` :   "${r.includes}"`:r.format==="regex"?` :    ${r.pattern}`:` ${u[r.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function CL(){return{localeError:EL()}}var DL=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},kL=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(u){return e[u]??null}let n={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return u=>{switch(u.code){case"invalid_type":return` :  ${u.expected},  ${DL(u.input)}`;case"invalid_value":return u.values.length===1?` :  ${Te(u.values[0])}`:` :    ${ne(u.values,"|")}`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?` :   ${u.origin??""}   ${i}${u.maximum.toString()} ${r.unit??""}`:` :   ${u.origin??""}   ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?` :   ${u.origin}   ${i}${u.minimum.toString()} ${r.unit}`:` :   ${u.origin}   ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;if(i.format==="starts_with")return` :     "${i.prefix}"`;if(i.format==="ends_with")return` :     "${i.suffix}"`;if(i.format==="includes")return` :    "${i.includes}"`;if(i.format==="regex")return` :     ${i.pattern}`;let r="";return i.format==="emoji"&&(r=""),i.format==="datetime"&&(r=""),i.format==="date"&&(r=""),i.format==="time"&&(r=""),i.format==="duration"&&(r=""),`${r} ${n[i.format]??u.format}`}case"not_multiple_of":return` :      ${u.divisor}`;case"unrecognized_keys":return`${u.keys.length>1?"":""} ${u.keys.length>1?"":""}: ${ne(u.keys,", ")}`;case"invalid_key":return`   ${u.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${u.origin}`;default:return" "}}};function xL(){return{localeError:kL()}}var SL=()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invlid: s'esperava ${i.expected}, s'ha rebut ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invlid: s'esperava ${Te(i.values[0])}`:`Opci invlida: s'esperava una de ${ne(i.values," o ")}`;case"too_big":{let r=i.inclusive?"com a mxim":"menys de",o=t(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} contingus ${r} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?"com a mnim":"ms de",o=t(i.origin);return o?`Massa petit: s'esperava que ${i.origin} contingus ${r} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${r} ${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Format invlid: ha de comenar amb "${r.prefix}"`:r.format==="ends_with"?`Format invlid: ha d'acabar amb "${r.suffix}"`:r.format==="includes"?`Format invlid: ha d'incloure "${r.includes}"`:r.format==="regex"?`Format invlid: ha de coincidir amb el patr ${r.pattern}`:`Format invlid per a ${u[r.format]??i.format}`}case"not_multiple_of":return`Nmero invlid: ha de ser mltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`Clau invlida a ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element invlid a ${i.origin}`;default:return"Entrada invlida"}}};function wL(){return{localeError:SL()}}var _L=()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn vstup: oekvno ${i.expected}, obdreno ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn vstup: oekvno ${Te(i.values[0])}`:`Neplatn monost: oekvna jedna z hodnot ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Hodnota je pli velk: ${i.origin??"hodnota"} mus mt ${r}${i.maximum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli velk: ${i.origin??"hodnota"} mus bt ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Hodnota je pli mal: ${i.origin??"hodnota"} mus mt ${r}${i.minimum.toString()} ${o.unit??"prvk"}`:`Hodnota je pli mal: ${i.origin??"hodnota"} mus bt ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Neplatn etzec: mus zanat na "${r.prefix}"`:r.format==="ends_with"?`Neplatn etzec: mus konit na "${r.suffix}"`:r.format==="includes"?`Neplatn etzec: mus obsahovat "${r.includes}"`:r.format==="regex"?`Neplatn etzec: mus odpovdat vzoru ${r.pattern}`:`Neplatn formt ${u[r.format]??i.format}`}case"not_multiple_of":return`Neplatn slo: mus bt nsobkem ${i.divisor}`;case"unrecognized_keys":return`Neznm kle: ${ne(i.keys,", ")}`;case"invalid_key":return`Neplatn kl v ${i.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn hodnota v ${i.origin}`;default:return"Neplatn vstup"}}};function AL(){return{localeError:_L()}}var BL=()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"};function n(o){return e[o]??null}function u(o){return t[o]??o}let i=o=>{let s=typeof o;switch(s){case"number":return Number.isNaN(o)?"NaN":"tal";case"object":return Array.isArray(o)?"liste":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype&&o.constructor?o.constructor.name:"objekt"}return s},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Ugyldigt input: forventede ${u(o.expected)}, fik ${u(i(o.input))}`;case"invalid_value":return o.values.length===1?`Ugyldig vrdi: forventede ${Te(o.values[0])}`:`Ugyldigt valg: forventede en af flgende ${ne(o.values,"|")}`;case"too_big":{let s=o.inclusive?"<=":"<",f=n(o.origin),d=u(o.origin);return f?`For stor: forventede ${d??"value"} ${f.verb} ${s} ${o.maximum.toString()} ${f.unit??"elementer"}`:`For stor: forventede ${d??"value"} havde ${s} ${o.maximum.toString()}`}case"too_small":{let s=o.inclusive?">=":">",f=n(o.origin),d=u(o.origin);return f?`For lille: forventede ${d} ${f.verb} ${s} ${o.minimum.toString()} ${f.unit}`:`For lille: forventede ${d} havde ${s} ${o.minimum.toString()}`}case"invalid_format":{let s=o;return s.format==="starts_with"?`Ugyldig streng: skal starte med "${s.prefix}"`:s.format==="ends_with"?`Ugyldig streng: skal ende med "${s.suffix}"`:s.format==="includes"?`Ugyldig streng: skal indeholde "${s.includes}"`:s.format==="regex"?`Ugyldig streng: skal matche mnsteret ${s.pattern}`:`Ugyldig ${r[s.format]??o.format}`}case"not_multiple_of":return`Ugyldigt tal: skal vre deleligt med ${o.divisor}`;case"unrecognized_keys":return`${o.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${ne(o.keys,", ")}`;case"invalid_key":return`Ugyldig ngle i ${o.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig vrdi i ${o.origin}`;default:return"Ugyldigt input"}}};function TL(){return{localeError:BL()}}var zL=()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungltige Eingabe: erwartet ${i.expected}, erhalten ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ungltige Eingabe: erwartet ${Te(i.values[0])}`:`Ungltige Option: erwartet eine von ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Zu gro: erwartet, dass ${i.origin??"Wert"} ${r}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro: erwartet, dass ${i.origin??"Wert"} ${r}${i.maximum.toString()} ist`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${r}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${r}${i.minimum.toString()} ist`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Ungltiger String: muss mit "${r.prefix}" beginnen`:r.format==="ends_with"?`Ungltiger String: muss mit "${r.suffix}" enden`:r.format==="includes"?`Ungltiger String: muss "${r.includes}" enthalten`:r.format==="regex"?`Ungltiger String: muss dem Muster ${r.pattern} entsprechen`:`Ungltig: ${u[r.format]??i.format}`}case"not_multiple_of":return`Ungltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${ne(i.keys,", ")}`;case"invalid_key":return`Ungltiger Schlssel in ${i.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ungltiger Wert in ${i.origin}`;default:return"Ungltige Eingabe"}}};function NL(){return{localeError:zL()}}var $L=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},OL=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(u){return e[u]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return u=>{switch(u.code){case"invalid_type":return`Invalid input: expected ${u.expected}, received ${$L(u.input)}`;case"invalid_value":return u.values.length===1?`Invalid input: expected ${Te(u.values[0])}`:`Invalid option: expected one of ${ne(u.values,"|")}`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?`Too big: expected ${u.origin??"value"} to have ${i}${u.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${u.origin??"value"} to be ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?`Too small: expected ${u.origin} to have ${i}${u.minimum.toString()} ${r.unit}`:`Too small: expected ${u.origin} to be ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${n[i.format]??u.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${u.divisor}`;case"unrecognized_keys":return`Unrecognized key${u.keys.length>1?"s":""}: ${ne(u.keys,", ")}`;case"invalid_key":return`Invalid key in ${u.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${u.origin}`;default:return"Invalid input"}}};function Z5(){return{localeError:OL()}}var IL=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},ML=()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(u){return e[u]??null}let n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return u=>{switch(u.code){case"invalid_type":return`Nevalida enigo: atendiis ${u.expected}, riceviis ${IL(u.input)}`;case"invalid_value":return u.values.length===1?`Nevalida enigo: atendiis ${Te(u.values[0])}`:`Nevalida opcio: atendiis unu el ${ne(u.values,"|")}`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?`Tro granda: atendiis ke ${u.origin??"valoro"} havu ${i}${u.maximum.toString()} ${r.unit??"elementojn"}`:`Tro granda: atendiis ke ${u.origin??"valoro"} havu ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?`Tro malgranda: atendiis ke ${u.origin} havu ${i}${u.minimum.toString()} ${r.unit}`:`Tro malgranda: atendiis ke ${u.origin} estu ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;return i.format==="starts_with"?`Nevalida karaktraro: devas komencii per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finii per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${n[i.format]??u.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${u.divisor}`;case"unrecognized_keys":return`Nekonata${u.keys.length>1?"j":""} losilo${u.keys.length>1?"j":""}: ${ne(u.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${u.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${u.origin}`;default:return"Nevalida enigo"}}};function RL(){return{localeError:ML()}}var FL=()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(o){return e[o]??null}function u(o){return t[o]??o}let i=o=>{let s=typeof o;switch(s){case"number":return Number.isNaN(o)?"NaN":"number";case"object":return Array.isArray(o)?"array":o===null?"null":Object.getPrototypeOf(o)!==Object.prototype?o.constructor.name:"object"}return s},r={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return o=>{switch(o.code){case"invalid_type":return`Entrada invlida: se esperaba ${u(o.expected)}, recibido ${u(i(o.input))}`;case"invalid_value":return o.values.length===1?`Entrada invlida: se esperaba ${Te(o.values[0])}`:`Opcin invlida: se esperaba una de ${ne(o.values,"|")}`;case"too_big":{let s=o.inclusive?"<=":"<",f=n(o.origin),d=u(o.origin);return f?`Demasiado grande: se esperaba que ${d??"valor"} tuviera ${s}${o.maximum.toString()} ${f.unit??"elementos"}`:`Demasiado grande: se esperaba que ${d??"valor"} fuera ${s}${o.maximum.toString()}`}case"too_small":{let s=o.inclusive?">=":">",f=n(o.origin),d=u(o.origin);return f?`Demasiado pequeo: se esperaba que ${d} tuviera ${s}${o.minimum.toString()} ${f.unit}`:`Demasiado pequeo: se esperaba que ${d} fuera ${s}${o.minimum.toString()}`}case"invalid_format":{let s=o;return s.format==="starts_with"?`Cadena invlida: debe comenzar con "${s.prefix}"`:s.format==="ends_with"?`Cadena invlida: debe terminar en "${s.suffix}"`:s.format==="includes"?`Cadena invlida: debe incluir "${s.includes}"`:s.format==="regex"?`Cadena invlida: debe coincidir con el patrn ${s.pattern}`:`Invlido ${r[s.format]??o.format}`}case"not_multiple_of":return`Nmero invlido: debe ser mltiplo de ${o.divisor}`;case"unrecognized_keys":return`Llave${o.keys.length>1?"s":""} desconocida${o.keys.length>1?"s":""}: ${ne(o.keys,", ")}`;case"invalid_key":return`Llave invlida en ${u(o.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido en ${u(o.origin)}`;default:return"Entrada invlida"}}};function UL(){return{localeError:FL()}}var jL=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected}  ${n(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])} `:` :    ${ne(i.values,"|")} `;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${r}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${r}${i.maximum.toString()} `}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${r}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${r}${i.minimum.toString()} `}case"invalid_format":{let r=i;return r.format==="starts_with"?` :   "${r.prefix}"  `:r.format==="ends_with"?` :   "${r.suffix}"  `:r.format==="includes"?` :   "${r.includes}" `:r.format==="regex"?` :    ${r.pattern}   `:`${u[r.format]??i.format} `}case"not_multiple_of":return` :   ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""} : ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function LL(){return{localeError:jL()}}var ZL=()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syte: tytyy olla ${Te(i.values[0])}`:`Virheellinen valinta: tytyy olla yksi seuraavista: ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Liian suuri: ${o.subject} tytyy olla ${r}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon tytyy olla ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Liian pieni: ${o.subject} tytyy olla ${r}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon tytyy olla ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Virheellinen syte: tytyy alkaa "${r.prefix}"`:r.format==="ends_with"?`Virheellinen syte: tytyy loppua "${r.suffix}"`:r.format==="includes"?`Virheellinen syte: tytyy sislt "${r.includes}"`:r.format==="regex"?`Virheellinen syte: tytyy vastata snnllist lauseketta ${r.pattern}`:`Virheellinen ${u[r.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: tytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ne(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syte"}}};function PL(){return{localeError:ZL()}}var HL=()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : ${i.expected} attendu, ${n(i.input)} reu`;case"invalid_value":return i.values.length===1?`Entre invalide : ${Te(i.values[0])} attendu`:`Option invalide : une valeur parmi ${ne(i.values,"|")} attendue`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${r}${i.maximum.toString()} ${o.unit??"lment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit tre ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${r}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit tre ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Chane invalide : doit commencer par "${r.prefix}"`:r.format==="ends_with"?`Chane invalide : doit se terminer par "${r.suffix}"`:r.format==="includes"?`Chane invalide : doit inclure "${r.includes}"`:r.format==="regex"?`Chane invalide : doit correspondre au modle ${r.pattern}`:`${u[r.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ne(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}};function qL(){return{localeError:HL()}}var VL=()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return i=>{switch(i.code){case"invalid_type":return`Entre invalide : attendu ${i.expected}, reu ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entre invalide : attendu ${Te(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"":"<",o=t(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${r}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?"":">",o=t(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${r}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Chane invalide : doit commencer par "${r.prefix}"`:r.format==="ends_with"?`Chane invalide : doit se terminer par "${r.suffix}"`:r.format==="includes"?`Chane invalide : doit inclure "${r.includes}"`:r.format==="regex"?`Chane invalide : doit correspondre au motif ${r.pattern}`:`${u[r.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit tre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${ne(i.keys,", ")}`;case"invalid_key":return`Cl invalide dans ${i.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entre invalide"}}};function JL(){return{localeError:VL()}}var KL=()=>{let e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},n=d=>d?e[d]:void 0,u=d=>{let p=n(d);return p?p.label:d??e.unknown.label},i=d=>`${u(d)}`,r=d=>{var p;return(((p=n(d))==null?void 0:p.gender)??"m")==="f"?" ":" "},o=d=>d?t[d]??null:null,s=d=>{let p=typeof d;switch(p){case"number":return Number.isNaN(d)?"NaN":"number";case"object":return Array.isArray(d)?"array":d===null?"null":Object.getPrototypeOf(d)!==Object.prototype&&d.constructor?d.constructor.name:"object";default:return p}},f={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}};return d=>{var p;switch(d.code){case"invalid_type":{let m=d.expected,v=u(m),b=s(d.input),E=((p=e[b])==null?void 0:p.label)??b;return`  :   ${v},  ${E}`}case"invalid_value":{if(d.values.length===1)return`  :    ${Te(d.values[0])}`;let m=d.values.map(b=>Te(b));if(d.values.length===2)return`  :    ${m[0]}  ${m[1]}`;let v=m[m.length-1];return`  :    ${m.slice(0,-1).join(", ")}  ${v}`}case"too_big":{let m=o(d.origin),v=i(d.origin??"value");if(d.origin==="string")return`${(m==null?void 0:m.longLabel)??""} : ${v}   ${d.maximum.toString()} ${(m==null?void 0:m.unit)??""} ${d.inclusive?" ":" "}`.trim();if(d.origin==="number"){let k=d.inclusive?`   -${d.maximum}`:` -${d.maximum}`;return` : ${v}   ${k}`}if(d.origin==="array"||d.origin==="set"){let k=d.origin==="set"?"":"",S=d.inclusive?`${d.maximum} ${(m==null?void 0:m.unit)??""}  `:` -${d.maximum} ${(m==null?void 0:m.unit)??""}`;return` : ${v} ${k}  ${S}`.trim()}let b=d.inclusive?"<=":"<",E=r(d.origin??"value");return m!=null&&m.unit?`${m.longLabel} : ${v} ${E} ${b}${d.maximum.toString()} ${m.unit}`:`${(m==null?void 0:m.longLabel)??""} : ${v} ${E} ${b}${d.maximum.toString()}`}case"too_small":{let m=o(d.origin),v=i(d.origin??"value");if(d.origin==="string")return`${(m==null?void 0:m.shortLabel)??""} : ${v}   ${d.minimum.toString()} ${(m==null?void 0:m.unit)??""} ${d.inclusive?" ":""}`.trim();if(d.origin==="number"){let k=d.inclusive?`   -${d.minimum}`:` -${d.minimum}`;return` : ${v}   ${k}`}if(d.origin==="array"||d.origin==="set"){let k=d.origin==="set"?"":"";if(d.minimum===1&&d.inclusive){let w=(d.origin==="set","  ");return` : ${v} ${k}  ${w}`}let S=d.inclusive?`${d.minimum} ${(m==null?void 0:m.unit)??""}  `:` -${d.minimum} ${(m==null?void 0:m.unit)??""}`;return` : ${v} ${k}  ${S}`.trim()}let b=d.inclusive?">=":">",E=r(d.origin??"value");return m!=null&&m.unit?`${m.shortLabel} : ${v} ${E} ${b}${d.minimum.toString()} ${m.unit}`:`${(m==null?void 0:m.shortLabel)??""} : ${v} ${E} ${b}${d.minimum.toString()}`}case"invalid_format":{let m=d;if(m.format==="starts_with")return`    "${m.prefix}"`;if(m.format==="ends_with")return`    "${m.suffix}"`;if(m.format==="includes")return`   "${m.includes}"`;if(m.format==="regex")return`    ${m.pattern}`;let v=f[m.format],b=(v==null?void 0:v.label)??m.format,E=((v==null?void 0:v.gender)??"m")==="f"?"":"";return`${b}  ${E}`}case"not_multiple_of":return`  :     ${d.divisor}`;case"unrecognized_keys":return`${d.keys.length>1?"":""}  ${d.keys.length>1?"":""}: ${ne(d.keys,", ")}`;case"invalid_key":return"   ";case"invalid_union":return"  ";case"invalid_element":return`   ${i(d.origin??"array")}`;default:return"  "}}};function GL(){return{localeError:KL()}}var YL=()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"szm";case"object":{if(Array.isArray(i))return"tmb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`rvnytelen bemenet: a vrt rtk ${i.expected}, a kapott rtk ${n(i.input)}`;case"invalid_value":return i.values.length===1?`rvnytelen bemenet: a vrt rtk ${Te(i.values[0])}`:`rvnytelen opci: valamelyik rtk vrt ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Tl nagy: ${i.origin??"rtk"} mrete tl nagy ${r}${i.maximum.toString()} ${o.unit??"elem"}`:`Tl nagy: a bemeneti rtk ${i.origin??"rtk"} tl nagy: ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Tl kicsi: a bemeneti rtk ${i.origin} mrete tl kicsi ${r}${i.minimum.toString()} ${o.unit}`:`Tl kicsi: a bemeneti rtk ${i.origin} tl kicsi ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`rvnytelen string: "${r.prefix}" rtkkel kell kezddnie`:r.format==="ends_with"?`rvnytelen string: "${r.suffix}" rtkkel kell vgzdnie`:r.format==="includes"?`rvnytelen string: "${r.includes}" rtket kell tartalmaznia`:r.format==="regex"?`rvnytelen string: ${r.pattern} mintnak kell megfelelnie`:`rvnytelen ${u[r.format]??i.format}`}case"not_multiple_of":return`rvnytelen szm: ${i.divisor} tbbszrsnek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`rvnytelen kulcs ${i.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`rvnytelen rtk: ${i.origin}`;default:return"rvnytelen bemenet"}}};function XL(){return{localeError:YL()}}var QL=()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Te(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${r}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${r}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`String tidak valid: harus dimulai dengan "${r.prefix}"`:r.format==="ends_with"?`String tidak valid: harus berakhir dengan "${r.suffix}"`:r.format==="includes"?`String tidak valid: harus menyertakan "${r.includes}"`:r.format==="regex"?`String tidak valid: harus sesuai pola ${r.pattern}`:`${u[r.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function WL(){return{localeError:QL()}}var eZ=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},tZ=()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}};function t(u){return e[u]??null}let n={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return u=>{switch(u.code){case"invalid_type":return`Rangt gildi:  slst inn ${eZ(u.input)} ar sem  a vera ${u.expected}`;case"invalid_value":return u.values.length===1?`Rangt gildi: gert r fyrir ${Te(u.values[0])}`:`gilt val: m vera eitt af eftirfarandi ${ne(u.values,"|")}`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?`Of strt: gert er r fyrir a ${u.origin??"gildi"} hafi ${i}${u.maximum.toString()} ${r.unit??"hluti"}`:`Of strt: gert er r fyrir a ${u.origin??"gildi"} s ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?`Of lti: gert er r fyrir a ${u.origin} hafi ${i}${u.minimum.toString()} ${r.unit}`:`Of lti: gert er r fyrir a ${u.origin} s ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;return i.format==="starts_with"?`gildur strengur: verur a byrja  "${i.prefix}"`:i.format==="ends_with"?`gildur strengur: verur a enda  "${i.suffix}"`:i.format==="includes"?`gildur strengur: verur a innihalda "${i.includes}"`:i.format==="regex"?`gildur strengur: verur a fylgja mynstri ${i.pattern}`:`Rangt ${n[i.format]??u.format}`}case"not_multiple_of":return`Rng tala: verur a vera margfeldi af ${u.divisor}`;case"unrecognized_keys":return`ekkt ${u.keys.length>1?"ir lyklar":"ur lykill"}: ${ne(u.keys,", ")}`;case"invalid_key":return`Rangur lykill  ${u.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi  ${u.origin}`;default:return"Rangt gildi"}}};function nZ(){return{localeError:tZ()}}var iZ=()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Te(i.values[0])}`:`Opzione non valida: atteso uno tra ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${r}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${r}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Stringa non valida: deve iniziare con "${r.prefix}"`:r.format==="ends_with"?`Stringa non valida: deve terminare con "${r.suffix}"`:r.format==="includes"?`Stringa non valida: deve includere "${r.includes}"`:r.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${r.pattern}`:`Invalid ${u[r.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${ne(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function uZ(){return{localeError:iZ()}}var rZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`: ${i.expected}${n(i.input)}`;case"invalid_value":return i.values.length===1?`: ${Te(i.values[0])}`:`: ${ne(i.values,"")}`;case"too_big":{let r=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""}${i.maximum.toString()}${o.unit??""}${r}`:`: ${i.origin??""}${i.maximum.toString()}${r}`}case"too_small":{let r=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin}${i.minimum.toString()}${o.unit}${r}`:`: ${i.origin}${i.minimum.toString()}${r}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`: "${r.prefix}"`:r.format==="ends_with"?`: "${r.suffix}"`:r.format==="includes"?`: "${r.includes}"`:r.format==="regex"?`: ${r.pattern}`:`${u[r.format]??i.format}`}case"not_multiple_of":return`: ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""}: ${ne(i.keys,"")}`;case"invalid_key":return`${i.origin}`;case"invalid_union":return"";case"invalid_element":return`${i.origin}`;default:return""}}};function aZ(){return{localeError:rZ()}}var oZ=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":{if(Array.isArray(e))return"";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""}[t]??t},lZ=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(u){return e[u]??null}let n={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return u=>{switch(u.code){case"invalid_type":return` :  ${u.expected},  ${oZ(u.input)}`;case"invalid_value":return u.values.length===1?` :  ${Te(u.values[0])}`:` :  - ${ne(u.values,"|")}-`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?` :  ${u.origin??""} ${r.verb} ${i}${u.maximum.toString()} ${r.unit}`:` :  ${u.origin??""}  ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?` :  ${u.origin} ${r.verb} ${i}${u.minimum.toString()} ${r.unit}`:` :  ${u.origin}  ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;return i.format==="starts_with"?` :   "${i.prefix}"-`:i.format==="ends_with"?` :   "${i.suffix}"-`:i.format==="includes"?` :   "${i.includes}"-`:i.format==="regex"?` :    ${i.pattern}`:` ${n[i.format]??u.format}`}case"not_multiple_of":return` :   ${u.divisor}- `;case"unrecognized_keys":return` ${u.keys.length>1?"":""}: ${ne(u.keys,", ")}`;case"invalid_key":return`  ${u.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${u.origin}-`;default:return" "}}};function sZ(){return{localeError:lZ()}}var cZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`  ${i.expected}  ${n(i.input)}`;case"invalid_value":return i.values.length===1?`  ${Te(i.values[0])}`:`  ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`  ${i.origin??""} ${r} ${i.maximum.toString()} ${o.unit??""}`:`  ${i.origin??""} ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`  ${i.origin} ${r} ${i.minimum.toString()} ${o.unit}`:`  ${i.origin} ${r} ${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`  "${r.prefix}"`:r.format==="ends_with"?`  "${r.suffix}"`:r.format==="includes"?`  "${r.includes}"`:r.format==="regex"?`  ${r.pattern}`:` ${u[r.format]??i.format}`}case"not_multiple_of":return`  ${i.divisor}`;case"unrecognized_keys":return` ${ne(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return"";case"invalid_element":return` ${i.origin}`;default:return""}}};function P5(){return{localeError:cZ()}}function fZ(){return P5()}var dZ=()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},   ${n(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])}  `:` : ${ne(i.values," ")}   `;case"too_big":{let r=i.inclusive?"":"",o=r===""?" ":" ",s=t(i.origin),f=(s==null?void 0:s.unit)??"";return s?`${i.origin??""}  : ${i.maximum.toString()}${f} ${r}${o}`:`${i.origin??""}  : ${i.maximum.toString()} ${r}${o}`}case"too_small":{let r=i.inclusive?"":"",o=r===""?" ":" ",s=t(i.origin),f=(s==null?void 0:s.unit)??"";return s?`${i.origin??""}  : ${i.minimum.toString()}${f} ${r}${o}`:`${i.origin??""}  : ${i.minimum.toString()} ${r}${o}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` : "${r.prefix}"()  `:r.format==="ends_with"?` : "${r.suffix}"()  `:r.format==="includes"?` : "${r.includes}"()  `:r.format==="regex"?` :  ${r.pattern}   `:` ${u[r.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}  `;case"unrecognized_keys":return`   : ${ne(i.keys,", ")}`;case"invalid_key":return` : ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return` : ${i.origin}`;default:return" "}}};function hZ(){return{localeError:dZ()}}var pZ=e=>ac(typeof e,e),ac=(e,t=void 0)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return t===void 0?"neinomas objektas":t===null?"nulin reikm":Array.isArray(t)?"masyvas":Object.getPrototypeOf(t)!==Object.prototype&&t.constructor?t.constructor.name:"objektas";case"null":return"nulin reikm"}return e},tc=e=>e.charAt(0).toUpperCase()+e.slice(1);function mx(e){let t=Math.abs(e),n=t%10,u=t%100;return u>=11&&u<=19||n===0?"many":n===1?"one":"few"}var mZ=()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(u,i,r,o){let s=e[u]??null;return s===null?s:{unit:s.unit[i],verb:s.verb[o][r?"inclusive":"notInclusive"]}}let n={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return u=>{switch(u.code){case"invalid_type":return`Gautas tipas ${pZ(u.input)}, o tiktasi - ${ac(u.expected)}`;case"invalid_value":return u.values.length===1?`Privalo bti ${Te(u.values[0])}`:`Privalo bti vienas i ${ne(u.values,"|")} pasirinkim`;case"too_big":{let i=ac(u.origin),r=t(u.origin,mx(Number(u.maximum)),u.inclusive??!1,"smaller");if(r!=null&&r.verb)return`${tc(i??u.origin??"reikm")} ${r.verb} ${u.maximum.toString()} ${r.unit??"element"}`;let o=u.inclusive?"ne didesnis kaip":"maesnis kaip";return`${tc(i??u.origin??"reikm")} turi bti ${o} ${u.maximum.toString()} ${r==null?void 0:r.unit}`}case"too_small":{let i=ac(u.origin),r=t(u.origin,mx(Number(u.minimum)),u.inclusive??!1,"bigger");if(r!=null&&r.verb)return`${tc(i??u.origin??"reikm")} ${r.verb} ${u.minimum.toString()} ${r.unit??"element"}`;let o=u.inclusive?"ne maesnis kaip":"didesnis kaip";return`${tc(i??u.origin??"reikm")} turi bti ${o} ${u.minimum.toString()} ${r==null?void 0:r.unit}`}case"invalid_format":{let i=u;return i.format==="starts_with"?`Eilut privalo prasidti "${i.prefix}"`:i.format==="ends_with"?`Eilut privalo pasibaigti "${i.suffix}"`:i.format==="includes"?`Eilut privalo traukti "${i.includes}"`:i.format==="regex"?`Eilut privalo atitikti ${i.pattern}`:`Neteisingas ${n[i.format]??u.format}`}case"not_multiple_of":return`Skaiius privalo bti ${u.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${u.keys.length>1?"i":"as"} rakt${u.keys.length>1?"ai":"as"}: ${ne(u.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga vestis";case"invalid_element":{let i=ac(u.origin);return`${tc(i??u.origin??"reikm")} turi klaiding vest`}default:return"Klaidinga vestis"}}};function gZ(){return{localeError:mZ()}}var yZ=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :   ${i.expected},  ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Te(i.values[0])}`:` :    ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` :   ${i.origin??""}   ${r}${i.maximum.toString()} ${o.unit??""}`:` :   ${i.origin??""}   ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` :   ${i.origin}   ${r}${i.minimum.toString()} ${o.unit}`:` :   ${i.origin}   ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` :     "${r.prefix}"`:r.format==="ends_with"?` :     "${r.suffix}"`:r.format==="includes"?` :    "${r.includes}"`:r.format==="regex"?` :      ${r.pattern}`:`Invalid ${u[r.format]??i.format}`}case"not_multiple_of":return` :      ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?" ":" "}: ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin}`;default:return" "}}};function vZ(){return{localeError:yZ()}}var bZ=()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Te(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${r}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${r}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`String tidak sah: mesti bermula dengan "${r.prefix}"`:r.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${r.suffix}"`:r.format==="includes"?`String tidak sah: mesti mengandungi "${r.includes}"`:r.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${r.pattern}`:`${u[r.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ne(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function EZ(){return{localeError:bZ()}}var CZ=()=>{let e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Te(i.values[0])}`:`Ongeldige optie: verwacht n van ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Te groot: verwacht dat ${i.origin??"waarde"} ${o.verb} ${r}${i.maximum.toString()} ${o.unit??"elementen"}`:`Te groot: verwacht dat ${i.origin??"waarde"} ${r}${i.maximum.toString()} is`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Te klein: verwacht dat ${i.origin} ${o.verb} ${r}${i.minimum.toString()} ${o.unit}`:`Te klein: verwacht dat ${i.origin} ${r}${i.minimum.toString()} is`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Ongeldige tekst: moet met "${r.prefix}" beginnen`:r.format==="ends_with"?`Ongeldige tekst: moet op "${r.suffix}" eindigen`:r.format==="includes"?`Ongeldige tekst: moet "${r.includes}" bevatten`:r.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`:`Ongeldig: ${u[r.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function DZ(){return{localeError:CZ()}}var kZ=()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Te(i.values[0])}`:`Ugyldig valg: forventet en av ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til  ha ${r}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til  ha ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`For lite(n): forventet ${i.origin} til  ha ${r}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til  ha ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Ugyldig streng: m starte med "${r.prefix}"`:r.format==="ends_with"?`Ugyldig streng: m ende med "${r.suffix}"`:r.format==="includes"?`Ugyldig streng: m inneholde "${r.includes}"`:r.format==="regex"?`Ugyldig streng: m matche mnsteret ${r.pattern}`:`Ugyldig ${u[r.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m vre et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${ne(i.keys,", ")}`;case"invalid_key":return`Ugyldig nkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function xZ(){return{localeError:kZ()}}var SZ=()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fsit giren: umulan ${i.expected}, alnan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Fsit giren: umulan ${Te(i.values[0])}`:`Fsit tercih: mteberler ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fazla byk: ${i.origin??"value"}, ${r}${i.maximum.toString()} ${o.unit??"elements"} sahip olmalyd.`:`Fazla byk: ${i.origin??"value"}, ${r}${i.maximum.toString()} olmalyd.`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Fazla kk: ${i.origin}, ${r}${i.minimum.toString()} ${o.unit} sahip olmalyd.`:`Fazla kk: ${i.origin}, ${r}${i.minimum.toString()} olmalyd.`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Fsit metin: "${r.prefix}" ile balamal.`:r.format==="ends_with"?`Fsit metin: "${r.suffix}" ile bitmeli.`:r.format==="includes"?`Fsit metin: "${r.includes}" ihtiv etmeli.`:r.format==="regex"?`Fsit metin: ${r.pattern} nakna uymal.`:`Fsit ${u[r.format]??i.format}`}case"not_multiple_of":return`Fsit say: ${i.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`${i.origin} iin tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${i.origin} iin tannmayan kymet var.`;default:return"Kymet tannamad."}}};function wZ(){return{localeError:SZ()}}var _Z=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected} ,  ${n(i.input)}  `;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])} `:` :    ${ne(i.values,"|")}  `;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${r}${i.maximum.toString()} ${o.unit??""} `:` : ${i.origin??""}  ${r}${i.maximum.toString()} `}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${r}${i.minimum.toString()} ${o.unit} `:` : ${i.origin}  ${r}${i.minimum.toString()} `}case"invalid_format":{let r=i;return r.format==="starts_with"?` :   "${r.prefix}"   `:r.format==="ends_with"?` :   "${r.suffix}"    `:r.format==="includes"?` :  "${r.includes}" `:r.format==="regex"?` :   ${r.pattern}   `:`${u[r.format]??i.format}  `}case"not_multiple_of":return` :   ${i.divisor}  `;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin} `;case"invalid_union":return" ";case"invalid_element":return`   ${i.origin} `;default:return" "}}};function AZ(){return{localeError:_Z()}}var BZ=()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${i.expected}, otrzymano ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidowe dane wejciowe: oczekiwano ${Te(i.values[0])}`:`Nieprawidowa opcja: oczekiwano jednej z wartoci ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Za dua warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${r}${i.maximum.toString()} ${o.unit??"elementw"}`:`Zbyt du(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Za maa warto: oczekiwano, e ${i.origin??"warto"} bdzie mie ${r}${i.minimum.toString()} ${o.unit??"elementw"}`:`Zbyt ma(y/a/e): oczekiwano, e ${i.origin??"warto"} bdzie wynosi ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Nieprawidowy cig znakw: musi zaczyna si od "${r.prefix}"`:r.format==="ends_with"?`Nieprawidowy cig znakw: musi koczy si na "${r.suffix}"`:r.format==="includes"?`Nieprawidowy cig znakw: musi zawiera "${r.includes}"`:r.format==="regex"?`Nieprawidowy cig znakw: musi odpowiada wzorcowi ${r.pattern}`:`Nieprawidow(y/a/e) ${u[r.format]??i.format}`}case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${i.origin}`;default:return"Nieprawidowe dane wejciowe"}}};function TZ(){return{localeError:BZ()}}var zZ=()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"nmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo invlido: esperado ${i.expected}, recebido ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada invlida: esperado ${Te(i.values[0])}`:`Opo invlida: esperada uma das ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${r}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${r}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Texto invlido: deve comear com "${r.prefix}"`:r.format==="ends_with"?`Texto invlido: deve terminar com "${r.suffix}"`:r.format==="includes"?`Texto invlido: deve incluir "${r.includes}"`:r.format==="regex"?`Texto invlido: deve corresponder ao padro ${r.pattern}`:`${u[r.format]??i.format} invlido`}case"not_multiple_of":return`Nmero invlido: deve ser mltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`Chave invlida em ${i.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor invlido em ${i.origin}`;default:return"Campo invlido"}}};function NZ(){return{localeError:zZ()}}function gx(e,t,n,u){let i=Math.abs(e),r=i%10,o=i%100;return o>=11&&o<=19?u:r===1?t:r>=2&&r<=4?n:u}var $Z=()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${n(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])}`:` :    ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);if(o){let s=Number(i.maximum),f=gx(s,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin??""}   ${r}${i.maximum.toString()} ${f}`}return`  : ,  ${i.origin??""}  ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);if(o){let s=Number(i.minimum),f=gx(s,o.unit.one,o.unit.few,o.unit.many);return`  : ,  ${i.origin}   ${r}${i.minimum.toString()} ${f}`}return`  : ,  ${i.origin}  ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` :    "${r.prefix}"`:r.format==="ends_with"?` :    "${r.suffix}"`:r.format==="includes"?` :   "${r.includes}"`:r.format==="regex"?` :    ${r.pattern}`:` ${u[r.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"":""} ${i.keys.length>1?"":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}};function OZ(){return{localeError:$Z()}}var IZ=()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: priakovano ${i.expected}, prejeto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: priakovano ${Te(i.values[0])}`:`Neveljavna monost: priakovano eno izmed ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Preveliko: priakovano, da bo ${i.origin??"vrednost"} imelo ${r}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: priakovano, da bo ${i.origin??"vrednost"} ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Premajhno: priakovano, da bo ${i.origin} imelo ${r}${i.minimum.toString()} ${o.unit}`:`Premajhno: priakovano, da bo ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Neveljaven niz: mora se zaeti z "${r.prefix}"`:r.format==="ends_with"?`Neveljaven niz: mora se konati z "${r.suffix}"`:r.format==="includes"?`Neveljaven niz: mora vsebovati "${r.includes}"`:r.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`:`Neveljaven ${u[r.format]??i.format}`}case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i kljui":" klju"}: ${ne(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function MZ(){return{localeError:IZ()}}var RZ=()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: frvntat ${i.expected}, fick ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: frvntat ${Te(i.values[0])}`:`Ogiltigt val: frvntade en av ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Fr stor(t): frvntade ${i.origin??"vrdet"} att ha ${r}${i.maximum.toString()} ${o.unit??"element"}`:`Fr stor(t): frvntat ${i.origin??"vrdet"} att ha ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${r}${i.minimum.toString()} ${o.unit}`:`Fr lite(t): frvntade ${i.origin??"vrdet"} att ha ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Ogiltig strng: mste brja med "${r.prefix}"`:r.format==="ends_with"?`Ogiltig strng: mste sluta med "${r.suffix}"`:r.format==="includes"?`Ogiltig strng: mste innehlla "${r.includes}"`:r.format==="regex"?`Ogiltig strng: mste matcha mnstret "${r.pattern}"`:`Ogiltig(t) ${u[r.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: mste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${ne(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"vrdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt vrde i ${i.origin??"vrdet"}`;default:return"Ogiltig input"}}};function FZ(){return{localeError:RZ()}}var UZ=()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?" ":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return` :  ${i.expected},  ${n(i.input)}`;case"invalid_value":return i.values.length===1?` :  ${Te(i.values[0])}`:` :  ${ne(i.values,"|")}  `;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` :  ${i.origin??""} ${r}${i.maximum.toString()} ${o.unit??""}   `:` :  ${i.origin??""} ${r}${i.maximum.toString()}   `}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` :  ${i.origin} ${r}${i.minimum.toString()} ${o.unit}   `:` :  ${i.origin} ${r}${i.minimum.toString()}   `}case"invalid_format":{let r=i;return r.format==="starts_with"?` : "${r.prefix}"   `:r.format==="ends_with"?` : "${r.suffix}"   `:r.format==="includes"?` : "${r.includes}"   `:r.format==="regex"?` : ${r.pattern}   `:` ${u[r.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`  ${i.keys.length>1?"":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${i.origin}   `;default:return" "}}};function jZ(){return{localeError:UZ()}}var LZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?" (NaN)":"";case"object":{if(Array.isArray(i))return" (Array)";if(i===null)return" (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return`:  ${i.expected}  ${n(i.input)}`;case"invalid_value":return i.values.length===1?`:  ${Te(i.values[0])}`:`:  ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin??""} ${r} ${i.maximum.toString()} ${o.unit??""}`:`: ${i.origin??""} ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?"":"",o=t(i.origin);return o?`: ${i.origin} ${r} ${i.minimum.toString()} ${o.unit}`:`: ${i.origin} ${r} ${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`:  "${r.prefix}"`:r.format==="ends_with"?`:  "${r.suffix}"`:r.format==="includes"?`:  "${r.includes}" `:r.format==="regex"?`:  ${r.pattern}`:`: ${u[r.format]??i.format}`}case"not_multiple_of":return`:  ${i.divisor} `;case"unrecognized_keys":return`: ${ne(i.keys,", ")}`;case"invalid_key":return` ${i.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${i.origin}`;default:return""}}};function ZZ(){return{localeError:LZ()}}var PZ=e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},HZ=()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}};function t(u){return e[u]??null}let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return u=>{switch(u.code){case"invalid_type":return`Geersiz deer: beklenen ${u.expected}, alnan ${PZ(u.input)}`;case"invalid_value":return u.values.length===1?`Geersiz deer: beklenen ${Te(u.values[0])}`:`Geersiz seenek: aadakilerden biri olmal: ${ne(u.values,"|")}`;case"too_big":{let i=u.inclusive?"<=":"<",r=t(u.origin);return r?`ok byk: beklenen ${u.origin??"deer"} ${i}${u.maximum.toString()} ${r.unit??"e"}`:`ok byk: beklenen ${u.origin??"deer"} ${i}${u.maximum.toString()}`}case"too_small":{let i=u.inclusive?">=":">",r=t(u.origin);return r?`ok kk: beklenen ${u.origin} ${i}${u.minimum.toString()} ${r.unit}`:`ok kk: beklenen ${u.origin} ${i}${u.minimum.toString()}`}case"invalid_format":{let i=u;return i.format==="starts_with"?`Geersiz metin: "${i.prefix}" ile balamal`:i.format==="ends_with"?`Geersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geersiz metin: "${i.includes}" iermeli`:i.format==="regex"?`Geersiz metin: ${i.pattern} desenine uymal`:`Geersiz ${n[i.format]??u.format}`}case"not_multiple_of":return`Geersiz say: ${u.divisor} ile tam blnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${u.keys.length>1?"lar":""}: ${ne(u.keys,", ")}`;case"invalid_key":return`${u.origin} iinde geersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${u.origin} iinde geersiz deer`;default:return"Geersiz deer"}}};function qZ(){return{localeError:HZ()}}var VZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  :  ${i.expected},  ${n(i.input)}`;case"invalid_value":return i.values.length===1?`  :  ${Te(i.values[0])}`:` :    ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ,  ${i.origin??""} ${o.verb} ${r}${i.maximum.toString()} ${o.unit??""}`:` : ,  ${i.origin??""}  ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` : ,  ${i.origin} ${o.verb} ${r}${i.minimum.toString()} ${o.unit}`:` : ,  ${i.origin}  ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` :    "${r.prefix}"`:r.format==="ends_with"?` :    "${r.suffix}"`:r.format==="includes"?` :   "${r.includes}"`:r.format==="regex"?` :    ${r.pattern}`:` ${u[r.format]??i.format}`}case"not_multiple_of":return` :    ${i.divisor}`;case"unrecognized_keys":return` ${i.keys.length>1?"":""}: ${ne(i.keys,", ")}`;case"invalid_key":return`   ${i.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${i.origin}`;default:return"  "}}};function H5(){return{localeError:VZ()}}function JZ(){return H5()}var KZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return i=>{switch(i.code){case"invalid_type":return`  : ${i.expected}   ${n(i.input)}  `;case"invalid_value":return i.values.length===1?`  : ${Te(i.values[0])}  `:` : ${ne(i.values,"|")}     `;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` : ${i.origin??""}  ${r}${i.maximum.toString()} ${o.unit??""}   `:` : ${i.origin??""}  ${r}${i.maximum.toString()}   `}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` : ${i.origin}  ${r}${i.minimum.toString()} ${o.unit}   `:` : ${i.origin}  ${r}${i.minimum.toString()}   `}case"invalid_format":{let r=i;return r.format==="starts_with"?` : "${r.prefix}"    `:r.format==="ends_with"?` : "${r.suffix}"    `:r.format==="includes"?` : "${r.includes}"   `:r.format==="regex"?` :  ${r.pattern}    `:` ${u[r.format]??i.format}`}case"not_multiple_of":return` : ${i.divisor}    `;case"unrecognized_keys":return`   ${i.keys.length>1?"":""}: ${ne(i.keys," ")}`;case"invalid_key":return`${i.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${i.origin}   `;default:return"  "}}};function GZ(){return{localeError:KZ()}}var YZ=()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"s";case"object":{if(Array.isArray(i))return"mng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return i=>{switch(i.code){case"invalid_type":return`u vo khng hp l: mong i ${i.expected}, nhn c ${n(i.input)}`;case"invalid_value":return i.values.length===1?`u vo khng hp l: mong i ${Te(i.values[0])}`:`Ty chn khng hp l: mong i mt trong cc gi tr ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`Qu ln: mong i ${i.origin??"gi tr"} ${o.verb} ${r}${i.maximum.toString()} ${o.unit??"phn t"}`:`Qu ln: mong i ${i.origin??"gi tr"} ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Qu nh: mong i ${i.origin} ${o.verb} ${r}${i.minimum.toString()} ${o.unit}`:`Qu nh: mong i ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Chui khng hp l: phi bt u bng "${r.prefix}"`:r.format==="ends_with"?`Chui khng hp l: phi kt thc bng "${r.suffix}"`:r.format==="includes"?`Chui khng hp l: phi bao gm "${r.includes}"`:r.format==="regex"?`Chui khng hp l: phi khp vi mu ${r.pattern}`:`${u[r.format]??i.format} khng hp l`}case"not_multiple_of":return`S khng hp l: phi l bi s ca ${i.divisor}`;case"unrecognized_keys":return`Kha khng c nhn dng: ${ne(i.keys,", ")}`;case"invalid_key":return`Kha khng hp l trong ${i.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi tr khng hp l trong ${i.origin}`;default:return"u vo khng hp l"}}};function XZ(){return{localeError:YZ()}}var QZ=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"(NaN)":"";case"object":{if(Array.isArray(i))return"";if(i===null)return"(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${n(i.input)}`;case"invalid_value":return i.values.length===1?` ${Te(i.values[0])}`:` ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""} ${r}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""} ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin} ${r}${i.minimum.toString()} ${o.unit}`:` ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` "${r.prefix}" `:r.format==="ends_with"?` "${r.suffix}" `:r.format==="includes"?` "${r.includes}"`:r.format==="regex"?` ${r.pattern}`:`${u[r.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`(key): ${ne(i.keys,", ")}`;case"invalid_key":return`${i.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${i.origin} (value)`;default:return""}}};function WZ(){return{localeError:QZ()}}var eP=()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return i=>{switch(i.code){case"invalid_type":return` ${i.expected} ${n(i.input)}`;case"invalid_value":return i.values.length===1?` ${Te(i.values[0])}`:` ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?` ${i.origin??""}  ${r}${i.maximum.toString()} ${o.unit??""}`:` ${i.origin??""}  ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?` ${i.origin}  ${r}${i.minimum.toString()} ${o.unit}`:` ${i.origin}  ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?` "${r.prefix}" `:r.format==="ends_with"?` "${r.suffix}" `:r.format==="includes"?` "${r.includes}"`:r.format==="regex"?` ${r.pattern}`:` ${u[r.format]??i.format}`}case"not_multiple_of":return` ${i.divisor} `;case"unrecognized_keys":return`${i.keys.length>1?"":""}${ne(i.keys,"")}`;case"invalid_key":return`${i.origin} `;case"invalid_union":return"";case"invalid_element":return`${i.origin} `;default:return""}}};function tP(){return{localeError:eP()}}var nP=()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}};function t(i){return e[i]??null}let n=i=>{let r=typeof i;switch(r){case"number":return Number.isNaN(i)?"NaN":"nmb";case"object":{if(Array.isArray(i))return"akop";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return r},u={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return i=>{switch(i.code){case"invalid_type":return`bwl ae: a n lti fi ${i.expected}, m a r ${n(i.input)}`;case"invalid_value":return i.values.length===1?`bwl ae: a n lti fi ${Te(i.values[0])}`:`yn ae: yan kan lra ${ne(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",o=t(i.origin);return o?`T p j: a n lti j p ${i.origin??"iye"} ${o.verb} ${r}${i.maximum} ${o.unit}`:`T p j: a n lti j ${r}${i.maximum}`}case"too_small":{let r=i.inclusive?">=":">",o=t(i.origin);return o?`Kr ju: a n lti j p ${i.origin} ${o.verb} ${r}${i.minimum} ${o.unit}`:`Kr ju: a n lti j ${r}${i.minimum}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`r ae: gbd br pl "${r.prefix}"`:r.format==="ends_with"?`r ae: gbd par pl "${r.suffix}"`:r.format==="includes"?`r ae: gbd n "${r.includes}"`:r.format==="regex"?`r ae: gbd b pr mu ${r.pattern}`:`Ae: ${u[r.format]??i.format}`}case"not_multiple_of":return`Nmb ae: gbd j y ppn ti ${i.divisor}`;case"unrecognized_keys":return`Btn m: ${ne(i.keys,", ")}`;case"invalid_key":return`Btn ae nn ${i.origin}`;case"invalid_union":return"bwl ae";case"invalid_element":return`Iye ae nn ${i.origin}`;default:return"bwl ae"}}};function iP(){return{localeError:nP()}}var yx,q5=Symbol("ZodOutput"),V5=Symbol("ZodInput"),J5=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let n=t[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let n={...this.get(t)??{}};delete n.id;let u={...n,...this._map.get(e)};return Object.keys(u).length?u:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function gv(){return new J5}(yx=globalThis).__zod_globalRegistry??(yx.__zod_globalRegistry=gv());var iu=globalThis.__zod_globalRegistry;function K5(e,t){return new e({type:"string",...ie(t)})}function G5(e,t){return new e({type:"string",coerce:!0,...ie(t)})}function yv(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ie(t)})}function vh(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ie(t)})}function vv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ie(t)})}function bv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ie(t)})}function Ev(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ie(t)})}function Cv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ie(t)})}function Qh(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ie(t)})}function Dv(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ie(t)})}function kv(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ie(t)})}function xv(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ie(t)})}function Sv(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ie(t)})}function wv(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ie(t)})}function _v(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ie(t)})}function Av(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ie(t)})}function Bv(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ie(t)})}function Tv(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ie(t)})}function Y5(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...ie(t)})}function zv(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ie(t)})}function Nv(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ie(t)})}function $v(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ie(t)})}function Ov(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ie(t)})}function Iv(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ie(t)})}function Mv(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ie(t)})}var X5={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Q5(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ie(t)})}function W5(e,t){return new e({type:"string",format:"date",check:"string_format",...ie(t)})}function eA(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ie(t)})}function tA(e,t){return new e({type:"string",format:"duration",check:"string_format",...ie(t)})}function nA(e,t){return new e({type:"number",checks:[],...ie(t)})}function iA(e,t){return new e({type:"number",coerce:!0,checks:[],...ie(t)})}function uA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ie(t)})}function rA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...ie(t)})}function aA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...ie(t)})}function oA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...ie(t)})}function lA(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...ie(t)})}function sA(e,t){return new e({type:"boolean",...ie(t)})}function cA(e,t){return new e({type:"boolean",coerce:!0,...ie(t)})}function fA(e,t){return new e({type:"bigint",...ie(t)})}function dA(e,t){return new e({type:"bigint",coerce:!0,...ie(t)})}function hA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...ie(t)})}function pA(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...ie(t)})}function mA(e,t){return new e({type:"symbol",...ie(t)})}function gA(e,t){return new e({type:"undefined",...ie(t)})}function yA(e,t){return new e({type:"null",...ie(t)})}function vA(e){return new e({type:"any"})}function bA(e){return new e({type:"unknown"})}function EA(e,t){return new e({type:"never",...ie(t)})}function CA(e,t){return new e({type:"void",...ie(t)})}function DA(e,t){return new e({type:"date",...ie(t)})}function kA(e,t){return new e({type:"date",coerce:!0,...ie(t)})}function xA(e,t){return new e({type:"nan",...ie(t)})}function na(e,t){return new ov({check:"less_than",...ie(t),value:e,inclusive:!1})}function ji(e,t){return new ov({check:"less_than",...ie(t),value:e,inclusive:!0})}function ia(e,t){return new lv({check:"greater_than",...ie(t),value:e,inclusive:!1})}function Kn(e,t){return new lv({check:"greater_than",...ie(t),value:e,inclusive:!0})}function Rv(e){return ia(0,e)}function Fv(e){return na(0,e)}function Uv(e){return ji(0,e)}function jv(e){return Kn(0,e)}function Ml(e,t){return new s_({check:"multiple_of",...ie(t),value:e})}function Sf(e,t){return new d_({check:"max_size",...ie(t),maximum:e})}function Rl(e,t){return new h_({check:"min_size",...ie(t),minimum:e})}function Wh(e,t){return new p_({check:"size_equals",...ie(t),size:e})}function wf(e,t){return new m_({check:"max_length",...ie(t),maximum:e})}function io(e,t){return new g_({check:"min_length",...ie(t),minimum:e})}function _f(e,t){return new y_({check:"length_equals",...ie(t),length:e})}function ep(e,t){return new v_({check:"string_format",format:"regex",...ie(t),pattern:e})}function tp(e){return new b_({check:"string_format",format:"lowercase",...ie(e)})}function np(e){return new E_({check:"string_format",format:"uppercase",...ie(e)})}function ip(e,t){return new C_({check:"string_format",format:"includes",...ie(t),includes:e})}function up(e,t){return new D_({check:"string_format",format:"starts_with",...ie(t),prefix:e})}function rp(e,t){return new k_({check:"string_format",format:"ends_with",...ie(t),suffix:e})}function Lv(e,t,n){return new x_({check:"property",property:e,schema:t,...ie(n)})}function ap(e,t){return new S_({check:"mime_type",mime:e,...ie(t)})}function or(e){return new w_({check:"overwrite",tx:e})}function op(e){return or(t=>t.normalize(e))}function lp(){return or(e=>e.trim())}function sp(){return or(e=>e.toLowerCase())}function cp(){return or(e=>e.toUpperCase())}function fp(){return or(e=>mw(e))}function SA(e,t,n){return new e({type:"array",element:t,...ie(n)})}function uP(e,t,n){return new e({type:"union",options:t,...ie(n)})}function rP(e,t,n){return new e({type:"union",options:t,inclusive:!1,...ie(n)})}function aP(e,t,n,u){return new e({type:"union",options:n,discriminator:t,...ie(u)})}function oP(e,t,n){return new e({type:"intersection",left:t,right:n})}function lP(e,t,n,u){let i=n instanceof Oe;return new e({type:"tuple",items:t,rest:i?n:null,...ie(i?u:n)})}function sP(e,t,n,u){return new e({type:"record",keyType:t,valueType:n,...ie(u)})}function cP(e,t,n,u){return new e({type:"map",keyType:t,valueType:n,...ie(u)})}function fP(e,t,n){return new e({type:"set",valueType:t,...ie(n)})}function dP(e,t,n){let u=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:u,...ie(n)})}function hP(e,t,n){return new e({type:"enum",entries:t,...ie(n)})}function pP(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...ie(n)})}function wA(e,t){return new e({type:"file",...ie(t)})}function mP(e,t){return new e({type:"transform",transform:t})}function gP(e,t){return new e({type:"optional",innerType:t})}function yP(e,t){return new e({type:"nullable",innerType:t})}function vP(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():yw(n)}})}function bP(e,t,n){return new e({type:"nonoptional",innerType:t,...ie(n)})}function EP(e,t){return new e({type:"success",innerType:t})}function CP(e,t,n){return new e({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}function DP(e,t,n){return new e({type:"pipe",in:t,out:n})}function kP(e,t){return new e({type:"readonly",innerType:t})}function xP(e,t,n){return new e({type:"template_literal",parts:t,...ie(n)})}function SP(e,t){return new e({type:"lazy",getter:t})}function wP(e,t){return new e({type:"promise",innerType:t})}function _A(e,t,n){let u=ie(n);return u.abort??(u.abort=!0),new e({type:"custom",check:"custom",fn:t,...u})}function AA(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ie(n)})}function BA(e){let t=TA(n=>(n.addIssue=u=>{if(typeof u=="string")n.issues.push(gh(u,n.value,t._zod.def));else{let i=u;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(gh(i))}},e(n.value,n)));return t}function TA(e,t){let n=new Rt({check:"custom",...ie(t)});return n._zod.check=e,n}function zA(e){let t=new Rt({check:"describe"});return t._zod.onattach=[n=>{let u=iu.get(n)??{};iu.add(n,{...u,description:e})}],t._zod.check=()=>{},t}function NA(e){let t=new Rt({check:"meta"});return t._zod.onattach=[n=>{let u=iu.get(n)??{};iu.add(n,{...u,...e})}],t._zod.check=()=>{},t}function $A(e,t){let n=ie(t),u=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(u=u.map(v=>typeof v=="string"?v.toLowerCase():v),i=i.map(v=>typeof v=="string"?v.toLowerCase():v));let r=new Set(u),o=new Set(i),s=e.Codec??pv,f=e.Boolean??fv,d=new(e.String??xf)({type:"string",error:n.error}),p=new f({type:"boolean",error:n.error}),m=new s({type:"pipe",in:d,out:p,transform:(v,b)=>{let E=v;return n.case!=="sensitive"&&(E=E.toLowerCase()),r.has(E)?!0:o.has(E)?!1:(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...r,...o],input:b.value,inst:m,continue:!1}),{})},reverseTransform:(v,b)=>v===!0?u[0]||"true":i[0]||"false",error:n.error});return m}function Af(e,t,n,u={}){let i=ie(u),r={...ie(u),check:"string_format",type:"string",format:t,fn:typeof n=="function"?n:o=>n.test(o),...i};return n instanceof RegExp&&(r.pattern=n),new e(r)}function Fl(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??iu,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function kt(e,t,n={path:[],schemaPath:[]}){var d,p;var u;let i=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;let o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);let s=(p=(d=e._zod).toJSONSchema)==null?void 0:p.call(d);if(s)o.schema=s;else{let m={...n,schemaPath:[...n.schemaPath,e],path:n.path},v=e._zod.parent;if(v)o.ref=v,kt(v,t,m),t.seen.get(v).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,m);else{let b=o.schema,E=t.processors[i.type];if(!E)throw Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);E(e,t,b,m)}}let f=t.metadataRegistry.get(e);return f&&Object.assign(o.schema,f),t.io==="input"&&$n(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((u=o.schema).default??(u.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function Ul(e,t){var r,o,s;let n=e.seen.get(t);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let u=f=>{var v;let d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){let b=(v=e.external.registry.get(f[0]))==null?void 0:v.id,E=e.external.uri??(S=>S);if(b)return{ref:E(b)};let k=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=k,{defId:k,ref:`${E("__shared")}#/${d}/${k}`}}if(f[1]===n)return{ref:"#"};let p=`#/${d}/`,m=f[1].schema.id??`__schema${e.counter++}`;return{defId:m,ref:p+m}},i=f=>{if(f[1].schema.$ref)return;let d=f[1],{ref:p,defId:m}=u(f);d.def={...d.schema},m&&(d.defId=m);let v=d.schema;for(let b in v)delete v[b];v.$ref=p};if(e.cycles==="throw")for(let f of e.seen.entries()){let d=f[1];if(d.cycle)throw Error(`Cycle detected: #/${(r=d.cycle)==null?void 0:r.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let f of e.seen.entries()){let d=f[1];if(t===f[0]){i(f);continue}if(e.external){let p=(o=e.external.registry.get(f[0]))==null?void 0:o.id;if(t!==f[0]&&p){i(f);continue}}if((s=e.metadataRegistry.get(f[0]))!=null&&s.id){i(f);continue}if(d.cycle){i(f);continue}if(d.count>1&&e.reused==="ref"){i(f);continue}}}function jl(e,t){var o,s,f;let n=e.seen.get(t);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let u=d=>{let p=e.seen.get(d),m=p.def??p.schema,v={...m};if(p.ref===null)return;let b=p.ref;if(p.ref=null,b){u(b);let E=e.seen.get(b).schema;E.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(E)):(Object.assign(m,E),Object.assign(m,v))}p.isParent||e.override({zodSchema:d,jsonSchema:m,path:p.path??[]})};for(let d of[...e.seen.entries()].reverse())u(d[0]);let i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,(o=e.external)!=null&&o.uri){let d=(s=e.external.registry.get(t))==null?void 0:s.id;if(!d)throw Error("Schema is missing an `id` property");i.$id=e.external.uri(d)}Object.assign(i,n.def??n.schema);let r=((f=e.external)==null?void 0:f.defs)??{};for(let d of e.seen.entries()){let p=d[1];p.def&&p.defId&&(r[p.defId]=p.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?i.$defs=r:i.definitions=r);try{let d=JSON.parse(JSON.stringify(i));return Object.defineProperty(d,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ic(t,"input"),output:Ic(t,"output")}},enumerable:!1,writable:!1}),d}catch{throw Error("Error converting schema to JSON.")}}function $n(e,t){let n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);let u=e._zod.def;if(u.type==="transform")return!0;if(u.type==="array")return $n(u.element,n);if(u.type==="set")return $n(u.valueType,n);if(u.type==="lazy")return $n(u.getter(),n);if(u.type==="promise"||u.type==="optional"||u.type==="nonoptional"||u.type==="nullable"||u.type==="readonly"||u.type==="default"||u.type==="prefault")return $n(u.innerType,n);if(u.type==="intersection")return $n(u.left,n)||$n(u.right,n);if(u.type==="record"||u.type==="map")return $n(u.keyType,n)||$n(u.valueType,n);if(u.type==="pipe")return $n(u.in,n)||$n(u.out,n);if(u.type==="object"){for(let i in u.shape)if($n(u.shape[i],n))return!0;return!1}if(u.type==="union"){for(let i of u.options)if($n(i,n))return!0;return!1}if(u.type==="tuple"){for(let i of u.items)if($n(i,n))return!0;return!!(u.rest&&$n(u.rest,n))}return!1}var OA=(e,t={})=>n=>{let u=Fl({...n,processors:t});return kt(e,u),Ul(u,e),jl(u,e)},Ic=(e,t)=>n=>{let{libraryOptions:u,target:i}=n??{},r=Fl({...u??{},target:i,io:t,processors:{}});return kt(e,r),Ul(r,e),jl(r,e)},_P={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},IA=(e,t,n,u)=>{let i=n;i.type="string";let{minimum:r,maximum:o,format:s,patterns:f,contentEncoding:d}=e._zod.bag;if(typeof r=="number"&&(i.minLength=r),typeof o=="number"&&(i.maxLength=o),s&&(i.format=_P[s]??s,i.format===""&&delete i.format),d&&(i.contentEncoding=d),f&&f.size>0){let p=[...f];p.length===1?i.pattern=p[0].source:p.length>1&&(i.allOf=[...p.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},MA=(e,t,n,u)=>{let i=n,{minimum:r,maximum:o,format:s,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:p}=e._zod.bag;typeof s=="string"&&s.includes("int")?i.type="integer":i.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=p,i.exclusiveMinimum=!0):i.exclusiveMinimum=p),typeof r=="number"&&(i.minimum=r,typeof p=="number"&&t.target!=="draft-04"&&(p>=r?delete i.minimum:delete i.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=d,i.exclusiveMaximum=!0):i.exclusiveMaximum=d),typeof o=="number"&&(i.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},RA=(e,t,n,u)=>{n.type="boolean"},FA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},UA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},jA=(e,t,n,u)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},LA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},ZA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},PA=(e,t,n,u)=>{n.not={}},HA=(e,t,n,u)=>{},qA=(e,t,n,u)=>{},VA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},JA=(e,t,n,u)=>{let i=e._zod.def,r=Jy(i.entries);r.every(o=>typeof o=="number")&&(n.type="number"),r.every(o=>typeof o=="string")&&(n.type="string"),n.enum=r},KA=(e,t,n,u)=>{let i=e._zod.def,r=[];for(let o of i.values)if(o===void 0){if(t.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");r.push(Number(o))}else r.push(o);if(r.length!==0)if(r.length===1){let o=r[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else r.every(o=>typeof o=="number")&&(n.type="number"),r.every(o=>typeof o=="string")&&(n.type="string"),r.every(o=>typeof o=="boolean")&&(n.type="boolean"),r.every(o=>o===null)&&(n.type="null"),n.enum=r},GA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},YA=(e,t,n,u)=>{let i=n,r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");i.type="string",i.pattern=r.source},XA=(e,t,n,u)=>{let i=n,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:o,maximum:s,mime:f}=e._zod.bag;o!==void 0&&(r.minLength=o),s!==void 0&&(r.maxLength=s),f?f.length===1?(r.contentMediaType=f[0],Object.assign(i,r)):i.anyOf=f.map(d=>({...r,contentMediaType:d})):Object.assign(i,r)},QA=(e,t,n,u)=>{n.type="boolean"},WA=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},eB=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},tB=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},nB=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},iB=(e,t,n,u)=>{if(t.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},uB=(e,t,n,u)=>{let i=n,r=e._zod.def,{minimum:o,maximum:s}=e._zod.bag;typeof o=="number"&&(i.minItems=o),typeof s=="number"&&(i.maxItems=s),i.type="array",i.items=kt(r.element,t,{...u,path:[...u.path,"items"]})},rB=(e,t,n,u)=>{var d;let i=n,r=e._zod.def;i.type="object",i.properties={};let o=r.shape;for(let p in o)i.properties[p]=kt(o[p],t,{...u,path:[...u.path,"properties",p]});let s=new Set(Object.keys(o)),f=new Set([...s].filter(p=>{let m=r.shape[p]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));f.size>0&&(i.required=Array.from(f)),((d=r.catchall)==null?void 0:d._zod.def.type)==="never"?i.additionalProperties=!1:r.catchall?r.catchall&&(i.additionalProperties=kt(r.catchall,t,{...u,path:[...u.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},Zv=(e,t,n,u)=>{let i=e._zod.def,r=i.inclusive===!1,o=i.options.map((s,f)=>kt(s,t,{...u,path:[...u.path,r?"oneOf":"anyOf",f]}));r?n.oneOf=o:n.anyOf=o},aB=(e,t,n,u)=>{let i=e._zod.def,r=kt(i.left,t,{...u,path:[...u.path,"allOf",0]}),o=kt(i.right,t,{...u,path:[...u.path,"allOf",1]}),s=d=>"allOf"in d&&Object.keys(d).length===1,f=[...s(r)?r.allOf:[r],...s(o)?o.allOf:[o]];n.allOf=f},oB=(e,t,n,u)=>{let i=n,r=e._zod.def;i.type="array";let o=t.target==="draft-2020-12"?"prefixItems":"items",s=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",f=r.items.map((v,b)=>kt(v,t,{...u,path:[...u.path,o,b]})),d=r.rest?kt(r.rest,t,{...u,path:[...u.path,s,...t.target==="openapi-3.0"?[r.items.length]:[]]}):null;t.target==="draft-2020-12"?(i.prefixItems=f,d&&(i.items=d)):t.target==="openapi-3.0"?(i.items={anyOf:f},d&&i.items.anyOf.push(d),i.minItems=f.length,!d&&(i.maxItems=f.length)):(i.items=f,d&&(i.additionalItems=d));let{minimum:p,maximum:m}=e._zod.bag;typeof p=="number"&&(i.minItems=p),typeof m=="number"&&(i.maxItems=m)},lB=(e,t,n,u)=>{let i=n,r=e._zod.def;i.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=kt(r.keyType,t,{...u,path:[...u.path,"propertyNames"]})),i.additionalProperties=kt(r.valueType,t,{...u,path:[...u.path,"additionalProperties"]})},sB=(e,t,n,u)=>{let i=e._zod.def,r=kt(i.innerType,t,u),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},cB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType},fB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},dB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},hB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},pB=(e,t,n,u)=>{let i=e._zod.def,r=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;kt(r,t,u);let o=t.seen.get(e);o.ref=r},mB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType,n.readOnly=!0},gB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType},yB=(e,t,n,u)=>{let i=e._zod.def;kt(i.innerType,t,u);let r=t.seen.get(e);r.ref=i.innerType},vB=(e,t,n,u)=>{let i=e._zod.innerType;kt(i,t,u);let r=t.seen.get(e);r.ref=i},_1={string:IA,number:MA,boolean:RA,bigint:FA,symbol:UA,null:jA,undefined:LA,void:ZA,never:PA,any:HA,unknown:qA,date:VA,enum:JA,literal:KA,nan:GA,template_literal:YA,file:XA,success:QA,custom:WA,function:eB,transform:tB,map:nB,set:iB,array:uB,object:rB,union:Zv,intersection:aB,tuple:oB,record:lB,nullable:sB,nonoptional:cB,default:fB,prefault:dB,catch:hB,pipe:pB,readonly:mB,promise:gB,optional:yB,lazy:vB};function bB(e,t){if("_idmap"in e){let u=e,i=Fl({...t,processors:_1}),r={};for(let f of u._idmap.entries()){let[d,p]=f;kt(p,i)}let o={},s={registry:u,uri:t==null?void 0:t.uri,defs:r};i.external=s;for(let f of u._idmap.entries()){let[d,p]=f;Ul(i,p),o[d]=jl(i,p)}if(Object.keys(r).length>0){let f=i.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[f]:r}}return{schemas:o}}let n=Fl({...t,processors:_1});return kt(e,n),Ul(n,e),jl(n,e)}var AP=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let t=(e==null?void 0:e.target)??"draft-2020-12";t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),this.ctx=Fl({processors:_1,target:t,...(e==null?void 0:e.metadata)&&{metadata:e.metadata},...(e==null?void 0:e.unrepresentable)&&{unrepresentable:e.unrepresentable},...(e==null?void 0:e.override)&&{override:e.override},...(e==null?void 0:e.io)&&{io:e.io}})}process(e,t={path:[],schemaPath:[]}){return kt(e,this.ctx,t)}emit(e,t){t&&(t.cycles&&(this.ctx.cycles=t.cycles),t.reused&&(this.ctx.reused=t.reused),t.external&&(this.ctx.external=t.external)),Ul(this.ctx,e);let n=jl(this.ctx,e),{"~standard":u,...i}=n;return i}},BP={},EB={};ar(EB,{xor:()=>B7,xid:()=>QB,void:()=>k7,uuidv7:()=>HB,uuidv6:()=>PB,uuidv4:()=>ZB,uuid:()=>LB,url:()=>qB,unknown:()=>uo,union:()=>Np,undefined:()=>C7,ulid:()=>XB,uint64:()=>b7,uint32:()=>g7,tuple:()=>f3,transform:()=>Op,templateLiteral:()=>Z7,symbol:()=>E7,superRefine:()=>M3,success:()=>U7,stringbool:()=>G7,stringFormat:()=>s7,string:()=>bh,strictObject:()=>_7,set:()=>O7,refine:()=>I3,record:()=>d3,readonly:()=>B3,promise:()=>P7,preprocess:()=>X7,prefault:()=>D3,pipe:()=>Uc,partialRecord:()=>z7,optional:()=>Rc,object:()=>w7,number:()=>Gv,nullish:()=>F7,nullable:()=>Fc,null:()=>e3,nonoptional:()=>k3,never:()=>Tp,nativeEnum:()=>I7,nanoid:()=>KB,nan:()=>j7,meta:()=>J7,map:()=>$7,mac:()=>t7,looseRecord:()=>N7,looseObject:()=>A7,literal:()=>M7,lazy:()=>N3,ksuid:()=>WB,keyof:()=>S7,jwt:()=>l7,json:()=>Y7,ipv6:()=>n7,ipv4:()=>e7,intersection:()=>s3,int64:()=>v7,int32:()=>m7,int:()=>Eh,instanceof:()=>K7,httpUrl:()=>VB,hostname:()=>c7,hex:()=>f7,hash:()=>d7,guid:()=>jB,function:()=>Ch,float64:()=>p7,float32:()=>h7,file:()=>R7,enum:()=>$p,emoji:()=>JB,email:()=>UB,e164:()=>o7,discriminatedUnion:()=>T7,describe:()=>V7,date:()=>x7,custom:()=>q7,cuid2:()=>YB,cuid:()=>GB,codec:()=>L7,cidrv6:()=>u7,cidrv4:()=>i7,check:()=>H7,catch:()=>w3,boolean:()=>Yv,bigint:()=>y7,base64url:()=>a7,base64:()=>r7,array:()=>Of,any:()=>D7,_function:()=>Ch,_default:()=>E3,_ZodString:()=>dp,ZodXor:()=>a3,ZodXID:()=>bp,ZodVoid:()=>u3,ZodUnknown:()=>n3,ZodUnion:()=>Mf,ZodUndefined:()=>Qv,ZodUUID:()=>pu,ZodURL:()=>Tf,ZodULID:()=>vp,ZodType:()=>je,ZodTuple:()=>c3,ZodTransform:()=>y3,ZodTemplateLiteral:()=>T3,ZodSymbol:()=>Xv,ZodSuccess:()=>x3,ZodStringFormat:()=>St,ZodString:()=>Bf,ZodSet:()=>p3,ZodRecord:()=>Rf,ZodReadonly:()=>A3,ZodPromise:()=>$3,ZodPrefault:()=>C3,ZodPipe:()=>Rp,ZodOptional:()=>Ip,ZodObject:()=>If,ZodNumberFormat:()=>go,ZodNumber:()=>zf,ZodNullable:()=>v3,ZodNull:()=>Wv,ZodNonOptional:()=>Mp,ZodNever:()=>i3,ZodNanoID:()=>mp,ZodNaN:()=>_3,ZodMap:()=>h3,ZodMAC:()=>Kv,ZodLiteral:()=>m3,ZodLazy:()=>z3,ZodKSUID:()=>Ep,ZodJWT:()=>Ap,ZodIntersection:()=>l3,ZodIPv6:()=>Dp,ZodIPv4:()=>Cp,ZodGUID:()=>Mc,ZodFunction:()=>O3,ZodFile:()=>g3,ZodEnum:()=>Ll,ZodEmoji:()=>pp,ZodEmail:()=>hp,ZodE164:()=>_p,ZodDiscriminatedUnion:()=>o3,ZodDefault:()=>b3,ZodDate:()=>zp,ZodCustomStringFormat:()=>Gl,ZodCustom:()=>Ff,ZodCodec:()=>Fp,ZodCatch:()=>S3,ZodCUID2:()=>yp,ZodCUID:()=>gp,ZodCIDRv6:()=>xp,ZodCIDRv4:()=>kp,ZodBoolean:()=>Nf,ZodBigIntFormat:()=>Bp,ZodBigInt:()=>$f,ZodBase64URL:()=>wp,ZodBase64:()=>Sp,ZodArray:()=>r3,ZodAny:()=>t3});var CB={};ar(CB,{uppercase:()=>np,trim:()=>lp,toUpperCase:()=>cp,toLowerCase:()=>sp,startsWith:()=>up,slugify:()=>fp,size:()=>Wh,regex:()=>ep,property:()=>Lv,positive:()=>Rv,overwrite:()=>or,normalize:()=>op,nonpositive:()=>Uv,nonnegative:()=>jv,negative:()=>Fv,multipleOf:()=>Ml,minSize:()=>Rl,minLength:()=>io,mime:()=>ap,maxSize:()=>Sf,maxLength:()=>wf,lte:()=>ji,lt:()=>na,lowercase:()=>tp,length:()=>_f,includes:()=>ip,gte:()=>Kn,gt:()=>ia,endsWith:()=>rp});var Pv={};ar(Pv,{time:()=>xB,duration:()=>SB,datetime:()=>DB,date:()=>kB,ZodISOTime:()=>Vv,ZodISODuration:()=>Jv,ZodISODateTime:()=>Hv,ZodISODate:()=>qv});var Hv=I("ZodISODateTime",(e,t)=>{j_.init(e,t),St.init(e,t)});function DB(e){return Q5(Hv,e)}var qv=I("ZodISODate",(e,t)=>{L_.init(e,t),St.init(e,t)});function kB(e){return W5(qv,e)}var Vv=I("ZodISOTime",(e,t)=>{Z_.init(e,t),St.init(e,t)});function xB(e){return eA(Vv,e)}var Jv=I("ZodISODuration",(e,t)=>{P_.init(e,t),St.init(e,t)});function SB(e){return tA(Jv,e)}var wB=(e,t)=>{Gy.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Xy(e,n)},flatten:{value:n=>Yy(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ph,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ph,2)}},isEmpty:{get(){return e.issues.length===0}}})},TP=I("ZodError",wB),Ei=I("ZodError",wB,{Parent:Error}),_B=yf(Ei),AB=vf(Ei),BB=bf(Ei),TB=Ef(Ei),zB=Qy(Ei),NB=Wy(Ei),$B=ev(Ei),OB=tv(Ei),IB=nv(Ei),MB=iv(Ei),RB=uv(Ei),FB=rv(Ei),je=I("ZodType",(e,t)=>(Oe.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ic(e,"input"),output:Ic(e,"output")}}),e.toJSONSchema=OA(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Je.mergeDefs(t,{checks:[...t.checks??[],...n.map(u=>typeof u=="function"?{_zod:{check:u,def:{check:"custom"},onattach:[]}}:u)]})),e.clone=(n,u)=>Ki(e,n,u),e.brand=()=>e,e.register=(n,u)=>(n.add(e,u),e),e.parse=(n,u)=>_B(e,n,u,{callee:e.parse}),e.safeParse=(n,u)=>BB(e,n,u),e.parseAsync=async(n,u)=>AB(e,n,u,{callee:e.parseAsync}),e.safeParseAsync=async(n,u)=>TB(e,n,u),e.spa=e.safeParseAsync,e.encode=(n,u)=>zB(e,n,u),e.decode=(n,u)=>NB(e,n,u),e.encodeAsync=async(n,u)=>$B(e,n,u),e.decodeAsync=async(n,u)=>OB(e,n,u),e.safeEncode=(n,u)=>IB(e,n,u),e.safeDecode=(n,u)=>MB(e,n,u),e.safeEncodeAsync=async(n,u)=>RB(e,n,u),e.safeDecodeAsync=async(n,u)=>FB(e,n,u),e.refine=(n,u)=>e.check(I3(n,u)),e.superRefine=n=>e.check(M3(n)),e.overwrite=n=>e.check(or(n)),e.optional=()=>Rc(e),e.nullable=()=>Fc(e),e.nullish=()=>Rc(Fc(e)),e.nonoptional=n=>k3(e,n),e.array=()=>Of(e),e.or=n=>Np([e,n]),e.and=n=>s3(e,n),e.transform=n=>Uc(e,Op(n)),e.default=n=>E3(e,n),e.prefault=n=>D3(e,n),e.catch=n=>w3(e,n),e.pipe=n=>Uc(e,n),e.readonly=()=>B3(e),e.describe=n=>{let u=e.clone();return iu.add(u,{description:n}),u},Object.defineProperty(e,"description",{get(){var n;return(n=iu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return iu.get(e);let u=e.clone();return iu.add(u,n[0]),u},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),dp=I("_ZodString",(e,t)=>{xf.init(e,t),je.init(e,t),e._zod.processJSONSchema=(u,i,r)=>IA(e,u,i);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...u)=>e.check(ep(...u)),e.includes=(...u)=>e.check(ip(...u)),e.startsWith=(...u)=>e.check(up(...u)),e.endsWith=(...u)=>e.check(rp(...u)),e.min=(...u)=>e.check(io(...u)),e.max=(...u)=>e.check(wf(...u)),e.length=(...u)=>e.check(_f(...u)),e.nonempty=(...u)=>e.check(io(1,...u)),e.lowercase=u=>e.check(tp(u)),e.uppercase=u=>e.check(np(u)),e.trim=()=>e.check(lp()),e.normalize=(...u)=>e.check(op(...u)),e.toLowerCase=()=>e.check(sp()),e.toUpperCase=()=>e.check(cp()),e.slugify=()=>e.check(fp())}),Bf=I("ZodString",(e,t)=>{xf.init(e,t),dp.init(e,t),e.email=n=>e.check(yv(hp,n)),e.url=n=>e.check(Qh(Tf,n)),e.jwt=n=>e.check(Mv(Ap,n)),e.emoji=n=>e.check(Dv(pp,n)),e.guid=n=>e.check(vh(Mc,n)),e.uuid=n=>e.check(vv(pu,n)),e.uuidv4=n=>e.check(bv(pu,n)),e.uuidv6=n=>e.check(Ev(pu,n)),e.uuidv7=n=>e.check(Cv(pu,n)),e.nanoid=n=>e.check(kv(mp,n)),e.guid=n=>e.check(vh(Mc,n)),e.cuid=n=>e.check(xv(gp,n)),e.cuid2=n=>e.check(Sv(yp,n)),e.ulid=n=>e.check(wv(vp,n)),e.base64=n=>e.check($v(Sp,n)),e.base64url=n=>e.check(Ov(wp,n)),e.xid=n=>e.check(_v(bp,n)),e.ksuid=n=>e.check(Av(Ep,n)),e.ipv4=n=>e.check(Bv(Cp,n)),e.ipv6=n=>e.check(Tv(Dp,n)),e.cidrv4=n=>e.check(zv(kp,n)),e.cidrv6=n=>e.check(Nv(xp,n)),e.e164=n=>e.check(Iv(_p,n)),e.datetime=n=>e.check(DB(n)),e.date=n=>e.check(kB(n)),e.time=n=>e.check(xB(n)),e.duration=n=>e.check(SB(n))});function bh(e){return K5(Bf,e)}var St=I("ZodStringFormat",(e,t)=>{xt.init(e,t),dp.init(e,t)}),hp=I("ZodEmail",(e,t)=>{z_.init(e,t),St.init(e,t)});function UB(e){return yv(hp,e)}var Mc=I("ZodGUID",(e,t)=>{B_.init(e,t),St.init(e,t)});function jB(e){return vh(Mc,e)}var pu=I("ZodUUID",(e,t)=>{T_.init(e,t),St.init(e,t)});function LB(e){return vv(pu,e)}function ZB(e){return bv(pu,e)}function PB(e){return Ev(pu,e)}function HB(e){return Cv(pu,e)}var Tf=I("ZodURL",(e,t)=>{N_.init(e,t),St.init(e,t)});function qB(e){return Qh(Tf,e)}function VB(e){return Qh(Tf,{protocol:/^https?$/,hostname:mo.domain,...Je.normalizeParams(e)})}var pp=I("ZodEmoji",(e,t)=>{$_.init(e,t),St.init(e,t)});function JB(e){return Dv(pp,e)}var mp=I("ZodNanoID",(e,t)=>{O_.init(e,t),St.init(e,t)});function KB(e){return kv(mp,e)}var gp=I("ZodCUID",(e,t)=>{I_.init(e,t),St.init(e,t)});function GB(e){return xv(gp,e)}var yp=I("ZodCUID2",(e,t)=>{M_.init(e,t),St.init(e,t)});function YB(e){return Sv(yp,e)}var vp=I("ZodULID",(e,t)=>{R_.init(e,t),St.init(e,t)});function XB(e){return wv(vp,e)}var bp=I("ZodXID",(e,t)=>{F_.init(e,t),St.init(e,t)});function QB(e){return _v(bp,e)}var Ep=I("ZodKSUID",(e,t)=>{U_.init(e,t),St.init(e,t)});function WB(e){return Av(Ep,e)}var Cp=I("ZodIPv4",(e,t)=>{H_.init(e,t),St.init(e,t)});function e7(e){return Bv(Cp,e)}var Kv=I("ZodMAC",(e,t)=>{V_.init(e,t),St.init(e,t)});function t7(e){return Y5(Kv,e)}var Dp=I("ZodIPv6",(e,t)=>{q_.init(e,t),St.init(e,t)});function n7(e){return Tv(Dp,e)}var kp=I("ZodCIDRv4",(e,t)=>{J_.init(e,t),St.init(e,t)});function i7(e){return zv(kp,e)}var xp=I("ZodCIDRv6",(e,t)=>{K_.init(e,t),St.init(e,t)});function u7(e){return Nv(xp,e)}var Sp=I("ZodBase64",(e,t)=>{G_.init(e,t),St.init(e,t)});function r7(e){return $v(Sp,e)}var wp=I("ZodBase64URL",(e,t)=>{X_.init(e,t),St.init(e,t)});function a7(e){return Ov(wp,e)}var _p=I("ZodE164",(e,t)=>{Q_.init(e,t),St.init(e,t)});function o7(e){return Iv(_p,e)}var Ap=I("ZodJWT",(e,t)=>{e5.init(e,t),St.init(e,t)});function l7(e){return Mv(Ap,e)}var Gl=I("ZodCustomStringFormat",(e,t)=>{t5.init(e,t),St.init(e,t)});function s7(e,t,n={}){return Af(Gl,e,t,n)}function c7(e){return Af(Gl,"hostname",mo.hostname,e)}function f7(e){return Af(Gl,"hex",mo.hex,e)}function d7(e,t){let n=(t==null?void 0:t.enc)??"hex",u=`${e}_${n}`,i=mo[u];if(!i)throw Error(`Unrecognized hash format: ${u}`);return Af(Gl,u,i,t)}var zf=I("ZodNumber",(e,t)=>{cv.init(e,t),je.init(e,t),e._zod.processJSONSchema=(u,i,r)=>MA(e,u,i),e.gt=(u,i)=>e.check(ia(u,i)),e.gte=(u,i)=>e.check(Kn(u,i)),e.min=(u,i)=>e.check(Kn(u,i)),e.lt=(u,i)=>e.check(na(u,i)),e.lte=(u,i)=>e.check(ji(u,i)),e.max=(u,i)=>e.check(ji(u,i)),e.int=u=>e.check(Eh(u)),e.safe=u=>e.check(Eh(u)),e.positive=u=>e.check(ia(0,u)),e.nonnegative=u=>e.check(Kn(0,u)),e.negative=u=>e.check(na(0,u)),e.nonpositive=u=>e.check(ji(0,u)),e.multipleOf=(u,i)=>e.check(Ml(u,i)),e.step=(u,i)=>e.check(Ml(u,i)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Gv(e){return nA(zf,e)}var go=I("ZodNumberFormat",(e,t)=>{n5.init(e,t),zf.init(e,t)});function Eh(e){return uA(go,e)}function h7(e){return rA(go,e)}function p7(e){return aA(go,e)}function m7(e){return oA(go,e)}function g7(e){return lA(go,e)}var Nf=I("ZodBoolean",(e,t)=>{fv.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>RA(e,n,u)});function Yv(e){return sA(Nf,e)}var $f=I("ZodBigInt",(e,t)=>{dv.init(e,t),je.init(e,t),e._zod.processJSONSchema=(u,i,r)=>FA(e,u),e.gte=(u,i)=>e.check(Kn(u,i)),e.min=(u,i)=>e.check(Kn(u,i)),e.gt=(u,i)=>e.check(ia(u,i)),e.gte=(u,i)=>e.check(Kn(u,i)),e.min=(u,i)=>e.check(Kn(u,i)),e.lt=(u,i)=>e.check(na(u,i)),e.lte=(u,i)=>e.check(ji(u,i)),e.max=(u,i)=>e.check(ji(u,i)),e.positive=u=>e.check(ia(BigInt(0),u)),e.negative=u=>e.check(na(BigInt(0),u)),e.nonpositive=u=>e.check(ji(BigInt(0),u)),e.nonnegative=u=>e.check(Kn(BigInt(0),u)),e.multipleOf=(u,i)=>e.check(Ml(u,i));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function y7(e){return fA($f,e)}var Bp=I("ZodBigIntFormat",(e,t)=>{i5.init(e,t),$f.init(e,t)});function v7(e){return hA(Bp,e)}function b7(e){return pA(Bp,e)}var Xv=I("ZodSymbol",(e,t)=>{u5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>UA(e,n)});function E7(e){return mA(Xv,e)}var Qv=I("ZodUndefined",(e,t)=>{r5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>LA(e,n)});function C7(e){return gA(Qv,e)}var Wv=I("ZodNull",(e,t)=>{a5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>jA(e,n,u)});function e3(e){return yA(Wv,e)}var t3=I("ZodAny",(e,t)=>{o5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>HA()});function D7(){return vA(t3)}var n3=I("ZodUnknown",(e,t)=>{l5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>qA()});function uo(){return bA(n3)}var i3=I("ZodNever",(e,t)=>{s5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>PA(e,n,u)});function Tp(e){return EA(i3,e)}var u3=I("ZodVoid",(e,t)=>{c5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>ZA(e,n)});function k7(e){return CA(u3,e)}var zp=I("ZodDate",(e,t)=>{f5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(u,i,r)=>VA(e,u),e.min=(u,i)=>e.check(Kn(u,i)),e.max=(u,i)=>e.check(ji(u,i));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function x7(e){return DA(zp,e)}var r3=I("ZodArray",(e,t)=>{d5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>uB(e,n,u,i),e.element=t.element,e.min=(n,u)=>e.check(io(n,u)),e.nonempty=n=>e.check(io(1,n)),e.max=(n,u)=>e.check(wf(n,u)),e.length=(n,u)=>e.check(_f(n,u)),e.unwrap=()=>e.element});function Of(e,t){return SA(r3,e,t)}function S7(e){let t=e._zod.def.shape;return $p(Object.keys(t))}var If=I("ZodObject",(e,t)=>{g5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>rB(e,n,u,i),Je.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>$p(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:uo()}),e.loose=()=>e.clone({...e._zod.def,catchall:uo()}),e.strict=()=>e.clone({...e._zod.def,catchall:Tp()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Je.extend(e,n),e.safeExtend=n=>Je.safeExtend(e,n),e.merge=n=>Je.merge(e,n),e.pick=n=>Je.pick(e,n),e.omit=n=>Je.omit(e,n),e.partial=(...n)=>Je.partial(Ip,e,n[0]),e.required=(...n)=>Je.required(Mp,e,n[0])});function w7(e,t){let n={type:"object",shape:e??{},...Je.normalizeParams(t)};return new If(n)}function _7(e,t){return new If({type:"object",shape:e,catchall:Tp(),...Je.normalizeParams(t)})}function A7(e,t){return new If({type:"object",shape:e,catchall:uo(),...Je.normalizeParams(t)})}var Mf=I("ZodUnion",(e,t)=>{Xh.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>Zv(e,n,u,i),e.options=t.options});function Np(e,t){return new Mf({type:"union",options:e,...Je.normalizeParams(t)})}var a3=I("ZodXor",(e,t)=>{Mf.init(e,t),y5.init(e,t),e._zod.processJSONSchema=(n,u,i)=>Zv(e,n,u,i),e.options=t.options});function B7(e,t){return new a3({type:"union",options:e,inclusive:!1,...Je.normalizeParams(t)})}var o3=I("ZodDiscriminatedUnion",(e,t)=>{Mf.init(e,t),v5.init(e,t)});function T7(e,t,n){return new o3({type:"union",options:t,discriminator:e,...Je.normalizeParams(n)})}var l3=I("ZodIntersection",(e,t)=>{b5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>aB(e,n,u,i)});function s3(e,t){return new l3({type:"intersection",left:e,right:t})}var c3=I("ZodTuple",(e,t)=>{hv.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>oB(e,n,u,i),e.rest=n=>e.clone({...e._zod.def,rest:n})});function f3(e,t,n){let u=t instanceof Oe,i=u?n:t;return new c3({type:"tuple",items:e,rest:u?t:null,...Je.normalizeParams(i)})}var Rf=I("ZodRecord",(e,t)=>{E5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>lB(e,n,u,i),e.keyType=t.keyType,e.valueType=t.valueType});function d3(e,t,n){return new Rf({type:"record",keyType:e,valueType:t,...Je.normalizeParams(n)})}function z7(e,t,n){let u=Ki(e);return u._zod.values=void 0,new Rf({type:"record",keyType:u,valueType:t,...Je.normalizeParams(n)})}function N7(e,t,n){return new Rf({type:"record",keyType:e,valueType:t,mode:"loose",...Je.normalizeParams(n)})}var h3=I("ZodMap",(e,t)=>{C5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>nB(e,n),e.keyType=t.keyType,e.valueType=t.valueType});function $7(e,t,n){return new h3({type:"map",keyType:e,valueType:t,...Je.normalizeParams(n)})}var p3=I("ZodSet",(e,t)=>{D5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>iB(e,n),e.min=(...n)=>e.check(Rl(...n)),e.nonempty=n=>e.check(Rl(1,n)),e.max=(...n)=>e.check(Sf(...n)),e.size=(...n)=>e.check(Wh(...n))});function O7(e,t){return new p3({type:"set",valueType:e,...Je.normalizeParams(t)})}var Ll=I("ZodEnum",(e,t)=>{k5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(u,i,r)=>JA(e,u,i),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(u,i)=>{let r={};for(let o of u)if(n.has(o))r[o]=t.entries[o];else throw Error(`Key ${o} not found in enum`);return new Ll({...t,checks:[],...Je.normalizeParams(i),entries:r})},e.exclude=(u,i)=>{let r={...t.entries};for(let o of u)if(n.has(o))delete r[o];else throw Error(`Key ${o} not found in enum`);return new Ll({...t,checks:[],...Je.normalizeParams(i),entries:r})}});function $p(e,t){let n=Array.isArray(e)?Object.fromEntries(e.map(u=>[u,u])):e;return new Ll({type:"enum",entries:n,...Je.normalizeParams(t)})}function I7(e,t){return new Ll({type:"enum",entries:e,...Je.normalizeParams(t)})}var m3=I("ZodLiteral",(e,t)=>{x5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>KA(e,n,u),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function M7(e,t){return new m3({type:"literal",values:Array.isArray(e)?e:[e],...Je.normalizeParams(t)})}var g3=I("ZodFile",(e,t)=>{S5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>XA(e,n,u),e.min=(n,u)=>e.check(Rl(n,u)),e.max=(n,u)=>e.check(Sf(n,u)),e.mime=(n,u)=>e.check(ap(Array.isArray(n)?n:[n],u))});function R7(e){return wA(g3,e)}var y3=I("ZodTransform",(e,t)=>{w5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>tB(e,n),e._zod.parse=(n,u)=>{if(u.direction==="backward")throw new Jh(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(Je.issue(r,n.value,t));else{let o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(Je.issue(o))}};let i=t.transform(n.value,n);return i instanceof Promise?i.then(r=>(n.value=r,n)):(n.value=i,n)}});function Op(e){return new y3({type:"transform",transform:e})}var Ip=I("ZodOptional",(e,t)=>{_5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>yB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function Rc(e){return new Ip({type:"optional",innerType:e})}var v3=I("ZodNullable",(e,t)=>{A5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>sB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function Fc(e){return new v3({type:"nullable",innerType:e})}function F7(e){return Rc(Fc(e))}var b3=I("ZodDefault",(e,t)=>{B5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>fB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function E3(e,t){return new b3({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Je.shallowClone(t)}})}var C3=I("ZodPrefault",(e,t)=>{T5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>dB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function D3(e,t){return new C3({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Je.shallowClone(t)}})}var Mp=I("ZodNonOptional",(e,t)=>{z5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>cB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function k3(e,t){return new Mp({type:"nonoptional",innerType:e,...Je.normalizeParams(t)})}var x3=I("ZodSuccess",(e,t)=>{N5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>QA(e,n,u),e.unwrap=()=>e._zod.def.innerType});function U7(e){return new x3({type:"success",innerType:e})}var S3=I("ZodCatch",(e,t)=>{$5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>hB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function w3(e,t){return new S3({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var _3=I("ZodNaN",(e,t)=>{O5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>GA(e,n)});function j7(e){return xA(_3,e)}var Rp=I("ZodPipe",(e,t)=>{I5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>pB(e,n,u,i),e.in=t.in,e.out=t.out});function Uc(e,t){return new Rp({type:"pipe",in:e,out:t})}var Fp=I("ZodCodec",(e,t)=>{Rp.init(e,t),pv.init(e,t)});function L7(e,t,n){return new Fp({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}var A3=I("ZodReadonly",(e,t)=>{M5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>mB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function B3(e){return new A3({type:"readonly",innerType:e})}var T3=I("ZodTemplateLiteral",(e,t)=>{R5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>YA(e,n,u)});function Z7(e,t){return new T3({type:"template_literal",parts:e,...Je.normalizeParams(t)})}var z3=I("ZodLazy",(e,t)=>{j5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>vB(e,n,u,i),e.unwrap=()=>e._zod.def.getter()});function N3(e){return new z3({type:"lazy",getter:e})}var $3=I("ZodPromise",(e,t)=>{U5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>gB(e,n,u,i),e.unwrap=()=>e._zod.def.innerType});function P7(e){return new $3({type:"promise",innerType:e})}var O3=I("ZodFunction",(e,t)=>{F5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>eB(e,n)});function Ch(e){return new O3({type:"function",input:Array.isArray(e==null?void 0:e.input)?f3(e==null?void 0:e.input):(e==null?void 0:e.input)??Of(uo()),output:(e==null?void 0:e.output)??uo()})}var Ff=I("ZodCustom",(e,t)=>{L5.init(e,t),je.init(e,t),e._zod.processJSONSchema=(n,u,i)=>WA(e,n)});function H7(e){let t=new Rt({check:"custom"});return t._zod.check=e,t}function q7(e,t){return _A(Ff,e??(()=>!0),t)}function I3(e,t={}){return AA(Ff,e,t)}function M3(e){return BA(e)}var V7=zA,J7=NA;function K7(e,t={error:`Input not instance of ${e.name}`}){let n=new Ff({type:"custom",check:"custom",fn:u=>u instanceof e,abort:!0,...Je.normalizeParams(t)});return n._zod.bag.Class=e,n}var G7=(...e)=>$A({Codec:Fp,Boolean:Nf,String:Bf},...e);function Y7(e){let t=N3(()=>Np([bh(e),Gv(),Yv(),e3(),Of(t),d3(bh(),t)]));return t}function X7(e,t){return Uc(Op(e),t)}var zP={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function NP(e){_n({customError:e})}function $P(){return _n().customError}var A1;A1||(A1={});var le={...EB,...CB,iso:Pv};function OP(e,t){let n=e.$schema;return n==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":n==="http://json-schema.org/draft-07/schema#"?"draft-7":n==="http://json-schema.org/draft-04/schema#"?"draft-4":t??"draft-2020-12"}function IP(e,t){if(!e.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let n=e.slice(1).split("/").filter(Boolean);if(n.length===0)return t.rootSchema;let u=t.version==="draft-2020-12"?"$defs":"definitions";if(n[0]===u){let i=n[1];if(!i||!t.defs[i])throw Error(`Reference not found: ${e}`);return t.defs[i]}throw Error(`Reference not found: ${e}`)}function Q7(e,t){if(e.not!==void 0){if(typeof e.not=="object"&&Object.keys(e.not).length===0)return le.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(e.unevaluatedItems!==void 0)throw Error("unevaluatedItems is not supported");if(e.unevaluatedProperties!==void 0)throw Error("unevaluatedProperties is not supported");if(e.if!==void 0||e.then!==void 0||e.else!==void 0)throw Error("Conditional schemas (if/then/else) are not supported");if(e.dependentSchemas!==void 0||e.dependentRequired!==void 0)throw Error("dependentSchemas and dependentRequired are not supported");if(e.$ref){let i=e.$ref;if(t.refs.has(i))return t.refs.get(i);if(t.processing.has(i))return le.lazy(()=>{if(!t.refs.has(i))throw Error(`Circular reference not resolved: ${i}`);return t.refs.get(i)});t.processing.add(i);let r=IP(i,t),o=xn(r,t);return t.refs.set(i,o),t.processing.delete(i),o}if(e.enum!==void 0){let i=e.enum;if(t.version==="openapi-3.0"&&e.nullable===!0&&i.length===1&&i[0]===null)return le.null();if(i.length===0)return le.never();if(i.length===1)return le.literal(i[0]);if(i.every(o=>typeof o=="string"))return le.enum(i);let r=i.map(o=>le.literal(o));return r.length<2?r[0]:le.union([r[0],r[1],...r.slice(2)])}if(e.const!==void 0)return le.literal(e.const);let n=e.type;if(Array.isArray(n)){let i=n.map(r=>{let o={...e,type:r};return Q7(o,t)});return i.length===0?le.never():i.length===1?i[0]:le.union(i)}if(!n)return le.any();let u;switch(n){case"string":{let i=le.string();if(e.format){let r=e.format;r==="email"?i=i.check(le.email()):r==="uri"||r==="uri-reference"?i=i.check(le.url()):r==="uuid"||r==="guid"?i=i.check(le.uuid()):r==="date-time"?i=i.check(le.iso.datetime()):r==="date"?i=i.check(le.iso.date()):r==="time"?i=i.check(le.iso.time()):r==="duration"?i=i.check(le.iso.duration()):r==="ipv4"?i=i.check(le.ipv4()):r==="ipv6"?i=i.check(le.ipv6()):r==="mac"?i=i.check(le.mac()):r==="cidr"?i=i.check(le.cidrv4()):r==="cidr-v6"?i=i.check(le.cidrv6()):r==="base64"?i=i.check(le.base64()):r==="base64url"?i=i.check(le.base64url()):r==="e164"?i=i.check(le.e164()):r==="jwt"?i=i.check(le.jwt()):r==="emoji"?i=i.check(le.emoji()):r==="nanoid"?i=i.check(le.nanoid()):r==="cuid"?i=i.check(le.cuid()):r==="cuid2"?i=i.check(le.cuid2()):r==="ulid"?i=i.check(le.ulid()):r==="xid"?i=i.check(le.xid()):r==="ksuid"&&(i=i.check(le.ksuid()))}typeof e.minLength=="number"&&(i=i.min(e.minLength)),typeof e.maxLength=="number"&&(i=i.max(e.maxLength)),e.pattern&&(i=i.regex(new RegExp(e.pattern))),u=i;break}case"number":case"integer":{let i=n==="integer"?le.number().int():le.number();typeof e.minimum=="number"&&(i=i.min(e.minimum)),typeof e.maximum=="number"&&(i=i.max(e.maximum)),typeof e.exclusiveMinimum=="number"?i=i.gt(e.exclusiveMinimum):e.exclusiveMinimum===!0&&typeof e.minimum=="number"&&(i=i.gt(e.minimum)),typeof e.exclusiveMaximum=="number"?i=i.lt(e.exclusiveMaximum):e.exclusiveMaximum===!0&&typeof e.maximum=="number"&&(i=i.lt(e.maximum)),typeof e.multipleOf=="number"&&(i=i.multipleOf(e.multipleOf)),u=i;break}case"boolean":{u=le.boolean();break}case"null":{u=le.null();break}case"object":{let i={},r=e.properties||{},o=new Set(e.required||[]);for(let[f,d]of Object.entries(r)){let p=xn(d,t);i[f]=o.has(f)?p:p.optional()}if(e.propertyNames){let f=xn(e.propertyNames,t),d=e.additionalProperties&&typeof e.additionalProperties=="object"?xn(e.additionalProperties,t):le.any();if(Object.keys(i).length===0){u=le.record(f,d);break}let p=le.object(i).passthrough(),m=le.looseRecord(f,d);u=le.intersection(p,m);break}if(e.patternProperties){let f=e.patternProperties,d=Object.keys(f),p=[];for(let v of d){let b=xn(f[v],t),E=le.string().regex(new RegExp(v));p.push(le.looseRecord(E,b))}let m=[];if(Object.keys(i).length>0&&m.push(le.object(i).passthrough()),m.push(...p),m.length===0)u=le.object({}).passthrough();else if(m.length===1)u=m[0];else{let v=le.intersection(m[0],m[1]);for(let b=2;b<m.length;b++)v=le.intersection(v,m[b]);u=v}break}let s=le.object(i);e.additionalProperties===!1?u=s.strict():typeof e.additionalProperties=="object"?u=s.catchall(xn(e.additionalProperties,t)):u=s.passthrough();break}case"array":{let{prefixItems:i,items:r}=e;if(i&&Array.isArray(i)){let o=i.map(f=>xn(f,t)),s=r&&typeof r=="object"&&!Array.isArray(r)?xn(r,t):void 0;s?u=le.tuple(o).rest(s):u=le.tuple(o),typeof e.minItems=="number"&&(u=u.check(le.minLength(e.minItems))),typeof e.maxItems=="number"&&(u=u.check(le.maxLength(e.maxItems)))}else if(Array.isArray(r)){let o=r.map(f=>xn(f,t)),s=e.additionalItems&&typeof e.additionalItems=="object"?xn(e.additionalItems,t):void 0;s?u=le.tuple(o).rest(s):u=le.tuple(o),typeof e.minItems=="number"&&(u=u.check(le.minLength(e.minItems))),typeof e.maxItems=="number"&&(u=u.check(le.maxLength(e.maxItems)))}else if(r!==void 0){let o=xn(r,t),s=le.array(o);typeof e.minItems=="number"&&(s=s.min(e.minItems)),typeof e.maxItems=="number"&&(s=s.max(e.maxItems)),u=s}else u=le.array(le.any());break}default:throw Error(`Unsupported type: ${n}`)}return e.description&&(u=u.describe(e.description)),e.default!==void 0&&(u=u.default(e.default)),u}function xn(e,t){if(typeof e=="boolean")return e?le.any():le.never();let n=Q7(e,t),u=e.type||e.enum!==void 0||e.const!==void 0;if(e.anyOf&&Array.isArray(e.anyOf)){let i=e.anyOf.map(o=>xn(o,t)),r=le.union(i);n=u?le.intersection(n,r):r}if(e.oneOf&&Array.isArray(e.oneOf)){let i=e.oneOf.map(o=>xn(o,t)),r=le.xor(i);n=u?le.intersection(n,r):r}if(e.allOf&&Array.isArray(e.allOf))if(e.allOf.length===0)n=u?n:le.any();else{let i=u?n:xn(e.allOf[0],t),r=u?0:1;for(let o=r;o<e.allOf.length;o++)i=le.intersection(i,xn(e.allOf[o],t));n=i}return e.nullable===!0&&t.version==="openapi-3.0"&&(n=le.nullable(n)),e.readOnly===!0&&(n=le.readonly(n)),n}function MP(e,t){if(typeof e=="boolean")return e?le.any():le.never();let n=OP(e,t==null?void 0:t.defaultTarget),u=e.$defs||e.definitions||{};return xn(e,{version:n,defs:u,refs:new Map,processing:new Set,rootSchema:e})}var W7={};ar(W7,{string:()=>RP,number:()=>FP,date:()=>LP,boolean:()=>UP,bigint:()=>jP});function RP(e){return G5(Bf,e)}function FP(e){return iA(zf,e)}function UP(e){return cA(Nf,e)}function jP(e){return dA($f,e)}function LP(e){return kA(zp,e)}_n(Z5());var ZP=B.union([B.literal("light"),B.literal("dark")]).describe("Color theme preference for the host environment."),R3=B.union([B.literal("inline"),B.literal("fullscreen"),B.literal("pip")]).describe("Display mode for UI presentation."),PP=B.union([B.literal("--color-background-primary"),B.literal("--color-background-secondary"),B.literal("--color-background-tertiary"),B.literal("--color-background-inverse"),B.literal("--color-background-ghost"),B.literal("--color-background-info"),B.literal("--color-background-danger"),B.literal("--color-background-success"),B.literal("--color-background-warning"),B.literal("--color-background-disabled"),B.literal("--color-text-primary"),B.literal("--color-text-secondary"),B.literal("--color-text-tertiary"),B.literal("--color-text-inverse"),B.literal("--color-text-info"),B.literal("--color-text-danger"),B.literal("--color-text-success"),B.literal("--color-text-warning"),B.literal("--color-text-disabled"),B.literal("--color-text-ghost"),B.literal("--color-border-primary"),B.literal("--color-border-secondary"),B.literal("--color-border-tertiary"),B.literal("--color-border-inverse"),B.literal("--color-border-ghost"),B.literal("--color-border-info"),B.literal("--color-border-danger"),B.literal("--color-border-success"),B.literal("--color-border-warning"),B.literal("--color-border-disabled"),B.literal("--color-ring-primary"),B.literal("--color-ring-secondary"),B.literal("--color-ring-inverse"),B.literal("--color-ring-info"),B.literal("--color-ring-danger"),B.literal("--color-ring-success"),B.literal("--color-ring-warning"),B.literal("--font-sans"),B.literal("--font-mono"),B.literal("--font-weight-normal"),B.literal("--font-weight-medium"),B.literal("--font-weight-semibold"),B.literal("--font-weight-bold"),B.literal("--font-text-xs-size"),B.literal("--font-text-sm-size"),B.literal("--font-text-md-size"),B.literal("--font-text-lg-size"),B.literal("--font-heading-xs-size"),B.literal("--font-heading-sm-size"),B.literal("--font-heading-md-size"),B.literal("--font-heading-lg-size"),B.literal("--font-heading-xl-size"),B.literal("--font-heading-2xl-size"),B.literal("--font-heading-3xl-size"),B.literal("--font-text-xs-line-height"),B.literal("--font-text-sm-line-height"),B.literal("--font-text-md-line-height"),B.literal("--font-text-lg-line-height"),B.literal("--font-heading-xs-line-height"),B.literal("--font-heading-sm-line-height"),B.literal("--font-heading-md-line-height"),B.literal("--font-heading-lg-line-height"),B.literal("--font-heading-xl-line-height"),B.literal("--font-heading-2xl-line-height"),B.literal("--font-heading-3xl-line-height"),B.literal("--border-radius-xs"),B.literal("--border-radius-sm"),B.literal("--border-radius-md"),B.literal("--border-radius-lg"),B.literal("--border-radius-xl"),B.literal("--border-radius-full"),B.literal("--border-width-regular"),B.literal("--shadow-hairline"),B.literal("--shadow-sm"),B.literal("--shadow-md"),B.literal("--shadow-lg")]).describe("CSS variable keys available to MCP apps for theming."),HP=B.record(PP.describe(`Style variables for theming MCP apps.

Individual style keys are optional - hosts may provide any subset of these values.
Values are strings containing CSS values (colors, sizes, font stacks, etc.).

Note: This type uses \`Record<K, string | undefined>\` rather than \`Partial<Record<K, string>>\`
for compatibility with Zod schema generation. Both are functionally equivalent for validation.`),B.union([B.string(),B.undefined()]).describe(`Style variables for theming MCP apps.

Individual style keys are optional - hosts may provide any subset of these values.
Values are strings containing CSS values (colors, sizes, font stacks, etc.).

Note: This type uses \`Record<K, string | undefined>\` rather than \`Partial<Record<K, string>>\`
for compatibility with Zod schema generation. Both are functionally equivalent for validation.`)).describe(`Style variables for theming MCP apps.

Individual style keys are optional - hosts may provide any subset of these values.
Values are strings containing CSS values (colors, sizes, font stacks, etc.).

Note: This type uses \`Record<K, string | undefined>\` rather than \`Partial<Record<K, string>>\`
for compatibility with Zod schema generation. Both are functionally equivalent for validation.`);B.object({method:B.literal("ui/open-link"),params:B.object({url:B.string().describe("URL to open in the host's browser")})});var qP=B.object({isError:B.boolean().optional().describe("True if the host failed to open the URL (e.g., due to security policy).")}).passthrough(),VP=B.object({isError:B.boolean().optional().describe("True if the host rejected or failed to deliver the message.")}).passthrough();B.object({method:B.literal("ui/notifications/sandbox-proxy-ready"),params:B.object({})});B.object({method:B.literal("ui/notifications/sandbox-resource-ready"),params:B.object({html:B.string().describe("HTML content to load into the inner iframe."),sandbox:B.string().optional().describe("Optional override for the inner iframe's sandbox attribute."),csp:B.object({connectDomains:B.array(B.string()).optional().describe("Origins for network requests (fetch/XHR/WebSocket)."),resourceDomains:B.array(B.string()).optional().describe("Origins for static resources (scripts, images, styles, fonts).")}).optional().describe("CSP configuration from resource metadata.")})});B.object({method:B.literal("ui/notifications/size-changed"),params:B.object({width:B.number().optional().describe("New width in pixels."),height:B.number().optional().describe("New height in pixels.")})});var JP=B.object({method:B.literal("ui/notifications/tool-input"),params:B.object({arguments:B.record(B.string(),B.unknown().describe("Complete tool call arguments as key-value pairs.")).optional().describe("Complete tool call arguments as key-value pairs.")})}),KP=B.object({method:B.literal("ui/notifications/tool-input-partial"),params:B.object({arguments:B.record(B.string(),B.unknown().describe("Partial tool call arguments (incomplete, may change).")).optional().describe("Partial tool call arguments (incomplete, may change).")})}),GP=B.object({method:B.literal("ui/notifications/tool-cancelled"),params:B.object({reason:B.string().optional().describe('Optional reason for the cancellation (e.g., "user action", "timeout").')})}),YP=B.object({fonts:B.string().optional().describe("CSS for font loading (@font-face rules or")}),XP=B.object({variables:HP.optional().describe("CSS variables for theming the app."),css:YP.optional().describe("CSS blocks that apps can inject.")}),QP=B.object({method:B.literal("ui/resource-teardown"),params:B.object({})});B.record(B.string(),B.unknown());var WP=B.object({experimental:B.object({}).optional().describe("Experimental features (structure TBD)."),openLinks:B.object({}).optional().describe("Host supports opening external URLs."),serverTools:B.object({listChanged:B.boolean().optional().describe("Host supports tools/list_changed notifications.")}).optional().describe("Host can proxy tool calls to the MCP server."),serverResources:B.object({listChanged:B.boolean().optional().describe("Host supports resources/list_changed notifications.")}).optional().describe("Host can proxy resource reads to the MCP server."),logging:B.object({}).optional().describe("Host accepts log messages.")}),eH=B.object({experimental:B.object({}).optional().describe("Experimental features (structure TBD)."),tools:B.object({listChanged:B.boolean().optional().describe("App supports tools/list_changed notifications.")}).optional().describe("App exposes MCP-style tools that the host can call.")});B.object({method:B.literal("ui/notifications/initialized"),params:B.object({}).optional()});var tH=B.object({connectDomains:B.array(B.string()).optional().describe("Origins for network requests (fetch/XHR/WebSocket)."),resourceDomains:B.array(B.string()).optional().describe("Origins for static resources (scripts, images, styles, fonts).")});B.object({csp:tH.optional().describe("Content Security Policy configuration."),domain:B.string().optional().describe("Dedicated origin for widget sandbox."),prefersBorder:B.boolean().optional().describe("Visual boundary preference - true if UI prefers a visible border.")});B.object({method:B.literal("ui/request-display-mode"),params:B.object({mode:R3.describe("The display mode being requested.")})});var nH=B.object({mode:R3.describe("The display mode that was actually set. May differ from requested if not supported.")}).passthrough(),iH=B.union([B.literal("model"),B.literal("app")]).describe("Tool visibility scope - who can access the tool.");B.object({resourceUri:B.string(),visibility:B.array(iH).optional().describe(`Who can access this tool. Default: ["model", "app"]
- "model": Tool visible to and callable by the agent
- "app": Tool callable by the app from this server only`)});B.object({method:B.literal("ui/message"),params:B.object({role:B.literal("user").describe('Message role, currently only "user" is supported.'),content:B.array(qh).describe("Message content blocks (text, image, etc.).")})});var uH=B.object({method:B.literal("ui/notifications/tool-result"),params:Vh.describe("Standard MCP tool execution result.")}),eT=B.object({toolInfo:B.object({id:cf.describe("JSON-RPC id of the tools/call request."),tool:Vy.describe("Tool definition including name, inputSchema, etc.")}).optional().describe("Metadata of the tool call that instantiated this App."),theme:ZP.optional().describe("Current color theme preference."),styles:XP.optional().describe("Style configuration for theming the app."),displayMode:R3.optional().describe("How the UI is currently displayed."),availableDisplayModes:B.array(B.string()).optional().describe("Display modes the host supports."),viewport:B.object({width:B.number().describe("Current viewport width in pixels."),height:B.number().describe("Current viewport height in pixels."),maxHeight:B.number().optional().describe("Maximum available height in pixels (if constrained)."),maxWidth:B.number().optional().describe("Maximum available width in pixels (if constrained).")}).optional().describe("Current and maximum dimensions available to the UI."),locale:B.string().optional().describe("User's language and region preference in BCP 47 format."),timeZone:B.string().optional().describe("User's timezone in IANA format."),userAgent:B.string().optional().describe("Host application identifier."),platform:B.union([B.literal("web"),B.literal("desktop"),B.literal("mobile")]).optional().describe("Platform type for responsive design decisions."),deviceCapabilities:B.object({touch:B.boolean().optional().describe("Whether the device supports touch input."),hover:B.boolean().optional().describe("Whether the device supports hover interactions.")}).optional().describe("Device input capabilities."),safeAreaInsets:B.object({top:B.number().describe("Top safe area inset in pixels."),right:B.number().describe("Right safe area inset in pixels."),bottom:B.number().describe("Bottom safe area inset in pixels."),left:B.number().describe("Left safe area inset in pixels.")}).optional().describe("Mobile safe area boundaries in pixels.")}).passthrough(),rH=B.object({method:B.literal("ui/notifications/host-context-changed"),params:eT.describe("Partial context update containing only changed fields.")});B.object({method:B.literal("ui/initialize"),params:B.object({appInfo:Ph.describe("App identification (name and version)."),appCapabilities:eH.describe("Features and capabilities this app provides."),protocolVersion:B.string().describe("Protocol version this app supports.")})});var aH=B.object({protocolVersion:B.string().describe('Negotiated protocol version string (e.g., "2025-11-21").'),hostInfo:Ph.describe("Host application identification and version."),hostCapabilities:WP.describe("Features and capabilities provided by the host."),hostContext:eT.describe("Rich context about the host environment.")}).passthrough();function oH(e){let t=document.documentElement;t.setAttribute("data-theme",e),t.style.colorScheme=e}function lH(e,t=document.documentElement){for(let[n,u]of Object.entries(e))u!==void 0&&t.style.setProperty(n,u)}function sH(e){if(document.getElementById("__mcp-host-fonts"))return;let t=document.createElement("style");t.id="__mcp-host-fonts",t.textContent=e,document.head.appendChild(t)}var cH=class extends aj{constructor(t,n={},u={autoResize:!0}){super(u);Ct(this,"_appInfo");Ct(this,"_capabilities");Ct(this,"options");Ct(this,"_hostCapabilities");Ct(this,"_hostInfo");Ct(this,"_hostContext");Ct(this,"sendOpenLink",this.openLink);this._appInfo=t,this._capabilities=n,this.options=u,this.setRequestHandler(Hh,i=>(console.log("Received ping:",i.params),{})),this.onhostcontextchanged=()=>{}}getHostCapabilities(){return this._hostCapabilities}getHostVersion(){return this._hostInfo}getHostContext(){return this._hostContext}set ontoolinput(t){this.setNotificationHandler(JP,n=>t(n.params))}set ontoolinputpartial(t){this.setNotificationHandler(KP,n=>t(n.params))}set ontoolresult(t){this.setNotificationHandler(uH,n=>t(n.params))}set ontoolcancelled(t){this.setNotificationHandler(GP,n=>t(n.params))}set onhostcontextchanged(t){this.setNotificationHandler(rH,n=>{this._hostContext={...this._hostContext,...n.params},t(n.params)})}set onteardown(t){this.setRequestHandler(QP,(n,u)=>t(n.params,u))}set oncalltool(t){this.setRequestHandler(ow,(n,u)=>t(n.params,u))}set onlisttools(t){this.setRequestHandler(aw,(n,u)=>t(n.params,u))}assertCapabilityForMethod(t){}assertRequestHandlerCapability(t){switch(t){case"tools/call":case"tools/list":if(!this._capabilities.tools)throw Error(`Client does not support tool capability (required for ${t})`);return;case"ping":case"ui/resource-teardown":return;default:throw Error(`No handler for method ${t} registered`)}}assertNotificationCapability(t){}assertTaskCapability(t){throw Error("Tasks are not supported in MCP Apps")}assertTaskHandlerCapability(t){throw Error("Task handlers are not supported in MCP Apps")}async callServerTool(t,n){return await this.request({method:"tools/call",params:t},Vh,n)}sendMessage(t,n){return this.request({method:"ui/message",params:t},VP,n)}sendLog(t){return this.notification({method:"notifications/message",params:t})}openLink(t,n){return this.request({method:"ui/open-link",params:t},qP,n)}requestDisplayMode(t,n){return this.request({method:"ui/request-display-mode",params:t},nH,n)}sendSizeChanged(t){return this.notification({method:"ui/notifications/size-changed",params:t})}setupSizeChangedNotifications(){let t=!1,n=0,u=0,i=()=>{t||(t=!0,requestAnimationFrame(()=>{t=!1;let o=document.documentElement,s=o.style.width,f=o.style.height;o.style.width="fit-content",o.style.height="fit-content";let d=o.getBoundingClientRect();o.style.width=s,o.style.height=f;let p=window.innerWidth-o.clientWidth,m=Math.ceil(d.width+p),v=Math.ceil(d.height);(m!==n||v!==u)&&(n=m,u=v,this.sendSizeChanged({width:m,height:v}))}))};i();let r=new ResizeObserver(i);return r.observe(document.documentElement),r.observe(document.body),()=>r.disconnect()}async connect(t=new cw(window.parent),n){var u;await super.connect(t);try{let i=await this.request({method:"ui/initialize",params:{appCapabilities:this._capabilities,appInfo:this._appInfo,protocolVersion:lj}},aH,n);if(i===void 0)throw Error(`Server sent invalid initialize result: ${i}`);this._hostCapabilities=i.hostCapabilities,this._hostInfo=i.hostInfo,this._hostContext=i.hostContext,await this.notification({method:"ui/notifications/initialized"}),(u=this.options)!=null&&u.autoResize&&this.setupSizeChangedNotifications()}catch(i){throw this.close(),i}}},tT=class{constructor(){Ct(this,"stateListeners",new Set);Ct(this,"eventHandlers",new Map)}subscribe(e){return this.stateListeners.add(e),this.onSubscribe(),()=>{this.stateListeners.delete(e),this.onUnsubscribe()}}on(e,t){let n=this.eventHandlers.get(e);return n||(n=new Set,this.eventHandlers.set(e,n)),n.add(t),console.log(`[Subscribable] on "${String(e)}" registered, total handlers: ${n.size}`),()=>{n.delete(t),console.log(`[Subscribable] on "${String(e)}" unregistered, remaining: ${n.size}`)}}notifyStateChange(e,t){this.stateListeners.forEach(n=>n(e,t))}emit(e,...t){const n=this.eventHandlers.get(e);console.log(`[Subscribable] emit "${String(e)}", handlers: ${(n==null?void 0:n.size)??0}`),n&&n.forEach(u=>{u(...t)})}onSubscribe(){}onUnsubscribe(){}},fH=class extends tT{constructor(t){super();Ct(this,"state",{isReady:!1,environment:"mcp-apps",widgetState:null});Ct(this,"config");Ct(this,"app",null);Ct(this,"connected",!1);this.config=t}getState(){return this.state}connect(){this.connected||(this.connected=!0,this.app=new cH({name:this.config.name,version:this.config.version},{},{autoResize:!0}),this.setupHandlers(),this.initiateConnection())}disconnect(){this.connected&&(this.connected=!1,this.app&&(this.app.close(),this.app=null),this.setState({isReady:!1}))}async callTool(t,n){if(!this.app)throw new Error("Not connected");const u=await this.app.callServerTool({name:t,arguments:n}),i={content:this.extractTextContent(u.content),structuredContent:u.structuredContent,isError:u.isError};return this.emit("tool-result",i),i}sendNotification(t,n){if(!this.app){console.warn(`[${this.config.name}] Cannot send notification before connection`);return}this.app.notification({method:t,params:n})}setWidgetState(t){this.setState({widgetState:t}),this.emit("widget-state-change",t),this.sendNotification("ui/notifications/widget-state-changed",{widgetState:t})}async requestDisplayMode(t){return this.app?{mode:(await this.app.requestDisplayMode({mode:t.mode})).mode}:{mode:t.mode}}log(t,n,u){if(!this.app){console[t==="error"?"error":t==="warning"?"warn":"log"](`[${this.config.name}]`,n,u??"");return}this.app.sendLog({level:t,logger:this.config.name,data:u?{message:n,...u}:n})}setState(t){const n=this.state;this.state={...this.state,...t},this.notifyStateChange(this.state,n)}setupHandlers(){this.app&&(this.app.ontoolinput=t=>{console.debug(`[${this.config.name}] Received tool-input`,{args:t.arguments}),this.emit("tool-input",t.arguments||{})},this.app.ontoolresult=t=>{console.log("[McpAppHostClient] ontoolresult called",{isError:t.isError,source:t.source,hasContent:!!t.content,hasStructuredContent:!!t.structuredContent,structuredContent:t.structuredContent});const n={content:this.extractTextContent(t.content),structuredContent:t.structuredContent,isError:t.isError,source:t.source};console.log("[McpAppHostClient] Emitting tool-result event",n),this.emit("tool-result",n)},this.app.onhostcontextchanged=t=>{console.debug(`[${this.config.name}] Host context changed`,{theme:t.theme}),this.applyHostContext(t)},this.app.onteardown=async(t,n)=>(console.debug(`[${this.config.name}] Teardown requested`),await this.emit("teardown"),{}))}async initiateConnection(){if(this.app)try{const t=new cw(window.parent,window.parent);await this.app.connect(t);const n=this.app.getHostContext();if(console.debug(`[${this.config.name}] Connected to host`,{theme:n==null?void 0:n.theme}),n){this.applyHostContext(n);const u=n.widgetState;u&&(this.setState({widgetState:u}),this.emit("widget-state-change",u))}this.setState({isReady:!0})}catch(t){console.error(`[${this.config.name}] Connection failed`,{error:t})}}applyHostContext(t){var n,u,i;t.theme&&(oH(t.theme),this.emit("theme-change",t.theme)),(n=t.styles)!=null&&n.variables&&lH(t.styles.variables),(i=(u=t.styles)==null?void 0:u.css)!=null&&i.fonts&&sH(t.styles.css.fonts),t.creatureStyles&&this.applyCreatureStyles(t.creatureStyles)}applyCreatureStyles(t){const n=document.documentElement;for(const[u,i]of Object.entries(t))i!==void 0&&n.style.setProperty(u,i)}extractTextContent(t){return t==null?void 0:t.filter(n=>n.type==="text").map(n=>({type:n.type,text:n.text}))}},dH=class extends tT{constructor(t){super();Ct(this,"state",{isReady:!1,environment:"chatgpt",widgetState:null});Ct(this,"config");Ct(this,"connected",!1);Ct(this,"hasProcessedInitialData",!1);Ct(this,"globalsHandler",null);this.config=t}getState(){return this.state}connect(){this.connected||(this.connected=!0,this.processInitialData(),this.setupGlobalsListener())}disconnect(){this.connected&&(this.connected=!1,this.globalsHandler&&(window.removeEventListener("openai:set_globals",this.globalsHandler),this.globalsHandler=null))}async callTool(t,n){var o;const u=window.openai;if(!(u!=null&&u.callTool))throw new Error("ChatGPT bridge not available");const i=await u.callTool(t,n),r={structuredContent:i==null?void 0:i.structuredContent,content:(o=i==null?void 0:i.content)==null?void 0:o.map(s=>({type:s.type,text:s.text||""})),source:"ui"};return this.emit("tool-result",r),r}sendNotification(t,n){}setWidgetState(t){var n;this.setState({widgetState:t}),(n=window.openai)!=null&&n.setWidgetState&&window.openai.setWidgetState(t??{}),this.emit("widget-state-change",t)}log(t,n,u){console[t==="error"?"error":t==="warning"?"warn":"log"](`[${this.config.name}]`,n,u??"")}setState(t){const n=this.state;this.state={...this.state,...t},this.notifyStateChange(this.state,n)}processInitialData(){if(this.hasProcessedInitialData)return;const t=window.openai;if(!t){console.warn("[SDK] window.openai not available");return}this.hasProcessedInitialData=!0,this.setState({isReady:!0}),t.toolOutput&&(this.emit("tool-input",t.toolOutput),this.emit("tool-result",{structuredContent:t.toolOutput})),t.widgetState&&(this.setState({widgetState:t.widgetState}),this.emit("widget-state-change",t.widgetState))}setupGlobalsListener(){this.globalsHandler=t=>{var i;const u=(i=t.detail)==null?void 0:i.globals;u!=null&&u.toolOutput&&(this.emit("tool-input",u.toolOutput),this.emit("tool-result",{structuredContent:u.toolOutput})),(u==null?void 0:u.widgetState)!==void 0&&(this.setState({widgetState:u.widgetState}),this.emit("widget-state-change",u.widgetState))},window.addEventListener("openai:set_globals",this.globalsHandler,{passive:!0})}async requestDisplayMode(t){const n=window.openai;return n!=null&&n.requestDisplayMode?{mode:(await n.requestDisplayMode({mode:t.mode})).mode}:{mode:t.mode}}};function hH(){return typeof window>"u"?"standalone":"openai"in window&&window.openai?"chatgpt":window.parent!==window?"mcp-apps":"standalone"}function pH(e){return hH()==="chatgpt"?new dH(e):new fH(e)}function mH(e){const t=Ee.useRef(null);t.current||(t.current=pH({name:e.name,version:e.version}));const n=t.current,u=Ee.useMemo(()=>{const s=(f,d)=>{n.log("info",f,d)};return s.debug=(f,d)=>{n.log("debug",f,d)},s.info=(f,d)=>{n.log("info",f,d)},s.notice=(f,d)=>{n.log("notice",f,d)},s.warn=(f,d)=>{n.log("warning",f,d)},s.error=(f,d)=>{n.log("error",f,d)},s},[n]),i=Ee.useMemo(()=>({callTool:n.callTool.bind(n),sendNotification:n.sendNotification.bind(n),setWidgetState:n.setWidgetState.bind(n),requestDisplayMode:n.requestDisplayMode.bind(n)}),[n]),r=Ee.useSyncExternalStore(s=>n.subscribe(s),()=>n.getState(),()=>n.getState()),o=Ee.useRef({onToolInput:e.onToolInput,onToolResult:e.onToolResult,onThemeChange:e.onThemeChange,onTeardown:e.onTeardown,onWidgetStateChange:e.onWidgetStateChange});return Ee.useEffect(()=>{o.current={onToolInput:e.onToolInput,onToolResult:e.onToolResult,onThemeChange:e.onThemeChange,onTeardown:e.onTeardown,onWidgetStateChange:e.onWidgetStateChange}}),Ee.useEffect(()=>{const s=[];return s.push(n.on("tool-input",f=>{var d,p;return(p=(d=o.current).onToolInput)==null?void 0:p.call(d,f)})),s.push(n.on("tool-result",f=>{var d,p;return(p=(d=o.current).onToolResult)==null?void 0:p.call(d,f)})),s.push(n.on("theme-change",f=>{var d,p;return(p=(d=o.current).onThemeChange)==null?void 0:p.call(d,f)})),s.push(n.on("teardown",()=>{var f,d;return(d=(f=o.current).onTeardown)==null?void 0:d.call(f)})),s.push(n.on("widget-state-change",f=>{var d,p;return(p=(d=o.current).onWidgetStateChange)==null?void 0:p.call(d,f)})),n.connect(),()=>{s.forEach(f=>f()),n.disconnect()}},[n]),{isReady:r.isReady,environment:r.environment,widgetState:r.widgetState,callTool:i.callTool,sendNotification:i.sendNotification,setWidgetState:i.setWidgetState,requestDisplayMode:i.requestDisplayMode,log:u}}function gH(){const[e,t]=Ee.useState(null),[n,u]=Ee.useState(null),[i,r]=Ee.useState(null),[o,s]=Ee.useState(!1),[f,d]=Ee.useState(null),p=Ee.useCallback(v=>{var E,k;const b=v.structuredContent;if(b){const{title:S,instanceId:w,...U}=b;t(U),S&&r(S),w&&u(w)}s(v.isError||!1),(k=(E=v.content)==null?void 0:E[0])!=null&&k.text&&d(v.content[0].text)},[]),m=Ee.useCallback(()=>{t(null),u(null),r(null),s(!1),d(null)},[]);return{data:e,instanceId:n,title:i,isError:o,text:f,onToolResult:p,reset:m}}var ei=(e=>(e.docTypeError="docTypeError",e.contextNotFound="contextNotFound",e.timerNotFound="timerNotFound",e.ctxCallOutOfScope="ctxCallOutOfScope",e.createNodeInParserFail="createNodeInParserFail",e.stackOverFlow="stackOverFlow",e.parserMatchError="parserMatchError",e.serializerMatchError="serializerMatchError",e.getAtomFromSchemaFail="getAtomFromSchemaFail",e.expectDomTypeError="expectDomTypeError",e.callCommandBeforeEditorView="callCommandBeforeEditorView",e.missingRootElement="missingRootElement",e.missingNodeInSchema="missingNodeInSchema",e.missingMarkInSchema="missingMarkInSchema",e.ctxNotBind="ctxNotBind",e.missingYjsDoc="missingYjsDoc",e))(ei||{});class Ci extends Error{constructor(t,n){super(n),this.name="MilkdownError",this.code=t}}const yH=(e,t)=>typeof t=="function"?"[Function]":t,Up=e=>JSON.stringify(e,yH);function vH(e){return new Ci(ei.docTypeError,`Doc type error, unsupported type: ${Up(e)}`)}function bH(e){return new Ci(ei.contextNotFound,`Context "${e}" not found, do you forget to inject it?`)}function EH(e){return new Ci(ei.timerNotFound,`Timer "${e}" not found, do you forget to record it?`)}function jp(){return new Ci(ei.ctxCallOutOfScope,"Should not call a context out of the plugin.")}function CH(e,t,n){const i=`Cannot create node for ${"name"in e?e.name:e}`,r=p=>{if(p==null)return"null";if(Array.isArray(p))return`[${p.map(r).join(", ")}]`;if(typeof p=="object")return"toJSON"in p&&typeof p.toJSON=="function"?JSON.stringify(p.toJSON()):"spec"in p?JSON.stringify(p.spec):JSON.stringify(p);if(typeof p=="string"||typeof p=="number"||typeof p=="boolean")return JSON.stringify(p);if(typeof p=="function")return`[Function: ${p.name||"anonymous"}]`;try{return String(p)}catch{return"[Unserializable]"}},o=["[Description]",i],s=["[Attributes]",t],f=["[Content]",(n??[]).map(p=>p?typeof p=="object"&&"type"in p?`${p}`:r(p):"null")],d=[o,s,f].reduce((p,[m,v])=>{const b=`${m}: ${r(v)}.`;return p.concat(b)},[]);return new Ci(ei.createNodeInParserFail,d.join(`
`))}function nT(){return new Ci(ei.stackOverFlow,"Stack over flow, cannot pop on an empty stack.")}function DH(e){return new Ci(ei.parserMatchError,`Cannot match target parser for node: ${Up(e)}.`)}function kH(e){return new Ci(ei.serializerMatchError,`Cannot match target serializer for node: ${Up(e)}.`)}function xH(e,t){return new Ci(ei.getAtomFromSchemaFail,`Cannot get ${e}: ${t} from schema.`)}function bu(e){return new Ci(ei.expectDomTypeError,`Expect to be a dom, but get: ${Up(e)}.`)}function _4(){return new Ci(ei.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}function SH(e){return new Ci(ei.missingNodeInSchema,`Missing node in schema, milkdown cannot find "${e}" in schema.`)}function wH(e){return new Ci(ei.missingMarkInSchema,`Missing mark in schema, milkdown cannot find "${e}" in schema.`)}class iT{constructor(){this.sliceMap=new Map,this.get=t=>{const n=typeof t=="string"?[...this.sliceMap.values()].find(u=>u.type.name===t):this.sliceMap.get(t.id);if(!n){const u=typeof t=="string"?t:t.name;throw bH(u)}return n},this.remove=t=>{const n=typeof t=="string"?[...this.sliceMap.values()].find(u=>u.type.name===t):this.sliceMap.get(t.id);n&&this.sliceMap.delete(n.type.id)},this.has=t=>typeof t=="string"?[...this.sliceMap.values()].some(n=>n.type.name===t):this.sliceMap.has(t.id)}}var eu,Ku,Dl,g2;let _H=(g2=class{constructor(t,n,u){Re(this,eu);Re(this,Ku);Re(this,Dl);ge(this,eu,[]),ge(this,Dl,()=>{V(this,eu).forEach(i=>i(V(this,Ku)))}),this.set=i=>{ge(this,Ku,i),V(this,Dl).call(this)},this.get=()=>V(this,Ku),this.update=i=>{ge(this,Ku,i(V(this,Ku))),V(this,Dl).call(this)},this.type=u,ge(this,Ku,n),t.set(u.id,this)}on(t){return V(this,eu).push(t),()=>{ge(this,eu,V(this,eu).filter(n=>n!==t))}}once(t){const n=this.on(u=>{t(u),n()});return n}off(t){ge(this,eu,V(this,eu).filter(n=>n!==t))}offAll(){ge(this,eu,[])}},eu=new WeakMap,Ku=new WeakMap,Dl=new WeakMap,g2);class AH{constructor(t,n){this.id=Symbol(`Context-${n}`),this.name=n,this._defaultValue=t,this._typeInfo=()=>{throw jp()}}create(t,n=this._defaultValue){return new _H(t,n,this)}}const We=(e,t)=>new AH(e,t);var Xc,Qc,Wc,La,kl,qr,xl,Sl,wl;class BH{constructor(t,n,u){Re(this,Xc);Re(this,Qc);Re(this,Wc);Re(this,La);Re(this,kl);Re(this,qr);Re(this,xl);Re(this,Sl);Re(this,wl);ge(this,La,new Set),ge(this,kl,new Set),ge(this,qr,new Map),ge(this,xl,new Map),this.read=()=>({metadata:V(this,Xc),injectedSlices:[...V(this,La)].map(i=>({name:typeof i=="string"?i:i.name,value:V(this,Sl).call(this,i)})),consumedSlices:[...V(this,kl)].map(i=>({name:typeof i=="string"?i:i.name,value:V(this,Sl).call(this,i)})),recordedTimers:[...V(this,qr)].map(([i,{duration:r}])=>({name:i.name,duration:r,status:V(this,wl).call(this,i)})),waitTimers:[...V(this,xl)].map(([i,{duration:r}])=>({name:i.name,duration:r,status:V(this,wl).call(this,i)}))}),this.onRecord=i=>{V(this,qr).set(i,{start:Date.now(),duration:0})},this.onClear=i=>{V(this,qr).delete(i)},this.onDone=i=>{const r=V(this,qr).get(i);r&&(r.duration=Date.now()-r.start)},this.onWait=(i,r)=>{const o=Date.now();r.finally(()=>{V(this,xl).set(i,{duration:Date.now()-o})}).catch(console.error)},this.onInject=i=>{V(this,La).add(i)},this.onRemove=i=>{V(this,La).delete(i)},this.onUse=i=>{V(this,kl).add(i)},ge(this,Sl,i=>V(this,Qc).get(i).get()),ge(this,wl,i=>V(this,Wc).get(i).status),ge(this,Qc,t),ge(this,Wc,n),ge(this,Xc,u)}}Xc=new WeakMap,Qc=new WeakMap,Wc=new WeakMap,La=new WeakMap,kl=new WeakMap,qr=new WeakMap,xl=new WeakMap,Sl=new WeakMap,wl=new WeakMap;var Gu,Yu,ef,Oi;const SE=class SE{constructor(t,n,u){Re(this,Gu);Re(this,Yu);Re(this,ef);Re(this,Oi);this.produce=i=>i&&Object.keys(i).length?new SE(V(this,Gu),V(this,Yu),{...i}):this,this.inject=(i,r)=>{var s;const o=i.create(V(this,Gu).sliceMap);return r!=null&&o.set(r),(s=V(this,Oi))==null||s.onInject(i),this},this.remove=i=>{var r;return V(this,Gu).remove(i),(r=V(this,Oi))==null||r.onRemove(i),this},this.record=i=>{var r;return i.create(V(this,Yu).store),(r=V(this,Oi))==null||r.onRecord(i),this},this.clearTimer=i=>{var r;return V(this,Yu).remove(i),(r=V(this,Oi))==null||r.onClear(i),this},this.isInjected=i=>V(this,Gu).has(i),this.isRecorded=i=>V(this,Yu).has(i),this.use=i=>{var r;return(r=V(this,Oi))==null||r.onUse(i),V(this,Gu).get(i)},this.get=i=>this.use(i).get(),this.set=(i,r)=>this.use(i).set(r),this.update=(i,r)=>this.use(i).update(r),this.timer=i=>V(this,Yu).get(i),this.done=i=>{var r;this.timer(i).done(),(r=V(this,Oi))==null||r.onDone(i)},this.wait=i=>{var o;const r=this.timer(i).start();return(o=V(this,Oi))==null||o.onWait(i,r),r},this.waitTimers=async i=>{await Promise.all(this.get(i).map(r=>this.wait(r)))},ge(this,Gu,t),ge(this,Yu,n),ge(this,ef,u),u&&ge(this,Oi,new BH(t,n,u))}get meta(){return V(this,ef)}get inspector(){return V(this,Oi)}};Gu=new WeakMap,Yu=new WeakMap,ef=new WeakMap,Oi=new WeakMap;let B1=SE;class TH{constructor(){this.store=new Map,this.get=t=>{const n=this.store.get(t.id);if(!n)throw EH(t.name);return n},this.remove=t=>{this.store.delete(t.id)},this.has=t=>this.store.has(t.id)}}var _l,Vr,Al,Xu,Bl,tf;class zH{constructor(t,n){Re(this,_l);Re(this,Vr);Re(this,Al);Re(this,Xu);Re(this,Bl);Re(this,tf);ge(this,_l,null),ge(this,Vr,null),ge(this,Xu,"pending"),this.start=()=>(V(this,_l)??ge(this,_l,new Promise((u,i)=>{ge(this,Vr,r=>{r instanceof CustomEvent&&r.detail.id===V(this,Al)&&(ge(this,Xu,"resolved"),V(this,Bl).call(this),r.stopImmediatePropagation(),u())}),V(this,tf).call(this,()=>{V(this,Xu)==="pending"&&ge(this,Xu,"rejected"),V(this,Bl).call(this),i(new Error(`Timing ${this.type.name} timeout.`))}),ge(this,Xu,"pending"),addEventListener(this.type.name,V(this,Vr))})),V(this,_l)),this.done=()=>{const u=new CustomEvent(this.type.name,{detail:{id:V(this,Al)}});dispatchEvent(u)},ge(this,Bl,()=>{V(this,Vr)&&removeEventListener(this.type.name,V(this,Vr))}),ge(this,tf,u=>{setTimeout(()=>{u()},this.type.timeout)}),ge(this,Al,Symbol(n.name)),this.type=n,t.set(n.id,this)}get status(){return V(this,Xu)}}_l=new WeakMap,Vr=new WeakMap,Al=new WeakMap,Xu=new WeakMap,Bl=new WeakMap,tf=new WeakMap;class NH{constructor(t,n=3e3){this.create=u=>new zH(u,this),this.id=Symbol(`Timer-${t}`),this.name=t,this.timeout=n}}const Eu=(e,t=3e3)=>new NH(e,t);function hn(e){this.content=e}hn.prototype={constructor:hn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var u=n&&n!=e?this.remove(n):this,i=u.find(e),r=u.content.slice();return i==-1?r.push(n||e,t):(r[i+1]=t,n&&(r[i]=n)),new hn(r)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new hn(n)},addToStart:function(e,t){return new hn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new hn(n)},addBefore:function(e,t,n){var u=this.remove(t),i=u.content.slice(),r=u.find(e);return i.splice(r==-1?i.length:r,0,t,n),new hn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=hn.from(e),e.size?new hn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=hn.from(e),e.size?new hn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=hn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};hn.from=function(e){if(e instanceof hn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new hn(t)};function uT(e,t,n){for(let u=0;;u++){if(u==e.childCount||u==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(u),r=t.child(u);if(i==r){n+=i.nodeSize;continue}if(!i.sameMarkup(r))return n;if(i.isText&&i.text!=r.text){for(let o=0;i.text[o]==r.text[o];o++)n++;return n}if(i.content.size||r.content.size){let o=uT(i.content,r.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function rT(e,t,n,u){for(let i=e.childCount,r=t.childCount;;){if(i==0||r==0)return i==r?null:{a:n,b:u};let o=e.child(--i),s=t.child(--r),f=o.nodeSize;if(o==s){n-=f,u-=f;continue}if(!o.sameMarkup(s))return{a:n,b:u};if(o.isText&&o.text!=s.text){let d=0,p=Math.min(o.text.length,s.text.length);for(;d<p&&o.text[o.text.length-d-1]==s.text[s.text.length-d-1];)d++,n--,u--;return{a:n,b:u}}if(o.content.size||s.content.size){let d=rT(o.content,s.content,n-1,u-1);if(d)return d}n-=f,u-=f}}class ee{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let u=0;u<t.length;u++)this.size+=t[u].nodeSize}nodesBetween(t,n,u,i=0,r){for(let o=0,s=0;s<n;o++){let f=this.content[o],d=s+f.nodeSize;if(d>t&&u(f,i+s,r||null,o)!==!1&&f.content.size){let p=s+1;f.nodesBetween(Math.max(0,t-p),Math.min(f.content.size,n-p),u,i+p)}s=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,u,i){let r="",o=!0;return this.nodesBetween(t,n,(s,f)=>{let d=s.isText?s.text.slice(Math.max(t,f)-f,n-f):s.isLeaf?i?typeof i=="function"?i(s):i:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&d||s.isTextblock)&&u&&(o?o=!1:r+=u),r+=d},0),r}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,u=t.firstChild,i=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(u)&&(i[i.length-1]=n.withText(n.text+u.text),r=1);r<t.content.length;r++)i.push(t.content[r]);return new ee(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let u=[],i=0;if(n>t)for(let r=0,o=0;o<n;r++){let s=this.content[r],f=o+s.nodeSize;f>t&&((o<t||f>n)&&(s.isText?s=s.cut(Math.max(0,t-o),Math.min(s.text.length,n-o)):s=s.cut(Math.max(0,t-o-1),Math.min(s.content.size,n-o-1))),u.push(s),i+=s.nodeSize),o=f}return new ee(u,i)}cutByIndex(t,n){return t==n?ee.empty:t==0&&n==this.content.length?this:new ee(this.content.slice(t,n))}replaceChild(t,n){let u=this.content[t];if(u==n)return this;let i=this.content.slice(),r=this.size+n.nodeSize-u.nodeSize;return i[t]=n,new ee(i,r)}addToStart(t){return new ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,u=0;n<this.content.length;n++){let i=this.content[n];t(i,u,n),u+=i.nodeSize}}findDiffStart(t,n=0){return uT(this,t,n)}findDiffEnd(t,n=this.size,u=t.size){return rT(this,t,n,u)}findIndex(t){if(t==0)return T0(0,t);if(t==this.size)return T0(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,u=0;;n++){let i=this.child(n),r=u+i.nodeSize;if(r>=t)return r==t?T0(n+1,r):T0(n,u);u=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ee.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ee(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ee.empty;let n,u=0;for(let i=0;i<t.length;i++){let r=t[i];u+=r.nodeSize,i&&r.isText&&t[i-1].sameMarkup(r)?(n||(n=t.slice(0,i)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new ee(n||t,u)}static from(t){if(!t)return ee.empty;if(t instanceof ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ee.empty=new ee([],0);const A4={index:0,offset:0};function T0(e,t){return A4.index=e,A4.offset=t,A4}function Dh(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let u=0;u<e.length;u++)if(!Dh(e[u],t[u]))return!1}else{for(let u in e)if(!(u in t)||!Dh(e[u],t[u]))return!1;for(let u in t)if(!(u in e))return!1}return!0}class tt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,u=!1;for(let i=0;i<t.length;i++){let r=t[i];if(this.eq(r))return t;if(this.type.excludes(r.type))n||(n=t.slice(0,i));else{if(r.type.excludes(this.type))return t;!u&&r.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),u=!0),n&&n.push(r)}}return n||(n=t.slice()),u||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Dh(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let u=t.marks[n.type];if(!u)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=u.create(n.attrs);return u.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let u=0;u<t.length;u++)if(!t[u].eq(n[u]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return tt.none;if(t instanceof tt)return[t];let n=t.slice();return n.sort((u,i)=>u.type.rank-i.type.rank),n}}tt.none=[];class kh extends Error{}class oe{constructor(t,n,u){this.content=t,this.openStart=n,this.openEnd=u}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let u=oT(this.content,t+this.openStart,n);return u&&new oe(u,this.openStart,this.openEnd)}removeBetween(t,n){return new oe(aT(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return oe.empty;let u=n.openStart||0,i=n.openEnd||0;if(typeof u!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new oe(ee.fromJSON(t,n.content),u,i)}static maxOpen(t,n=!0){let u=0,i=0;for(let r=t.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)u++;for(let r=t.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)i++;return new oe(t,u,i)}}oe.empty=new oe(ee.empty,0,0);function aT(e,t,n){let{index:u,offset:i}=e.findIndex(t),r=e.maybeChild(u),{index:o,offset:s}=e.findIndex(n);if(i==t||r.isText){if(s!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(u!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(u,r.copy(aT(r.content,t-i-1,n-i-1)))}function oT(e,t,n,u){let{index:i,offset:r}=e.findIndex(t),o=e.maybeChild(i);if(r==t||o.isText)return u&&!u.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=oT(o.content,t-r-1,n,o);return s&&e.replaceChild(i,o.copy(s))}function $H(e,t,n){if(n.openStart>e.depth)throw new kh("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new kh("Inconsistent open depths");return lT(e,t,n,0)}function lT(e,t,n,u){let i=e.index(u),r=e.node(u);if(i==t.index(u)&&u<e.depth-n.openStart){let o=lT(e,t,n,u+1);return r.copy(r.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==u&&t.depth==u){let o=e.parent,s=o.content;return Ga(o,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}else{let{start:o,end:s}=OH(n,e);return Ga(r,cT(e,o,s,t,u))}else return Ga(r,xh(e,t,u))}function sT(e,t){if(!t.type.compatibleContent(e.type))throw new kh("Cannot join "+t.type.name+" onto "+e.type.name)}function T1(e,t,n){let u=e.node(n);return sT(u,t.node(n)),u}function Ka(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function bc(e,t,n,u){let i=(t||e).node(n),r=0,o=t?t.index(n):i.childCount;e&&(r=e.index(n),e.depth>n?r++:e.textOffset&&(Ka(e.nodeAfter,u),r++));for(let s=r;s<o;s++)Ka(i.child(s),u);t&&t.depth==n&&t.textOffset&&Ka(t.nodeBefore,u)}function Ga(e,t){return e.type.checkContent(t),e.copy(t)}function cT(e,t,n,u,i){let r=e.depth>i&&T1(e,t,i+1),o=u.depth>i&&T1(n,u,i+1),s=[];return bc(null,e,i,s),r&&o&&t.index(i)==n.index(i)?(sT(r,o),Ka(Ga(r,cT(e,t,n,u,i+1)),s)):(r&&Ka(Ga(r,xh(e,t,i+1)),s),bc(t,n,i,s),o&&Ka(Ga(o,xh(n,u,i+1)),s)),bc(u,null,i,s),new ee(s)}function xh(e,t,n){let u=[];if(bc(null,e,n,u),e.depth>n){let i=T1(e,t,n+1);Ka(Ga(i,xh(e,t,n+1)),u)}return bc(t,null,n,u),new ee(u)}function OH(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let r=n-1;r>=0;r--)i=t.node(r).copy(ee.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class jc{constructor(t,n,u){this.pos=t,this.path=n,this.parentOffset=u,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let u=this.pos-this.path[this.path.length-1],i=t.child(n);return u?t.child(n).cut(u):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let u=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let r=0;r<t;r++)i+=u.child(r).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return tt.none;if(this.textOffset)return t.child(n).marks;let u=t.maybeChild(n-1),i=t.maybeChild(n);if(!u){let s=u;u=i,i=s}let r=u.marks;for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let u=n.marks,i=t.parent.maybeChild(t.index());for(var r=0;r<u.length;r++)u[r].type.spec.inclusive===!1&&(!i||!u[r].isInSet(i.marks))&&(u=u[r--].removeFromSet(u));return u}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let u=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);u>=0;u--)if(t.pos<=this.end(u)&&(!n||n(this.node(u))))return new fT(this,t,u);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let u=[],i=0,r=n;for(let o=t;;){let{index:s,offset:f}=o.content.findIndex(r),d=r-f;if(u.push(o,s,i+f),!d||(o=o.child(s),o.isText))break;r=d-1,i+=f+1}return new jc(n,u,r)}static resolveCached(t,n){let u=vx.get(t);if(u)for(let r=0;r<u.elts.length;r++){let o=u.elts[r];if(o.pos==n)return o}else vx.set(t,u=new IH);let i=u.elts[u.i]=jc.resolve(t,n);return u.i=(u.i+1)%MH,i}}class IH{constructor(){this.elts=[],this.i=0}}const MH=12,vx=new WeakMap;class fT{constructor(t,n,u){this.$from=t,this.$to=n,this.depth=u}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const RH=Object.create(null);class Li{constructor(t,n,u,i=tt.none){this.type=t,this.attrs=n,this.marks=i,this.content=u||ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,u,i=0){this.content.nodesBetween(t,n,u,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,u,i){return this.content.textBetween(t,n,u,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,u){return this.type==t&&Dh(this.attrs,n||t.defaultAttrs||RH)&&tt.sameSet(this.marks,u||tt.none)}copy(t=null){return t==this.content?this:new Li(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Li(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,u=!1){if(t==n)return oe.empty;let i=this.resolve(t),r=this.resolve(n),o=u?0:i.sharedDepth(n),s=i.start(o),d=i.node(o).content.cut(i.pos-s,r.pos-s);return new oe(d,i.depth-o,r.depth-o)}replace(t,n,u){return $H(this.resolve(t),this.resolve(n),u)}nodeAt(t){for(let n=this;;){let{index:u,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(u),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:u}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:u}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:u}=this.content.findIndex(t);if(u<t)return{node:this.content.child(n),index:n,offset:u};let i=this.content.child(n-1);return{node:i,index:n-1,offset:u-i.nodeSize}}resolve(t){return jc.resolveCached(this,t)}resolveNoCache(t){return jc.resolve(this,t)}rangeHasMark(t,n,u){let i=!1;return n>t&&this.nodesBetween(t,n,r=>(u.isInSet(r.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),dT(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,u=ee.empty,i=0,r=u.childCount){let o=this.contentMatchAt(t).matchFragment(u,i,r),s=o&&o.matchFragment(this.content,n);if(!s||!s.validEnd)return!1;for(let f=i;f<r;f++)if(!this.type.allowsMarks(u.child(f).marks))return!1;return!0}canReplaceWith(t,n,u,i){if(i&&!this.type.allowsMarks(i))return!1;let r=this.contentMatchAt(t).matchType(u),o=r&&r.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=tt.none;for(let n=0;n<this.marks.length;n++){let u=this.marks[n];u.type.checkAttrs(u.attrs),t=u.addToSet(t)}if(!tt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let u;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");u=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,u)}let i=ee.fromJSON(t,n.content),r=t.nodeType(n.type).create(n.attrs,i,u);return r.type.checkAttrs(r.attrs),r}}Li.prototype.text=void 0;class Sh extends Li{constructor(t,n,u,i){if(super(t,n,null,i),!u)throw new RangeError("Empty text nodes are not allowed");this.text=u}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sh(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sh(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function dT(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ro{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let u=new FH(t,n);if(u.next==null)return ro.empty;let i=hT(u);u.next&&u.err("Unexpected trailing text");let r=qH(HH(i));return VH(r,u),r}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,u=t.childCount){let i=this;for(let r=n;i&&r<u;r++)i=i.matchType(t.child(r).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let u=0;u<t.next.length;u++)if(this.next[n].type==t.next[u].type)return!0;return!1}fillBefore(t,n=!1,u=0){let i=[this];function r(o,s){let f=o.matchFragment(t,u);if(f&&(!n||f.validEnd))return ee.from(s.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:p,next:m}=o.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=r(m,s.concat(p));if(v)return v}}return null}return r(this,[])}findWrapping(t){for(let u=0;u<this.wrapCache.length;u+=2)if(this.wrapCache[u]==t)return this.wrapCache[u+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),u=[{match:this,type:null,via:null}];for(;u.length;){let i=u.shift(),r=i.match;if(r.matchType(t)){let o=[];for(let s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(let o=0;o<r.next.length;o++){let{type:s,next:f}=r.next[o];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in n)&&(!i.type||f.validEnd)&&(u.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(u){t.push(u);for(let i=0;i<u.next.length;i++)t.indexOf(u.next[i].next)==-1&&n(u.next[i].next)}return n(this),t.map((u,i)=>{let r=i+(u.validEnd?"*":" ")+" ";for(let o=0;o<u.next.length;o++)r+=(o?", ":"")+u.next[o].type.name+"->"+t.indexOf(u.next[o].next);return r}).join(`
`)}}ro.empty=new ro(!0);class FH{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function hT(e){let t=[];do t.push(UH(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function UH(e){let t=[];do t.push(jH(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function jH(e){let t=PH(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=LH(e,t);else break;return t}function bx(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function LH(e,t){let n=bx(e),u=n;return e.eat(",")&&(e.next!="}"?u=bx(e):u=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:u,expr:t}}function ZH(e,t){let n=e.nodeTypes,u=n[t];if(u)return[u];let i=[];for(let r in n){let o=n[r];o.isInGroup(t)&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function PH(e){if(e.eat("(")){let t=hT(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=ZH(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function HH(e){let t=[[]];return i(r(e,0),n()),t;function n(){return t.push([])-1}function u(o,s,f){let d={term:f,to:s};return t[o].push(d),d}function i(o,s){o.forEach(f=>f.to=s)}function r(o,s){if(o.type=="choice")return o.exprs.reduce((f,d)=>f.concat(r(d,s)),[]);if(o.type=="seq")for(let f=0;;f++){let d=r(o.exprs[f],s);if(f==o.exprs.length-1)return d;i(d,s=n())}else if(o.type=="star"){let f=n();return u(s,f),i(r(o.expr,f),f),[u(f)]}else if(o.type=="plus"){let f=n();return i(r(o.expr,s),f),i(r(o.expr,f),f),[u(f)]}else{if(o.type=="opt")return[u(s)].concat(r(o.expr,s));if(o.type=="range"){let f=s;for(let d=0;d<o.min;d++){let p=n();i(r(o.expr,f),p),f=p}if(o.max==-1)i(r(o.expr,f),f);else for(let d=o.min;d<o.max;d++){let p=n();u(f,p),i(r(o.expr,f),p),f=p}return[u(f)]}else{if(o.type=="name")return[u(s,void 0,o.value)];throw new Error("Unknown expr type")}}}}function pT(e,t){return t-e}function Ex(e,t){let n=[];return u(t),n.sort(pT);function u(i){let r=e[i];if(r.length==1&&!r[0].term)return u(r[0].to);n.push(i);for(let o=0;o<r.length;o++){let{term:s,to:f}=r[o];!s&&n.indexOf(f)==-1&&u(f)}}}function qH(e){let t=Object.create(null);return n(Ex(e,0));function n(u){let i=[];u.forEach(o=>{e[o].forEach(({term:s,to:f})=>{if(!s)return;let d;for(let p=0;p<i.length;p++)i[p][0]==s&&(d=i[p][1]);Ex(e,f).forEach(p=>{d||i.push([s,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let r=t[u.join(",")]=new ro(u.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let s=i[o][1].sort(pT);r.next.push({type:i[o][0],next:t[s.join(",")]||n(s)})}return r}}function VH(e,t){for(let n=0,u=[e];n<u.length;n++){let i=u[n],r=!i.validEnd,o=[];for(let s=0;s<i.next.length;s++){let{type:f,next:d}=i.next[s];o.push(f.name),r&&!(f.isText||f.hasRequiredAttrs())&&(r=!1),u.indexOf(d)==-1&&u.push(d)}r&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function mT(e){let t=Object.create(null);for(let n in e){let u=e[n];if(!u.hasDefault)return null;t[n]=u.default}return t}function gT(e,t){let n=Object.create(null);for(let u in e){let i=t&&t[u];if(i===void 0){let r=e[u];if(r.hasDefault)i=r.default;else throw new RangeError("No value supplied for attribute "+u)}n[u]=i}return n}function yT(e,t,n,u){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let r=e[i];r.validate&&r.validate(t[i])}}function vT(e,t){let n=Object.create(null);if(t)for(let u in t)n[u]=new KH(e,u,t[u]);return n}let Cx=class bT{constructor(t,n,u){this.name=t,this.schema=n,this.spec=u,this.markSet=null,this.groups=u.group?u.group.split(" "):[],this.attrs=vT(t,u.attrs),this.defaultAttrs=mT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(u.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ro.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:gT(this.attrs,t)}create(t=null,n,u){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Li(this,this.computeAttrs(t),ee.from(n),tt.setFrom(u))}createChecked(t=null,n,u){return n=ee.from(n),this.checkContent(n),new Li(this,this.computeAttrs(t),n,tt.setFrom(u))}createAndFill(t=null,n,u){if(t=this.computeAttrs(t),n=ee.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),r=i&&i.fillBefore(ee.empty,!0);return r?new Li(this,t,n.append(r),tt.setFrom(u)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let u=0;u<t.childCount;u++)if(!this.allowsMarks(t.child(u).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){yT(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let u=0;u<t.length;u++)this.allowsMarkType(t[u].type)?n&&n.push(t[u]):n||(n=t.slice(0,u));return n?n.length?n:tt.none:t}static compile(t,n){let u=Object.create(null);t.forEach((r,o)=>u[r]=new bT(r,n,o));let i=n.spec.topNode||"doc";if(!u[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!u.text)throw new RangeError("Every schema needs a 'text' type");for(let r in u.text.attrs)throw new RangeError("The text node type should not have attributes");return u}};function JH(e,t,n){let u=n.split("|");return i=>{let r=i===null?"null":typeof i;if(u.indexOf(r)<0)throw new RangeError(`Expected value of type ${u} for attribute ${t} on type ${e}, got ${r}`)}}class KH{constructor(t,n,u){this.hasDefault=Object.prototype.hasOwnProperty.call(u,"default"),this.default=u.default,this.validate=typeof u.validate=="string"?JH(t,n,u.validate):u.validate}get isRequired(){return!this.hasDefault}}class Lp{constructor(t,n,u,i){this.name=t,this.rank=n,this.schema=u,this.spec=i,this.attrs=vT(t,i.attrs),this.excluded=null;let r=mT(this.attrs);this.instance=r?new tt(this,r):null}create(t=null){return!t&&this.instance?this.instance:new tt(this,gT(this.attrs,t))}static compile(t,n){let u=Object.create(null),i=0;return t.forEach((r,o)=>u[r]=new Lp(r,i++,n,o)),u}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){yT(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class GH{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=hn.from(t.nodes),n.marks=hn.from(t.marks||{}),this.nodes=Cx.compile(this.spec.nodes,this),this.marks=Lp.compile(this.spec.marks,this);let u=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let r=this.nodes[i],o=r.spec.content||"",s=r.spec.marks;if(r.contentMatch=u[o]||(u[o]=ro.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=s=="_"?null:s?Dx(this,s.split(" ")):s==""||!r.inlineContent?[]:null}for(let i in this.marks){let r=this.marks[i],o=r.spec.excludes;r.excluded=o==null?[r]:o==""?[]:Dx(this,o.split(" "))}this.nodeFromJSON=i=>Li.fromJSON(this,i),this.markFromJSON=i=>tt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,u,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Cx){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,u,i)}text(t,n){let u=this.nodes.text;return new Sh(u,u.defaultAttrs,t,tt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function Dx(e,t){let n=[];for(let u=0;u<t.length;u++){let i=t[u],r=e.marks[i],o=r;if(r)n.push(r);else for(let s in e.marks){let f=e.marks[s];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=f)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[u]+"'")}return n}function YH(e){return e.tag!=null}function XH(e){return e.style!=null}class ao{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let u=this.matchedStyles=[];n.forEach(i=>{if(YH(i))this.tags.push(i);else if(XH(i)){let r=/[^=]*/.exec(i.style)[0];u.indexOf(r)<0&&u.push(r),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let r=t.nodes[i.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let u=new xx(this,n,!1);return u.addAll(t,tt.none,n.from,n.to),u.finish()}parseSlice(t,n={}){let u=new xx(this,n,!0);return u.addAll(t,tt.none,n.from,n.to),oe.maxOpen(u.finish())}matchTag(t,n,u){for(let i=u?this.tags.indexOf(u)+1:0;i<this.tags.length;i++){let r=this.tags[i];if(eq(t,r.tag)&&(r.namespace===void 0||t.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let o=r.getAttrs(t);if(o===!1)continue;r.attrs=o||void 0}return r}}}matchStyle(t,n,u,i){for(let r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){let o=this.styles[r],s=o.style;if(!(s.indexOf(t)!=0||o.context&&!u.matchesContext(o.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=n))){if(o.getAttrs){let f=o.getAttrs(n);if(f===!1)continue;o.attrs=f||void 0}return o}}}static schemaRules(t){let n=[];function u(i){let r=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let s=n[o];if((s.priority==null?50:s.priority)<r)break}n.splice(o,0,i)}for(let i in t.marks){let r=t.marks[i].spec.parseDOM;r&&r.forEach(o=>{u(o=Sx(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let r=t.nodes[i].spec.parseDOM;r&&r.forEach(o=>{u(o=Sx(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new ao(t,ao.schemaRules(t)))}}const ET={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},QH={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},CT={ol:!0,ul:!0},Lc=1,z1=2,Ec=4;function kx(e,t,n){return t!=null?(t?Lc:0)|(t==="full"?z1:0):e&&e.whitespace=="pre"?Lc|z1:n&~Ec}class z0{constructor(t,n,u,i,r,o){this.type=t,this.attrs=n,this.marks=u,this.solid=i,this.options=o,this.content=[],this.activeMarks=tt.none,this.match=r||(o&Ec?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ee.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let u=this.type.contentMatch,i;return(i=u.findWrapping(t.type))?(this.match=u,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Lc)){let u=this.content[this.content.length-1],i;if(u&&u.isText&&(i=/[ \t\r\n\u000c]+$/.exec(u.text))){let r=u;u.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-i[0].length))}}let n=ee.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!ET.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class xx{constructor(t,n,u){this.parser=t,this.options=n,this.isOpen=u,this.open=0,this.localPreserveWS=!1;let i=n.topNode,r,o=kx(null,n.preserveWhitespace,0)|(u?Ec:0);i?r=new z0(i.type,i.attrs,tt.none,!0,n.topMatch||i.type.contentMatch,o):u?r=new z0(null,null,tt.none,!0,null,o):r=new z0(t.schema.topNodeType,null,tt.none,!0,null,o),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let u=t.nodeValue,i=this.top,r=i.options&z1?"full":this.localPreserveWS||(i.options&Lc)>0,{schema:o}=this.parser;if(r==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(u)){if(r)if(r==="full")u=u.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(u)&&this.top.findWrapping(o.linebreakReplacement.create())){let s=u.split(/\r?\n|\r/);for(let f=0;f<s.length;f++)f&&this.insertNode(o.linebreakReplacement.create(),n,!0),s[f]&&this.insertNode(o.text(s[f]),n,!/\S/.test(s[f]));u=""}else u=u.replace(/\r?\n|\r/g," ");else if(u=u.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(u)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],f=t.previousSibling;(!s||f&&f.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(u=u.slice(1))}u&&this.insertNode(o.text(u),n,!/\S/.test(u)),this.findInText(t)}else this.findInside(t)}addElement(t,n,u){let i=this.localPreserveWS,r=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),s;CT.hasOwnProperty(o)&&this.parser.normalizeLists&&WH(t);let f=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,u));e:if(f?f.ignore:QH.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(t=f.skip);let d,p=this.needsBlock;if(ET.hasOwnProperty(o))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),d=!0,r.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=f&&f.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),d&&this.sync(r),this.needsBlock=p}else{let d=this.readStyles(t,n);d&&this.addElementByRule(t,f,d,f.consuming===!1?s:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let u=t.style;if(u&&u.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let r=this.parser.matchedStyles[i],o=u.getPropertyValue(r);if(o)for(let s=void 0;;){let f=this.parser.matchStyle(r,o,this,s);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(d=>!f.clearMark(d)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)s=f;else break}}return n}addElementByRule(t,n,u,i){let r,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),u,t.nodeName=="BR")||this.leafFallback(t,u);else{let f=this.enter(o,n.attrs||null,u,n.preserveWhitespace);f&&(r=!0,u=f)}else{let f=this.parser.schema.marks[n.mark];u=u.concat(f.create(n.attrs))}let s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(i)this.addElement(t,u,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(f=>this.insertNode(f,u,!1));else{let f=t;typeof n.contentElement=="string"?f=t.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(t):n.contentElement&&(f=n.contentElement),this.findAround(t,f,!0),this.addAll(f,u),this.findAround(t,f,!1)}r&&this.sync(s)&&this.open--}addAll(t,n,u,i){let r=u||0;for(let o=u?t.childNodes[u]:t.firstChild,s=i==null?null:t.childNodes[i];o!=s;o=o.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(o,n);this.findAtPoint(t,r)}findPlace(t,n,u){let i,r;for(let o=this.open,s=0;o>=0;o--){let f=this.nodes[o],d=f.findWrapping(t);if(d&&(!i||i.length>d.length+s)&&(i=d,r=f,!d.length))break;if(f.solid){if(u)break;s+=2}}if(!i)return null;this.sync(r);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(t,n,u){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let i=this.findPlace(t,n,u);if(i){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(t.type));let o=tt.none;for(let s of i.concat(t.marks))(r.type?r.type.allowsMarkType(s.type):wx(s.type,t.type))&&(o=s.addToSet(o));return r.content.push(t.mark(o)),!0}return!1}enter(t,n,u,i){let r=this.findPlace(t.create(n),u,!1);return r&&(r=this.enterInner(t,n,u,!0,i)),r}enterInner(t,n,u,i=!1,r){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let s=kx(t,r,o.options);o.options&Ec&&o.content.length==0&&(s|=Ec);let f=tt.none;return u=u.filter(d=>(o.type?o.type.allowsMarkType(d.type):wx(d.type,t))?(f=d.addToSet(f),!1):!0),this.nodes.push(new z0(t,n,f,i,null,s)),this.open++,u}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Lc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let u=this.nodes[n].content;for(let i=u.length-1;i>=0;i--)t+=u[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let u=0;u<this.find.length;u++)this.find[u].node==t&&this.find[u].offset==n&&(this.find[u].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,u){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(u?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),u=this.options.context,i=!this.isOpen&&(!u||u.parent.type==this.nodes[0].type),r=-(u?u.depth+1:0)+(i?0:1),o=(s,f)=>{for(;s>=0;s--){let d=n[s];if(d==""){if(s==n.length-1||s==0)continue;for(;f>=r;f--)if(o(s-1,f))return!0;return!1}else{let p=f>0||f==0&&i?this.nodes[f].type:u&&f>=r?u.node(f-r).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let u=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(u&&u.isTextblock&&u.defaultAttrs)return u}for(let n in this.parser.schema.nodes){let u=this.parser.schema.nodes[n];if(u.isTextblock&&u.defaultAttrs)return u}}}function WH(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let u=t.nodeType==1?t.nodeName.toLowerCase():null;u&&CT.hasOwnProperty(u)&&n?(n.appendChild(t),t=n):u=="li"?n=t:u&&(n=null)}}function eq(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Sx(e){let t={};for(let n in e)t[n]=e[n];return t}function wx(e,t){let n=t.schema.nodes;for(let u in n){let i=n[u];if(!i.allowsMarkType(e))continue;let r=[],o=s=>{r.push(s);for(let f=0;f<s.edgeCount;f++){let{type:d,next:p}=s.edge(f);if(d==t||r.indexOf(p)<0&&o(p))return!0}};if(o(i.contentMatch))return!0}}class yo{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},u){u||(u=B4(n).createDocumentFragment());let i=u,r=[];return t.forEach(o=>{if(r.length||o.marks.length){let s=0,f=0;for(;s<r.length&&f<o.marks.length;){let d=o.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(r[s][0])||d.type.spec.spanning===!1)break;s++,f++}for(;s<r.length;)i=r.pop()[1];for(;f<o.marks.length;){let d=o.marks[f++],p=this.serializeMark(d,o.isInline,n);p&&(r.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),u}serializeNodeInner(t,n){let{dom:u,contentDOM:i}=F0(B4(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return u}serializeNode(t,n={}){let u=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let r=this.serializeMark(t.marks[i],t.isInline,n);r&&((r.contentDOM||r.dom).appendChild(u),u=r.dom)}return u}serializeMark(t,n,u={}){let i=this.marks[t.type.name];return i&&F0(B4(u),i(t,n),null,t.attrs)}static renderSpec(t,n,u=null,i){return F0(t,n,u,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new yo(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=_x(t.nodes);return n.text||(n.text=u=>u.text),n}static marksFromSchema(t){return _x(t.marks)}}function _x(e){let t={};for(let n in e){let u=e[n].spec.toDOM;u&&(t[n]=u)}return t}function B4(e){return e.document||window.document}const Ax=new WeakMap;function tq(e){let t=Ax.get(e);return t===void 0&&Ax.set(e,t=nq(e)),t}function nq(e){let t=null;function n(u){if(u&&typeof u=="object")if(Array.isArray(u))if(typeof u[0]=="string")t||(t=[]),t.push(u);else for(let i=0;i<u.length;i++)n(u[i]);else for(let i in u)n(u[i])}return n(e),t}function F0(e,t,n,u){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],r;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(u&&(r=tq(u))&&r.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s,f=n?e.createElementNS(n,i):e.createElement(i),d=t[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let v=m.indexOf(" ");v>0?f.setAttributeNS(m.slice(0,v),m.slice(v+1),d[m]):m=="style"&&f.style?f.style.cssText=d[m]:f.setAttribute(m,d[m])}}for(let m=p;m<t.length;m++){let v=t[m];if(v===0){if(m<t.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:b,contentDOM:E}=F0(e,v,n,u);if(f.appendChild(b),E){if(s)throw new RangeError("Multiple content holes");s=E}}}return{dom:f,contentDOM:s}}const iq={};function F3(e,t){const n=iq,u=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return DT(e,u,i)}function DT(e,t,n){if(uq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Bx(e.children,t,n)}return Array.isArray(e)?Bx(e,t,n):""}function Bx(e,t,n){const u=[];let i=-1;for(;++i<e.length;)u[i]=DT(e[i],t,n);return u.join("")}function uq(e){return!!(e&&typeof e=="object")}const Tx=document.createElement("i");function U3(e){const t="&"+e+";";Tx.innerHTML=t;const n=Tx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function mi(e,t,n,u){const i=e.length;let r=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,u.length<1e4)o=Array.from(u),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);r<u.length;)o=u.slice(r,r+1e4),o.unshift(t,0),e.splice(...o),r+=1e4,t+=1e4}function Fi(e,t){return e.length>0?(mi(e,e.length,0,t),e):t}const zx={}.hasOwnProperty;function kT(e){const t={};let n=-1;for(;++n<e.length;)rq(t,e[n]);return t}function rq(e,t){let n;for(n in t){const i=(zx.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let o;if(r)for(o in r){zx.call(i,o)||(i[o]=[]);const s=r[o];aq(i[o],Array.isArray(s)?s:s?[s]:[])}}}function aq(e,t){let n=-1;const u=[];for(;++n<t.length;)(t[n].add==="after"?e:u).push(t[n]);mi(e,0,0,u)}function xT(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function uu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const On=sa(/[A-Za-z]/),Yn=sa(/[\dA-Za-z]/),oq=sa(/[#-'*+\--9=?A-Z^-~]/);function wh(e){return e!==null&&(e<32||e===127)}const N1=sa(/\d/),lq=sa(/[\dA-Fa-f]/),sq=sa(/[!-/:-@[-`{-~]/);function Se(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function Ke(e){return e===-2||e===-1||e===32}const Zp=sa(new RegExp("\\p{P}|\\p{S}","u")),oo=sa(/\s/);function sa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function nt(e,t,n,u){const i=u?u-1:Number.POSITIVE_INFINITY;let r=0;return o;function o(f){return Ke(f)?(e.enter(n),s(f)):t(f)}function s(f){return Ke(f)&&r++<i?(e.consume(f),s):(e.exit(n),t(f))}}const cq={tokenize:fq};function fq(e){const t=e.attempt(this.parser.constructs.contentInitial,u,i);let n;return t;function u(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),nt(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),r(s)}function r(s){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Se(s)?(e.consume(s),e.exit("chunkText"),r):(e.consume(s),o)}}const dq={tokenize:hq},Nx={tokenize:pq};function hq(e){const t=this,n=[];let u=0,i,r,o;return s;function s($){if(u<n.length){const Q=n[u];return t.containerState=Q[1],e.attempt(Q[0].continuation,f,d)($)}return d($)}function f($){if(u++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&U();const Q=t.events.length;let ue=Q,N;for(;ue--;)if(t.events[ue][0]==="exit"&&t.events[ue][1].type==="chunkFlow"){N=t.events[ue][1].end;break}w(u);let P=Q;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return mi(t.events,ue+1,0,t.events.slice(Q)),t.events.length=P,d($)}return s($)}function d($){if(u===n.length){if(!i)return v($);if(i.currentConstruct&&i.currentConstruct.concrete)return E($);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Nx,p,m)($)}function p($){return i&&U(),w(u),v($)}function m($){return t.parser.lazy[t.now().line]=u!==n.length,o=t.now().offset,E($)}function v($){return t.containerState={},e.attempt(Nx,b,E)($)}function b($){return u++,n.push([t.currentConstruct,t.containerState]),v($)}function E($){if($===null){i&&U(),w(0),e.consume($);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),k($)}function k($){if($===null){S(e.exit("chunkFlow"),!0),w(0),e.consume($);return}return Se($)?(e.consume($),S(e.exit("chunkFlow")),u=0,t.interrupt=void 0,s):(e.consume($),k)}function S($,Q){const ue=t.sliceStream($);if(Q&&ue.push(null),$.previous=r,r&&(r.next=$),r=$,i.defineSkip($.start),i.write(ue),t.parser.lazy[$.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const P=t.events.length;let re=P,pe,L;for(;re--;)if(t.events[re][0]==="exit"&&t.events[re][1].type==="chunkFlow"){if(pe){L=t.events[re][1].end;break}pe=!0}for(w(u),N=P;N<t.events.length;)t.events[N][1].end={...L},N++;mi(t.events,re+1,0,t.events.slice(P)),t.events.length=N}}function w($){let Q=n.length;for(;Q-- >$;){const ue=n[Q];t.containerState=ue[1],ue[0].exit.call(t,e)}n.length=$}function U(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}function pq(e,t,n){return nt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zl(e){if(e===null||Dt(e)||oo(e))return 1;if(Zp(e))return 2}function Pp(e,t,n){const u=[];let i=-1;for(;++i<e.length;){const r=e[i].resolveAll;r&&!u.includes(r)&&(t=r(t,n),u.push(r))}return t}const $1={name:"attention",resolveAll:mq,tokenize:gq};function mq(e,t){let n=-1,u,i,r,o,s,f,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(u=n;u--;)if(e[u][0]==="exit"&&e[u][1].type==="attentionSequence"&&e[u][1]._open&&t.sliceSerialize(e[u][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[u][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[u][1].end.offset-e[u][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[u][1].end.offset-e[u][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[u][1].end},v={...e[n][1].start};$x(m,-f),$x(v,f),o={type:f>1?"strongSequence":"emphasisSequence",start:m,end:{...e[u][1].end}},s={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},r={type:f>1?"strongText":"emphasisText",start:{...e[u][1].end},end:{...e[n][1].start}},i={type:f>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[u][1].end={...o.start},e[n][1].start={...s.end},d=[],e[u][1].end.offset-e[u][1].start.offset&&(d=Fi(d,[["enter",e[u][1],t],["exit",e[u][1],t]])),d=Fi(d,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),d=Fi(d,Pp(t.parser.constructs.insideSpan.null,e.slice(u+1,n),t)),d=Fi(d,[["exit",r,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=Fi(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,mi(e,u-1,n-u+3,d),n=u+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function gq(e,t){const n=this.parser.constructs.attentionMarkers.null,u=this.previous,i=Zl(u);let r;return o;function o(f){return r=f,e.enter("attentionSequence"),s(f)}function s(f){if(f===r)return e.consume(f),s;const d=e.exit("attentionSequence"),p=Zl(f),m=!p||p===2&&i||n.includes(f),v=!i||i===2&&p||n.includes(u);return d._open=!!(r===42?m:m&&(i||!v)),d._close=!!(r===42?v:v&&(p||!m)),t(f)}}function $x(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yq={name:"autolink",tokenize:vq};function vq(e,t,n){let u=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r}function r(b){return On(b)?(e.consume(b),o):b===64?n(b):d(b)}function o(b){return b===43||b===45||b===46||Yn(b)?(u=1,s(b)):d(b)}function s(b){return b===58?(e.consume(b),u=0,f):(b===43||b===45||b===46||Yn(b))&&u++<32?(e.consume(b),s):(u=0,d(b))}function f(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||wh(b)?n(b):(e.consume(b),f)}function d(b){return b===64?(e.consume(b),p):oq(b)?(e.consume(b),d):n(b)}function p(b){return Yn(b)?m(b):n(b)}function m(b){return b===46?(e.consume(b),u=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):v(b)}function v(b){if((b===45||Yn(b))&&u++<63){const E=b===45?v:m;return e.consume(b),E}return n(b)}}const Uf={partial:!0,tokenize:bq};function bq(e,t,n){return u;function u(r){return Ke(r)?nt(e,i,"linePrefix")(r):i(r)}function i(r){return r===null||Se(r)?t(r):n(r)}}const ST={continuation:{tokenize:Cq},exit:Dq,name:"blockQuote",tokenize:Eq};function Eq(e,t,n){const u=this;return i;function i(o){if(o===62){const s=u.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),r}return n(o)}function r(o){return Ke(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Cq(e,t,n){const u=this;return i;function i(o){return Ke(o)?nt(e,r,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):r(o)}function r(o){return e.attempt(ST,t,n)(o)}}function Dq(e){e.exit("blockQuote")}const wT={name:"characterEscape",tokenize:kq};function kq(e,t,n){return u;function u(r){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(r),e.exit("escapeMarker"),i}function i(r){return sq(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}const _T={name:"characterReference",tokenize:xq};function xq(e,t,n){const u=this;let i=0,r,o;return s;function s(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),f}function f(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),r=31,o=Yn,p(m))}function d(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,o=lq,p):(e.enter("characterReferenceValue"),r=7,o=N1,p(m))}function p(m){if(m===59&&i){const v=e.exit("characterReferenceValue");return o===Yn&&!U3(u.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(m)&&i++<r?(e.consume(m),p):n(m)}}const Ox={partial:!0,tokenize:wq},Ix={concrete:!0,name:"codeFenced",tokenize:Sq};function Sq(e,t,n){const u=this,i={partial:!0,tokenize:ue};let r=0,o=0,s;return f;function f(N){return d(N)}function d(N){const P=u.events[u.events.length-1];return r=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(N)}function p(N){return N===s?(o++,e.consume(N),p):o<3?n(N):(e.exit("codeFencedFenceSequence"),Ke(N)?nt(e,m,"whitespace")(N):m(N))}function m(N){return N===null||Se(N)?(e.exit("codeFencedFence"),u.interrupt?t(N):e.check(Ox,k,Q)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Se(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(N)):Ke(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nt(e,b,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),v)}function b(N){return N===null||Se(N)?m(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(N))}function E(N){return N===null||Se(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(N)):N===96&&N===s?n(N):(e.consume(N),E)}function k(N){return e.attempt(i,Q,S)(N)}function S(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),w}function w(N){return r>0&&Ke(N)?nt(e,U,"linePrefix",r+1)(N):U(N)}function U(N){return N===null||Se(N)?e.check(Ox,k,Q)(N):(e.enter("codeFlowValue"),$(N))}function $(N){return N===null||Se(N)?(e.exit("codeFlowValue"),U(N)):(e.consume(N),$)}function Q(N){return e.exit("codeFenced"),t(N)}function ue(N,P,re){let pe=0;return L;function L(se){return N.enter("lineEnding"),N.consume(se),N.exit("lineEnding"),fe}function fe(se){return N.enter("codeFencedFence"),Ke(se)?nt(N,de,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(se):de(se)}function de(se){return se===s?(N.enter("codeFencedFenceSequence"),Le(se)):re(se)}function Le(se){return se===s?(pe++,N.consume(se),Le):pe>=o?(N.exit("codeFencedFenceSequence"),Ke(se)?nt(N,xe,"whitespace")(se):xe(se)):re(se)}function xe(se){return se===null||Se(se)?(N.exit("codeFencedFence"),P(se)):re(se)}}}function wq(e,t,n){const u=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r)}function r(o){return u.parser.lazy[u.now().line]?n(o):t(o)}}const T4={name:"codeIndented",tokenize:Aq},_q={partial:!0,tokenize:Bq};function Aq(e,t,n){const u=this;return i;function i(d){return e.enter("codeIndented"),nt(e,r,"linePrefix",5)(d)}function r(d){const p=u.events[u.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(d):n(d)}function o(d){return d===null?f(d):Se(d)?e.attempt(_q,o,f)(d):(e.enter("codeFlowValue"),s(d))}function s(d){return d===null||Se(d)?(e.exit("codeFlowValue"),o(d)):(e.consume(d),s)}function f(d){return e.exit("codeIndented"),t(d)}}function Bq(e,t,n){const u=this;return i;function i(o){return u.parser.lazy[u.now().line]?n(o):Se(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):nt(e,r,"linePrefix",5)(o)}function r(o){const s=u.events[u.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Se(o)?i(o):n(o)}}const Tq={name:"codeText",previous:Nq,resolve:zq,tokenize:$q};function zq(e){let t=e.length-4,n=3,u,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(u=n;++u<t;)if(e[u][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(u=n-1,t++;++u<=t;)i===void 0?u!==t&&e[u][1].type!=="lineEnding"&&(i=u):(u===t||e[u][1].type==="lineEnding")&&(e[i][1].type="codeTextData",u!==i+2&&(e[i][1].end=e[u-1][1].end,e.splice(i+2,u-i-2),t-=u-i-2,u=i+2),i=void 0);return e}function Nq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $q(e,t,n){let u=0,i,r;return o;function o(m){return e.enter("codeText"),e.enter("codeTextSequence"),s(m)}function s(m){return m===96?(e.consume(m),u++,s):(e.exit("codeTextSequence"),f(m))}function f(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),f):m===96?(r=e.enter("codeTextSequence"),i=0,p(m)):Se(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),f):(e.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||Se(m)?(e.exit("codeTextData"),f(m)):(e.consume(m),d)}function p(m){return m===96?(e.consume(m),i++,p):i===u?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(r.type="codeTextData",d(m))}}class Oq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const u=n??Number.POSITIVE_INFINITY;return u<this.left.length?this.left.slice(t,u):t>this.left.length?this.right.slice(this.right.length-u+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-u+this.left.length).reverse())}splice(t,n,u){const i=n||0;this.setCursor(Math.trunc(t));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return u&&nc(this.left,u),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),nc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),nc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);nc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);nc(this.left,n.reverse())}}}function nc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function AT(e){const t={};let n=-1,u,i,r,o,s,f,d;const p=new Oq(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(u=p.get(n),n&&u[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=u[1]._tokenizer.events,r=0,r<f.length&&f[r][1].type==="lineEndingBlank"&&(r+=2),r<f.length&&f[r][1].type==="content"))for(;++r<f.length&&f[r][1].type!=="content";)f[r][1].type==="chunkText"&&(f[r][1]._isInFirstContentOfListItem=!0,r++);if(u[0]==="enter")u[1].contentType&&(Object.assign(t,Iq(p,n)),n=t[n],d=!0);else if(u[1]._container){for(r=n,i=void 0;r--;)if(o=p.get(r),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(u[1].end={...p.get(i)[1].start},s=p.slice(i,n),s.unshift(u),p.splice(i,n-i+1,s))}}return mi(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function Iq(e,t){const n=e.get(t)[1],u=e.get(t)[2];let i=t-1;const r=[];let o=n._tokenizer;o||(o=u.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,f=[],d={};let p,m,v=-1,b=n,E=0,k=0;const S=[k];for(;b;){for(;e.get(++i)[1]!==b;);r.push(i),b._tokenizer||(p=u.sliceStream(b),b.next||p.push(null),m&&o.defineSkip(b.start),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),b._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++v<s.length;)s[v][0]==="exit"&&s[v-1][0]==="enter"&&s[v][1].type===s[v-1][1].type&&s[v][1].start.line!==s[v][1].end.line&&(k=v+1,S.push(k),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(o.events=[],b?(b._tokenizer=void 0,b.previous=void 0):S.pop(),v=S.length;v--;){const w=s.slice(S[v],S[v+1]),U=r.pop();f.push([U,U+w.length-1]),e.splice(U,2,w)}for(f.reverse(),v=-1;++v<f.length;)d[E+f[v][0]]=E+f[v][1],E+=f[v][1]-f[v][0]-1;return d}const Mq={resolve:Fq,tokenize:Uq},Rq={partial:!0,tokenize:jq};function Fq(e){return AT(e),e}function Uq(e,t){let n;return u;function u(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?r(s):Se(s)?e.check(Rq,o,r)(s):(e.consume(s),i)}function r(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function jq(e,t,n){const u=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),nt(e,r,"linePrefix")}function r(o){if(o===null||Se(o))return n(o);const s=u.events[u.events.length-1];return!u.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(u.parser.constructs.flow,n,t)(o)}}function BT(e,t,n,u,i,r,o,s,f){const d=f||Number.POSITIVE_INFINITY;let p=0;return m;function m(w){return w===60?(e.enter(u),e.enter(i),e.enter(r),e.consume(w),e.exit(r),v):w===null||w===32||w===41||wh(w)?n(w):(e.enter(u),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),k(w))}function v(w){return w===62?(e.enter(r),e.consume(w),e.exit(r),e.exit(i),e.exit(u),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===62?(e.exit("chunkString"),e.exit(s),v(w)):w===null||w===60||Se(w)?n(w):(e.consume(w),w===92?E:b)}function E(w){return w===60||w===62||w===92?(e.consume(w),b):b(w)}function k(w){return!p&&(w===null||w===41||Dt(w))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(u),t(w)):p<d&&w===40?(e.consume(w),p++,k):w===41?(e.consume(w),p--,k):w===null||w===32||w===40||wh(w)?n(w):(e.consume(w),w===92?S:k)}function S(w){return w===40||w===41||w===92?(e.consume(w),k):k(w)}}function TT(e,t,n,u,i,r){const o=this;let s=0,f;return d;function d(b){return e.enter(u),e.enter(i),e.consume(b),e.exit(i),e.enter(r),p}function p(b){return s>999||b===null||b===91||b===93&&!f||b===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(b):b===93?(e.exit(r),e.enter(i),e.consume(b),e.exit(i),e.exit(u),t):Se(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Se(b)||s++>999?(e.exit("chunkString"),p(b)):(e.consume(b),f||(f=!Ke(b)),b===92?v:m)}function v(b){return b===91||b===92||b===93?(e.consume(b),s++,m):m(b)}}function zT(e,t,n,u,i,r){let o;return s;function s(v){return v===34||v===39||v===40?(e.enter(u),e.enter(i),e.consume(v),e.exit(i),o=v===40?41:v,f):n(v)}function f(v){return v===o?(e.enter(i),e.consume(v),e.exit(i),e.exit(u),t):(e.enter(r),d(v))}function d(v){return v===o?(e.exit(r),f(o)):v===null?n(v):Se(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),nt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===o||v===null||Se(v)?(e.exit("chunkString"),d(v)):(e.consume(v),v===92?m:p)}function m(v){return v===o||v===92?(e.consume(v),p):p(v)}}function Cc(e,t){let n;return u;function u(i){return Se(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,u):Ke(i)?nt(e,u,n?"linePrefix":"lineSuffix")(i):t(i)}}const Lq={name:"definition",tokenize:Pq},Zq={partial:!0,tokenize:Hq};function Pq(e,t,n){const u=this;let i;return r;function r(b){return e.enter("definition"),o(b)}function o(b){return TT.call(u,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function s(b){return i=uu(u.sliceSerialize(u.events[u.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),f):n(b)}function f(b){return Dt(b)?Cc(e,d)(b):d(b)}function d(b){return BT(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt(Zq,m,m)(b)}function m(b){return Ke(b)?nt(e,v,"whitespace")(b):v(b)}function v(b){return b===null||Se(b)?(e.exit("definition"),u.parser.defined.push(i),t(b)):n(b)}}function Hq(e,t,n){return u;function u(s){return Dt(s)?Cc(e,i)(s):n(s)}function i(s){return zT(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function r(s){return Ke(s)?nt(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Se(s)?t(s):n(s)}}const qq={name:"hardBreakEscape",tokenize:Vq};function Vq(e,t,n){return u;function u(r){return e.enter("hardBreakEscape"),e.consume(r),i}function i(r){return Se(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}const Jq={name:"headingAtx",resolve:Kq,tokenize:Gq};function Kq(e,t){let n=e.length-2,u=3,i,r;return e[u][1].type==="whitespace"&&(u+=2),n-2>u&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(u===n-1||n-4>u&&e[n-2][1].type==="whitespace")&&(n-=u+1===n?2:4),n>u&&(i={type:"atxHeadingText",start:e[u][1].start,end:e[n][1].end},r={type:"chunkText",start:e[u][1].start,end:e[n][1].end,contentType:"text"},mi(e,u,n-u+1,[["enter",i,t],["enter",r,t],["exit",r,t],["exit",i,t]])),e}function Gq(e,t,n){let u=0;return i;function i(p){return e.enter("atxHeading"),r(p)}function r(p){return e.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&u++<6?(e.consume(p),o):p===null||Dt(p)?(e.exit("atxHeadingSequence"),s(p)):n(p)}function s(p){return p===35?(e.enter("atxHeadingSequence"),f(p)):p===null||Se(p)?(e.exit("atxHeading"),t(p)):Ke(p)?nt(e,s,"whitespace")(p):(e.enter("atxHeadingText"),d(p))}function f(p){return p===35?(e.consume(p),f):(e.exit("atxHeadingSequence"),s(p))}function d(p){return p===null||p===35||Dt(p)?(e.exit("atxHeadingText"),s(p)):(e.consume(p),d)}}const Yq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mx=["pre","script","style","textarea"],Xq={concrete:!0,name:"htmlFlow",resolveTo:eV,tokenize:tV},Qq={partial:!0,tokenize:iV},Wq={partial:!0,tokenize:nV};function eV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tV(e,t,n){const u=this;let i,r,o,s,f;return d;function d(x){return p(x)}function p(x){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(x),m}function m(x){return x===33?(e.consume(x),v):x===47?(e.consume(x),r=!0,k):x===63?(e.consume(x),i=3,u.interrupt?t:_):On(x)?(e.consume(x),o=String.fromCharCode(x),S):n(x)}function v(x){return x===45?(e.consume(x),i=2,b):x===91?(e.consume(x),i=5,s=0,E):On(x)?(e.consume(x),i=4,u.interrupt?t:_):n(x)}function b(x){return x===45?(e.consume(x),u.interrupt?t:_):n(x)}function E(x){const ce="CDATA[";return x===ce.charCodeAt(s++)?(e.consume(x),s===ce.length?u.interrupt?t:de:E):n(x)}function k(x){return On(x)?(e.consume(x),o=String.fromCharCode(x),S):n(x)}function S(x){if(x===null||x===47||x===62||Dt(x)){const ce=x===47,_e=o.toLowerCase();return!ce&&!r&&Mx.includes(_e)?(i=1,u.interrupt?t(x):de(x)):Yq.includes(o.toLowerCase())?(i=6,ce?(e.consume(x),w):u.interrupt?t(x):de(x)):(i=7,u.interrupt&&!u.parser.lazy[u.now().line]?n(x):r?U(x):$(x))}return x===45||Yn(x)?(e.consume(x),o+=String.fromCharCode(x),S):n(x)}function w(x){return x===62?(e.consume(x),u.interrupt?t:de):n(x)}function U(x){return Ke(x)?(e.consume(x),U):L(x)}function $(x){return x===47?(e.consume(x),L):x===58||x===95||On(x)?(e.consume(x),Q):Ke(x)?(e.consume(x),$):L(x)}function Q(x){return x===45||x===46||x===58||x===95||Yn(x)?(e.consume(x),Q):ue(x)}function ue(x){return x===61?(e.consume(x),N):Ke(x)?(e.consume(x),ue):$(x)}function N(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),f=x,P):Ke(x)?(e.consume(x),N):re(x)}function P(x){return x===f?(e.consume(x),f=null,pe):x===null||Se(x)?n(x):(e.consume(x),P)}function re(x){return x===null||x===34||x===39||x===47||x===60||x===61||x===62||x===96||Dt(x)?ue(x):(e.consume(x),re)}function pe(x){return x===47||x===62||Ke(x)?$(x):n(x)}function L(x){return x===62?(e.consume(x),fe):n(x)}function fe(x){return x===null||Se(x)?de(x):Ke(x)?(e.consume(x),fe):n(x)}function de(x){return x===45&&i===2?(e.consume(x),j):x===60&&i===1?(e.consume(x),te):x===62&&i===4?(e.consume(x),T):x===63&&i===3?(e.consume(x),_):x===93&&i===5?(e.consume(x),Ze):Se(x)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qq,J,Le)(x)):x===null||Se(x)?(e.exit("htmlFlowData"),Le(x)):(e.consume(x),de)}function Le(x){return e.check(Wq,xe,J)(x)}function xe(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),se}function se(x){return x===null||Se(x)?Le(x):(e.enter("htmlFlowData"),de(x))}function j(x){return x===45?(e.consume(x),_):de(x)}function te(x){return x===47?(e.consume(x),o="",ye):de(x)}function ye(x){if(x===62){const ce=o.toLowerCase();return Mx.includes(ce)?(e.consume(x),T):de(x)}return On(x)&&o.length<8?(e.consume(x),o+=String.fromCharCode(x),ye):de(x)}function Ze(x){return x===93?(e.consume(x),_):de(x)}function _(x){return x===62?(e.consume(x),T):x===45&&i===2?(e.consume(x),_):de(x)}function T(x){return x===null||Se(x)?(e.exit("htmlFlowData"),J(x)):(e.consume(x),T)}function J(x){return e.exit("htmlFlow"),t(x)}}function nV(e,t,n){const u=this;return i;function i(o){return Se(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r):n(o)}function r(o){return u.parser.lazy[u.now().line]?n(o):t(o)}}function iV(e,t,n){return u;function u(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Uf,t,n)}}const uV={name:"htmlText",tokenize:rV};function rV(e,t,n){const u=this;let i,r,o;return s;function s(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),f}function f(_){return _===33?(e.consume(_),d):_===47?(e.consume(_),ue):_===63?(e.consume(_),$):On(_)?(e.consume(_),re):n(_)}function d(_){return _===45?(e.consume(_),p):_===91?(e.consume(_),r=0,E):On(_)?(e.consume(_),U):n(_)}function p(_){return _===45?(e.consume(_),b):n(_)}function m(_){return _===null?n(_):_===45?(e.consume(_),v):Se(_)?(o=m,te(_)):(e.consume(_),m)}function v(_){return _===45?(e.consume(_),b):m(_)}function b(_){return _===62?j(_):_===45?v(_):m(_)}function E(_){const T="CDATA[";return _===T.charCodeAt(r++)?(e.consume(_),r===T.length?k:E):n(_)}function k(_){return _===null?n(_):_===93?(e.consume(_),S):Se(_)?(o=k,te(_)):(e.consume(_),k)}function S(_){return _===93?(e.consume(_),w):k(_)}function w(_){return _===62?j(_):_===93?(e.consume(_),w):k(_)}function U(_){return _===null||_===62?j(_):Se(_)?(o=U,te(_)):(e.consume(_),U)}function $(_){return _===null?n(_):_===63?(e.consume(_),Q):Se(_)?(o=$,te(_)):(e.consume(_),$)}function Q(_){return _===62?j(_):$(_)}function ue(_){return On(_)?(e.consume(_),N):n(_)}function N(_){return _===45||Yn(_)?(e.consume(_),N):P(_)}function P(_){return Se(_)?(o=P,te(_)):Ke(_)?(e.consume(_),P):j(_)}function re(_){return _===45||Yn(_)?(e.consume(_),re):_===47||_===62||Dt(_)?pe(_):n(_)}function pe(_){return _===47?(e.consume(_),j):_===58||_===95||On(_)?(e.consume(_),L):Se(_)?(o=pe,te(_)):Ke(_)?(e.consume(_),pe):j(_)}function L(_){return _===45||_===46||_===58||_===95||Yn(_)?(e.consume(_),L):fe(_)}function fe(_){return _===61?(e.consume(_),de):Se(_)?(o=fe,te(_)):Ke(_)?(e.consume(_),fe):pe(_)}function de(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,Le):Se(_)?(o=de,te(_)):Ke(_)?(e.consume(_),de):(e.consume(_),xe)}function Le(_){return _===i?(e.consume(_),i=void 0,se):_===null?n(_):Se(_)?(o=Le,te(_)):(e.consume(_),Le)}function xe(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Dt(_)?pe(_):(e.consume(_),xe)}function se(_){return _===47||_===62||Dt(_)?pe(_):n(_)}function j(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function te(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),ye}function ye(_){return Ke(_)?nt(e,Ze,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):Ze(_)}function Ze(_){return e.enter("htmlTextData"),o(_)}}const j3={name:"labelEnd",resolveAll:sV,resolveTo:cV,tokenize:fV},aV={tokenize:dV},oV={tokenize:hV},lV={tokenize:pV};function sV(e){let t=-1;const n=[];for(;++t<e.length;){const u=e[t][1];if(n.push(e[t]),u.type==="labelImage"||u.type==="labelLink"||u.type==="labelEnd"){const i=u.type==="labelImage"?4:2;u.type="data",t+=i}}return e.length!==n.length&&mi(e,0,e.length,n),e}function cV(e,t){let n=e.length,u=0,i,r,o,s;for(;n--;)if(i=e[n][1],r){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(r=n,i.type!=="labelLink")){u=2;break}}else i.type==="labelEnd"&&(o=n);const f={type:e[r][1].type==="labelLink"?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[r][1].start},end:{...e[o][1].end}},p={type:"labelText",start:{...e[r+u+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",f,t],["enter",d,t]],s=Fi(s,e.slice(r+1,r+u+3)),s=Fi(s,[["enter",p,t]]),s=Fi(s,Pp(t.parser.constructs.insideSpan.null,e.slice(r+u+4,o-3),t)),s=Fi(s,[["exit",p,t],e[o-2],e[o-1],["exit",d,t]]),s=Fi(s,e.slice(o+1)),s=Fi(s,[["exit",f,t]]),mi(e,r,e.length,s),e}function fV(e,t,n){const u=this;let i=u.events.length,r,o;for(;i--;)if((u.events[i][1].type==="labelImage"||u.events[i][1].type==="labelLink")&&!u.events[i][1]._balanced){r=u.events[i][1];break}return s;function s(v){return r?r._inactive?m(v):(o=u.parser.defined.includes(uu(u.sliceSerialize({start:r.end,end:u.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),f):n(v)}function f(v){return v===40?e.attempt(aV,p,o?p:m)(v):v===91?e.attempt(oV,p,o?d:m)(v):o?p(v):m(v)}function d(v){return e.attempt(lV,p,m)(v)}function p(v){return t(v)}function m(v){return r._balanced=!0,n(v)}}function dV(e,t,n){return u;function u(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return Dt(m)?Cc(e,r)(m):r(m)}function r(m){return m===41?p(m):BT(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function o(m){return Dt(m)?Cc(e,f)(m):p(m)}function s(m){return n(m)}function f(m){return m===34||m===39||m===40?zT(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function d(m){return Dt(m)?Cc(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function hV(e,t,n){const u=this;return i;function i(s){return TT.call(u,e,r,o,"reference","referenceMarker","referenceString")(s)}function r(s){return u.parser.defined.includes(uu(u.sliceSerialize(u.events[u.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function pV(e,t,n){return u;function u(r){return e.enter("reference"),e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),i}function i(r){return r===93?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}const mV={name:"labelStartImage",resolveAll:j3.resolveAll,tokenize:gV};function gV(e,t,n){const u=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),r}function r(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in u.parser.constructs?n(s):t(s)}}const yV={name:"labelStartLink",resolveAll:j3.resolveAll,tokenize:vV};function vV(e,t,n){const u=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),r}function r(o){return o===94&&"_hiddenFootnoteSupport"in u.parser.constructs?n(o):t(o)}}const z4={name:"lineEnding",tokenize:bV};function bV(e,t){return n;function n(u){return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),nt(e,t,"linePrefix")}}const U0={name:"thematicBreak",tokenize:EV};function EV(e,t,n){let u=0,i;return r;function r(d){return e.enter("thematicBreak"),o(d)}function o(d){return i=d,s(d)}function s(d){return d===i?(e.enter("thematicBreakSequence"),f(d)):u>=3&&(d===null||Se(d))?(e.exit("thematicBreak"),t(d)):n(d)}function f(d){return d===i?(e.consume(d),u++,f):(e.exit("thematicBreakSequence"),Ke(d)?nt(e,s,"whitespace")(d):s(d))}}const qn={continuation:{tokenize:xV},exit:wV,name:"list",tokenize:kV},CV={partial:!0,tokenize:_V},DV={partial:!0,tokenize:SV};function kV(e,t,n){const u=this,i=u.events[u.events.length-1];let r=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(b){const E=u.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!u.containerState.marker||b===u.containerState.marker:N1(b)){if(u.containerState.type||(u.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(U0,n,d)(b):d(b);if(!u.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(b)}return n(b)}function f(b){return N1(b)&&++o<10?(e.consume(b),f):(!u.interrupt||o<2)&&(u.containerState.marker?b===u.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),d(b)):n(b)}function d(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),u.containerState.marker=u.containerState.marker||b,e.check(Uf,u.interrupt?n:p,e.attempt(CV,v,m))}function p(b){return u.containerState.initialBlankLine=!0,r++,v(b)}function m(b){return Ke(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):n(b)}function v(b){return u.containerState.size=r+u.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function xV(e,t,n){const u=this;return u.containerState._closeFlow=void 0,e.check(Uf,i,r);function i(s){return u.containerState.furtherBlankLines=u.containerState.furtherBlankLines||u.containerState.initialBlankLine,nt(e,t,"listItemIndent",u.containerState.size+1)(s)}function r(s){return u.containerState.furtherBlankLines||!Ke(s)?(u.containerState.furtherBlankLines=void 0,u.containerState.initialBlankLine=void 0,o(s)):(u.containerState.furtherBlankLines=void 0,u.containerState.initialBlankLine=void 0,e.attempt(DV,t,o)(s))}function o(s){return u.containerState._closeFlow=!0,u.interrupt=void 0,nt(e,e.attempt(qn,t,n),"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function SV(e,t,n){const u=this;return nt(e,i,"listItemIndent",u.containerState.size+1);function i(r){const o=u.events[u.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===u.containerState.size?t(r):n(r)}}function wV(e){e.exit(this.containerState.type)}function _V(e,t,n){const u=this;return nt(e,i,"listItemPrefixWhitespace",u.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(r){const o=u.events[u.events.length-1];return!Ke(r)&&o&&o[1].type==="listItemPrefixWhitespace"?t(r):n(r)}}const Rx={name:"setextUnderline",resolveTo:AV,tokenize:BV};function AV(e,t){let n=e.length,u,i,r;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){u=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!r&&e[n][1].type==="definition"&&(r=n);const o={type:"setextHeading",start:{...e[u][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",o,t]),e.splice(r+1,0,["exit",e[u][1],t]),e[u][1].end={...e[r][1].end}):e[u][1]=o,e.push(["exit",o,t]),e}function BV(e,t,n){const u=this;let i;return r;function r(d){let p=u.events.length,m;for(;p--;)if(u.events[p][1].type!=="lineEnding"&&u.events[p][1].type!=="linePrefix"&&u.events[p][1].type!=="content"){m=u.events[p][1].type==="paragraph";break}return!u.parser.lazy[u.now().line]&&(u.interrupt||m)?(e.enter("setextHeadingLine"),i=d,o(d)):n(d)}function o(d){return e.enter("setextHeadingLineSequence"),s(d)}function s(d){return d===i?(e.consume(d),s):(e.exit("setextHeadingLineSequence"),Ke(d)?nt(e,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Se(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const TV={tokenize:zV};function zV(e){const t=this,n=e.attempt(Uf,u,e.attempt(this.parser.constructs.flowInitial,i,nt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Mq,i)),"linePrefix")));return n;function u(r){if(r===null){e.consume(r);return}return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(r){if(r===null){e.consume(r);return}return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const NV={resolveAll:$T()},$V=NT("string"),OV=NT("text");function NT(e){return{resolveAll:$T(e==="text"?IV:void 0),tokenize:t};function t(n){const u=this,i=this.parser.constructs[e],r=n.attempt(i,o,s);return o;function o(p){return d(p)?r(p):s(p)}function s(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return d(p)?(n.exit("data"),r(p)):(n.consume(p),f)}function d(p){if(p===null)return!0;const m=i[p];let v=-1;if(m)for(;++v<m.length;){const b=m[v];if(!b.previous||b.previous.call(u,u.previous))return!0}return!1}}}function $T(e){return t;function t(n,u){let i=-1,r;for(;++i<=n.length;)r===void 0?n[i]&&n[i][1].type==="data"&&(r=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(n,u):n}}function IV(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const u=e[n-1][1],i=t.sliceStream(u);let r=i.length,o=-1,s=0,f;for(;r--;){const d=i[r];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(d===-2)f=!0,s++;else if(d!==-1){r++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const d={type:n===e.length||f||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?o:u.start._bufferIndex+o,_index:u.start._index+r,line:u.end.line,column:u.end.column-s,offset:u.end.offset-s},end:{...u.end}};u.end={...d.start},u.start.offset===u.end.offset?Object.assign(u,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const MV={42:qn,43:qn,45:qn,48:qn,49:qn,50:qn,51:qn,52:qn,53:qn,54:qn,55:qn,56:qn,57:qn,62:ST},RV={91:Lq},FV={[-2]:T4,[-1]:T4,32:T4},UV={35:Jq,42:U0,45:[Rx,U0],60:Xq,61:Rx,95:U0,96:Ix,126:Ix},jV={38:_T,92:wT},LV={[-5]:z4,[-4]:z4,[-3]:z4,33:mV,38:_T,42:$1,60:[yq,uV],91:yV,92:[qq,wT],93:j3,95:$1,96:Tq},ZV={null:[$1,NV]},PV={null:[42,95]},HV={null:[]},qV=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PV,contentInitial:RV,disable:HV,document:MV,flow:UV,flowInitial:FV,insideSpan:ZV,string:jV,text:LV},Symbol.toStringTag,{value:"Module"}));function VV(e,t,n){let u={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},r=[];let o=[],s=[];const f={attempt:P(ue),check:P(N),consume:U,enter:$,exit:Q,interrupt:P(N,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:E,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:m};let p=t.tokenize.call(d,f);return t.resolveAll&&r.push(t),d;function m(fe){return o=Fi(o,fe),S(),o[o.length-1]!==null?[]:(re(t,0),d.events=Pp(r,d.events,d),d.events)}function v(fe,de){return KV(b(fe),de)}function b(fe){return JV(o,fe)}function E(){const{_bufferIndex:fe,_index:de,line:Le,column:xe,offset:se}=u;return{_bufferIndex:fe,_index:de,line:Le,column:xe,offset:se}}function k(fe){i[fe.line]=fe.column,L()}function S(){let fe;for(;u._index<o.length;){const de=o[u._index];if(typeof de=="string")for(fe=u._index,u._bufferIndex<0&&(u._bufferIndex=0);u._index===fe&&u._bufferIndex<de.length;)w(de.charCodeAt(u._bufferIndex));else w(de)}}function w(fe){p=p(fe)}function U(fe){Se(fe)?(u.line++,u.column=1,u.offset+=fe===-3?2:1,L()):fe!==-1&&(u.column++,u.offset++),u._bufferIndex<0?u._index++:(u._bufferIndex++,u._bufferIndex===o[u._index].length&&(u._bufferIndex=-1,u._index++)),d.previous=fe}function $(fe,de){const Le=de||{};return Le.type=fe,Le.start=E(),d.events.push(["enter",Le,d]),s.push(Le),Le}function Q(fe){const de=s.pop();return de.end=E(),d.events.push(["exit",de,d]),de}function ue(fe,de){re(fe,de.from)}function N(fe,de){de.restore()}function P(fe,de){return Le;function Le(xe,se,j){let te,ye,Ze,_;return Array.isArray(xe)?J(xe):"tokenize"in xe?J([xe]):T(xe);function T(De){return Ge;function Ge($t){const ht=$t!==null&&De[$t],ki=$t!==null&&De.null,Du=[...Array.isArray(ht)?ht:ht?[ht]:[],...Array.isArray(ki)?ki:ki?[ki]:[]];return J(Du)($t)}}function J(De){return te=De,ye=0,De.length===0?j:x(De[ye])}function x(De){return Ge;function Ge($t){return _=pe(),Ze=De,De.partial||(d.currentConstruct=De),De.name&&d.parser.constructs.disable.null.includes(De.name)?_e():De.tokenize.call(de?Object.assign(Object.create(d),de):d,f,ce,_e)($t)}}function ce(De){return fe(Ze,_),se}function _e(De){return _.restore(),++ye<te.length?x(te[ye]):j}}}function re(fe,de){fe.resolveAll&&!r.includes(fe)&&r.push(fe),fe.resolve&&mi(d.events,de,d.events.length-de,fe.resolve(d.events.slice(de),d)),fe.resolveTo&&(d.events=fe.resolveTo(d.events,d))}function pe(){const fe=E(),de=d.previous,Le=d.currentConstruct,xe=d.events.length,se=Array.from(s);return{from:xe,restore:j};function j(){u=fe,d.previous=de,d.currentConstruct=Le,d.events.length=xe,s=se,L()}}function L(){u.line in i&&u.column<2&&(u.column=i[u.line],u.offset+=i[u.line]-1)}}function JV(e,t){const n=t.start._index,u=t.start._bufferIndex,i=t.end._index,r=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(u,r)];else{if(o=e.slice(n,i),u>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(u):o.shift()}r>0&&o.push(e[i].slice(0,r))}return o}function KV(e,t){let n=-1;const u=[];let i;for(;++n<e.length;){const r=e[n];let o;if(typeof r=="string")o=r;else switch(r){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(r)}i=r===-2,u.push(o)}return u.join("")}function GV(e){const u={constructs:kT([qV,...(e||{}).extensions||[]]),content:i(cq),defined:[],document:i(dq),flow:i(TV),lazy:{},string:i($V),text:i(OV)};return u;function i(r){return o;function o(s){return VV(u,r,s)}}}function YV(e){for(;!AT(e););return e}const Fx=/[\0\t\n\r]/g;function XV(){let e=1,t="",n=!0,u;return i;function i(r,o,s){const f=[];let d,p,m,v,b;for(r=t+(typeof r=="string"?r.toString():new TextDecoder(o||void 0).decode(r)),m=0,t="",n&&(r.charCodeAt(0)===65279&&m++,n=void 0);m<r.length;){if(Fx.lastIndex=m,d=Fx.exec(r),v=d&&d.index!==void 0?d.index:r.length,b=r.charCodeAt(v),!d){t=r.slice(m);break}if(b===10&&m===v&&u)f.push(-3),u=void 0;else switch(u&&(f.push(-5),u=void 0),m<v&&(f.push(r.slice(m,v)),e+=v-m),b){case 0:{f.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,f.push(-2);e++<p;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:u=!0,e=1}m=v+1}return s&&(u&&f.push(-5),t&&f.push(t),f.push(null)),f}}const QV=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OT(e){return e.replace(QV,WV)}function WV(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),r=i===120||i===88;return xT(n.slice(r?2:1),r?16:10)}return U3(n)||e}function Dc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ux(e.position):"start"in e||"end"in e?Ux(e):"line"in e||"column"in e?O1(e):""}function O1(e){return jx(e&&e.line)+":"+jx(e&&e.column)}function Ux(e){return O1(e&&e.start)+"-"+O1(e&&e.end)}function jx(e){return e&&typeof e=="number"?e:1}const IT={}.hasOwnProperty;function eJ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tJ(n)(YV(GV(n).document().write(XV()(e,t,!0))))}function tJ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(xo),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:r(Do),blockQuote:r(ki),characterEscape:pe,characterReference:pe,codeFenced:r(Du),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:r(Du,o),codeText:r(us,o),codeTextData:pe,data:pe,codeFlowValue:pe,definition:r(nd),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:r(ku),hardBreakEscape:r(ko),hardBreakTrailing:r(ko),htmlFlow:r(id,o),htmlFlowData:pe,htmlText:r(id,o),htmlTextData:pe,image:r(ud),label:o,link:r(xo),listItem:r(rs),listItemValue:v,listOrdered:r(So,m),listUnordered:r(So),paragraph:r(um),reference:x,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:r(Do),strong:r(rm),thematicBreak:r(am)},exit:{atxHeading:f(),atxHeadingSequence:ue,autolink:f(),autolinkEmail:ht,autolinkProtocol:$t,blockQuote:f(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:De,characterReference:Ge,codeFenced:f(S),codeFencedFence:k,codeFencedFenceInfo:b,codeFencedFenceMeta:E,codeFlowValue:L,codeIndented:f(w),codeText:f(se),codeTextData:L,data:L,definition:f(),definitionDestinationString:Q,definitionLabelString:U,definitionTitleString:$,emphasis:f(),hardBreakEscape:f(de),hardBreakTrailing:f(de),htmlFlow:f(Le),htmlFlowData:L,htmlText:f(xe),htmlTextData:L,image:f(te),label:Ze,labelText:ye,lineEnding:fe,link:f(j),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ce,resourceDestinationString:_,resourceTitleString:T,resource:J,setextHeading:f(re),setextHeadingLineSequence:P,setextHeadingText:N,strong:f(),thematicBreak:f()}};MT(t,(e||{}).mdastExtensions||[]);const n={};return u;function u(K){let ae={type:"root",children:[]};const Be={stack:[ae],tokenStack:[],config:t,enter:s,exit:d,buffer:o,resume:p,data:n},He=[];let lt=-1;for(;++lt<K.length;)if(K[lt][1].type==="listOrdered"||K[lt][1].type==="listUnordered")if(K[lt][0]==="enter")He.push(lt);else{const ui=He.pop();lt=i(K,ui,lt)}for(lt=-1;++lt<K.length;){const ui=t[K[lt][0]];IT.call(ui,K[lt][1].type)&&ui[K[lt][1].type].call(Object.assign({sliceSerialize:K[lt][2].sliceSerialize},Be),K[lt][1])}if(Be.tokenStack.length>0){const ui=Be.tokenStack[Be.tokenStack.length-1];(ui[1]||Lx).call(Be,void 0,ui[0])}for(ae.position={start:Fr(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Fr(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)ae=t.transforms[lt](ae)||ae;return ae}function i(K,ae,Be){let He=ae-1,lt=-1,ui=!1,xu,zn,Wt,Rn;for(;++He<=Be;){const bt=K[He];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?lt++:lt--,Rn=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(xu&&!Rn&&!lt&&!Wt&&(Wt=He),Rn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rn=void 0}if(!lt&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||lt===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(xu){let hr=He;for(zn=void 0;hr--;){const Yi=K[hr];if(Yi[1].type==="lineEnding"||Yi[1].type==="lineEndingBlank"){if(Yi[0]==="exit")continue;zn&&(K[zn][1].type="lineEndingBlank",ui=!0),Yi[1].type="lineEnding",zn=hr}else if(!(Yi[1].type==="linePrefix"||Yi[1].type==="blockQuotePrefix"||Yi[1].type==="blockQuotePrefixWhitespace"||Yi[1].type==="blockQuoteMarker"||Yi[1].type==="listItemIndent"))break}Wt&&(!zn||Wt<zn)&&(xu._spread=!0),xu.end=Object.assign({},zn?K[zn][1].start:bt[1].end),K.splice(zn||He,0,["exit",xu,bt[2]]),He++,Be++}if(bt[1].type==="listItemPrefix"){const hr={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};xu=hr,K.splice(He,0,["enter",hr,bt[2]]),He++,Be++,Wt=void 0,Rn=!0}}}return K[ae][1]._spread=ui,Be}function r(K,ae){return Be;function Be(He){s.call(this,K(He),He),ae&&ae.call(this,He)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(K,ae,Be){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ae,Be||void 0]),K.position={start:Fr(ae.start),end:void 0}}function f(K){return ae;function ae(Be){K&&K.call(this,Be),d.call(this,Be)}}function d(K,ae){const Be=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==K.type&&(ae?ae.call(this,K,He[0]):(He[1]||Lx).call(this,K,He[0]));else throw new Error("Cannot close `"+K.type+"` ("+Dc({start:K.start,end:K.end})+"): its not open");Be.position.end=Fr(K.end)}function p(){return F3(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(K){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function b(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=K}function E(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=K}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.value=K.replace(/(\r?\n|\r)$/g,"")}function U(K){const ae=this.resume(),Be=this.stack[this.stack.length-1];Be.label=ae,Be.identifier=uu(this.sliceSerialize(K)).toLowerCase()}function $(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.title=K}function Q(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.url=K}function ue(K){const ae=this.stack[this.stack.length-1];if(!ae.depth){const Be=this.sliceSerialize(K).length;ae.depth=Be}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(K){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(K){const Be=this.stack[this.stack.length-1].children;let He=Be[Be.length-1];(!He||He.type!=="text")&&(He=Tn(),He.position={start:Fr(K.start),end:void 0},Be.push(He)),this.stack.push(He)}function L(K){const ae=this.stack.pop();ae.value+=this.sliceSerialize(K),ae.position.end=Fr(K.end)}function fe(K){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=ae.children[ae.children.length-1];Be.position.end=Fr(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ae.type)&&(pe.call(this,K),L.call(this,K))}function de(){this.data.atHardBreak=!0}function Le(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.value=K}function xe(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.value=K}function se(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.value=K}function j(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ae,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function te(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ae,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ye(K){const ae=this.sliceSerialize(K),Be=this.stack[this.stack.length-2];Be.label=OT(ae),Be.identifier=uu(ae).toLowerCase()}function Ze(){const K=this.stack[this.stack.length-1],ae=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const He=K.children;Be.children=He}else Be.alt=ae}function _(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.url=K}function T(){const K=this.resume(),ae=this.stack[this.stack.length-1];ae.title=K}function J(){this.data.inReference=void 0}function x(){this.data.referenceType="collapsed"}function ce(K){const ae=this.resume(),Be=this.stack[this.stack.length-1];Be.label=ae,Be.identifier=uu(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function _e(K){this.data.characterReferenceType=K.type}function De(K){const ae=this.sliceSerialize(K),Be=this.data.characterReferenceType;let He;Be?(He=xT(ae,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=U3(ae);const lt=this.stack[this.stack.length-1];lt.value+=He}function Ge(K){const ae=this.stack.pop();ae.position.end=Fr(K.end)}function $t(K){L.call(this,K);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(K)}function ht(K){L.call(this,K);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(K)}function ki(){return{type:"blockquote",children:[]}}function Du(){return{type:"code",lang:null,meta:null,value:""}}function us(){return{type:"inlineCode",value:""}}function nd(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ku(){return{type:"emphasis",children:[]}}function Do(){return{type:"heading",depth:0,children:[]}}function ko(){return{type:"break"}}function id(){return{type:"html",value:""}}function ud(){return{type:"image",title:null,url:"",alt:null}}function xo(){return{type:"link",title:null,url:"",children:[]}}function So(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function rs(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function um(){return{type:"paragraph",children:[]}}function rm(){return{type:"strong",children:[]}}function Tn(){return{type:"text",value:""}}function am(){return{type:"thematicBreak"}}}function Fr(e){return{line:e.line,column:e.column,offset:e.offset}}function MT(e,t){let n=-1;for(;++n<t.length;){const u=t[n];Array.isArray(u)?MT(e,u):nJ(e,u)}}function nJ(e,t){let n;for(n in t)if(IT.call(t,n))switch(n){case"canContainEols":{const u=t[n];u&&e[n].push(...u);break}case"transforms":{const u=t[n];u&&e[n].push(...u);break}case"enter":case"exit":{const u=t[n];u&&Object.assign(e[n],u);break}}}function Lx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Dc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Dc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Dc({start:t.start,end:t.end})+") is still open")}function I1(e){const t=this;t.parser=n;function n(u){return eJ(u,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Zx={}.hasOwnProperty;function iJ(e,t){const n=t||{};function u(i,...r){let o=u.invalid;const s=u.handlers;if(i&&Zx.call(i,e)){const f=String(i[e]);o=Zx.call(s,f)?s[f]:u.unknown}if(o)return o.call(this,i,...r)}return u.handlers=n.handlers||{},u.invalid=n.invalid,u.unknown=n.unknown,u}const uJ={}.hasOwnProperty;function RT(e,t){let n=-1,u;if(t.extensions)for(;++n<t.extensions.length;)RT(e,t.extensions[n]);for(u in t)if(uJ.call(t,u))switch(u){case"extensions":break;case"unsafe":{Px(e[u],t[u]);break}case"join":{Px(e[u],t[u]);break}case"handlers":{rJ(e[u],t[u]);break}default:e.options[u]=t[u]}return e}function Px(e,t){t&&e.push(...t)}function rJ(e,t){t&&Object.assign(e,t)}function aJ(e,t,n,u){const i=n.enter("blockquote"),r=n.createTracker(u);r.move("> "),r.shift(2);const o=n.indentLines(n.containerFlow(e,r.current()),oJ);return i(),o}function oJ(e,t,n){return">"+(n?"":" ")+e}function FT(e,t){return Hx(e,t.inConstruct,!0)&&!Hx(e,t.notInConstruct,!1)}function Hx(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let u=-1;for(;++u<t.length;)if(e.includes(t[u]))return!0;return!1}function qx(e,t,n,u){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&FT(n.stack,n.unsafe[i]))return/[ \t]/.test(u.before)?"":" ";return`\\
`}function lJ(e,t){const n=String(e);let u=n.indexOf(t),i=u,r=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;u!==-1;)u===i?++r>o&&(o=r):r=1,i=u+t.length,u=n.indexOf(t,i);return o}function M1(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function sJ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function cJ(e,t,n,u){const i=sJ(n),r=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(M1(e,n)){const m=n.enter("codeIndented"),v=n.indentLines(r,fJ);return m(),v}const s=n.createTracker(u),f=i.repeat(Math.max(lJ(r,i)+1,3)),d=n.enter("codeFenced");let p=s.move(f);if(e.lang){const m=n.enter(`codeFencedLang${o}`);p+=s.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...s.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${o}`);p+=s.move(" "),p+=s.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...s.current()})),m()}return p+=s.move(`
`),r&&(p+=s.move(r+`
`)),p+=s.move(f),d(),p}function fJ(e,t,n){return(n?"":"    ")+e}function L3(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function dJ(e,t,n,u){const i=L3(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const f=n.createTracker(u);let d=f.move("[");return d+=f.move(n.safe(n.associationId(e),{before:d,after:"]",...f.current()})),d+=f.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(e.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(s=n.enter("destinationRaw"),d+=f.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...f.current()}))),s(),e.title&&(s=n.enter(`title${r}`),d+=f.move(" "+i),d+=f.move(n.safe(e.title,{before:d,after:i,...f.current()})),d+=f.move(i),s()),o(),d}function hJ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ua(e){return"&#x"+e.toString(16).toUpperCase()+";"}function _h(e,t,n){const u=Zl(e),i=Zl(t);return u===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:u===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}UT.peek=pJ;function UT(e,t,n,u){const i=hJ(n),r=n.enter("emphasis"),o=n.createTracker(u),s=o.move(i);let f=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const d=f.charCodeAt(0),p=_h(u.before.charCodeAt(u.before.length-1),d,i);p.inside&&(f=ua(d)+f.slice(1));const m=f.charCodeAt(f.length-1),v=_h(u.after.charCodeAt(0),m,i);v.inside&&(f=f.slice(0,-1)+ua(m));const b=o.move(i);return r(),n.attentionEncodeSurroundingInfo={after:v.outside,before:p.outside},s+f+b}function pJ(e,t,n){return n.options.emphasis||"*"}const Hp=(function(e){if(e==null)return vJ;if(typeof e=="function")return qp(e);if(typeof e=="object")return Array.isArray(e)?mJ(e):gJ(e);if(typeof e=="string")return yJ(e);throw new Error("Expected function, string, or object as test")});function mJ(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Hp(e[n]);return qp(u);function u(...i){let r=-1;for(;++r<t.length;)if(t[r].apply(this,i))return!0;return!1}}function gJ(e){const t=e;return qp(n);function n(u){const i=u;let r;for(r in e)if(i[r]!==t[r])return!1;return!0}}function yJ(e){return qp(t);function t(n){return n&&n.type===e}}function qp(e){return t;function t(n,u,i){return!!(bJ(n)&&e.call(this,n,typeof u=="number"?u:void 0,i||void 0))}}function vJ(){return!0}function bJ(e){return e!==null&&typeof e=="object"&&"type"in e}const jT=[],EJ=!0,R1=!1,F1="skip";function Z3(e,t,n,u){let i;typeof t=="function"&&typeof n!="function"?(u=n,n=t):i=t;const r=Hp(i),o=u?-1:1;s(e,void 0,[])();function s(f,d,p){const m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=jT,E,k,S;if((!t||r(f,d,p[p.length-1]||void 0))&&(b=CJ(n(f,p)),b[0]===R1))return b;if("children"in f&&f.children){const w=f;if(w.children&&b[0]!==F1)for(k=(u?w.children.length:-1)+o,S=p.concat(w);k>-1&&k<w.children.length;){const U=w.children[k];if(E=s(U,k,S)(),E[0]===R1)return E;k=typeof E[1]=="number"?E[1]:k+o}}return b}}}function CJ(e){return Array.isArray(e)?e:typeof e=="number"?[EJ,e]:e==null?jT:[e]}function Yl(e,t,n,u){let i,r,o;typeof t=="function"&&typeof n!="function"?(r=void 0,o=t,i=n):(r=t,o=n,i=u),Z3(e,r,s,i);function s(f,d){const p=d[d.length-1],m=p?p.children.indexOf(f):void 0;return o(f,m,p)}}function LT(e,t){let n=!1;return Yl(e,function(u){if("value"in u&&/\r?\n|\r/.test(u.value)||u.type==="break")return n=!0,R1}),!!((!e.depth||e.depth<3)&&F3(e)&&(t.options.setext||n))}function DJ(e,t,n,u){const i=Math.max(Math.min(6,e.depth||1),1),r=n.createTracker(u);if(LT(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),v=n.containerPhrasing(e,{...r.current(),before:`
`,after:`
`});return m(),p(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),f=n.enter("phrasing");r.move(o+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(d)&&(d=ua(d.charCodeAt(0))+d.slice(1)),d=d?o+" "+d:o,n.options.closeAtx&&(d+=" "+o),f(),s(),d}ZT.peek=kJ;function ZT(e){return e.value||""}function kJ(){return"<"}PT.peek=xJ;function PT(e,t,n,u){const i=L3(n),r=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const f=n.createTracker(u);let d=f.move("![");return d+=f.move(n.safe(e.alt,{before:d,after:"]",...f.current()})),d+=f.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),d+=f.move("<"),d+=f.move(n.safe(e.url,{before:d,after:">",...f.current()})),d+=f.move(">")):(s=n.enter("destinationRaw"),d+=f.move(n.safe(e.url,{before:d,after:e.title?" ":")",...f.current()}))),s(),e.title&&(s=n.enter(`title${r}`),d+=f.move(" "+i),d+=f.move(n.safe(e.title,{before:d,after:i,...f.current()})),d+=f.move(i),s()),d+=f.move(")"),o(),d}function xJ(){return"!"}HT.peek=SJ;function HT(e,t,n,u){const i=e.referenceType,r=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(u);let f=s.move("![");const d=n.safe(e.alt,{before:f,after:"]",...s.current()});f+=s.move(d+"]["),o();const p=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(e),{before:f,after:"]",...s.current()});return o(),n.stack=p,r(),i==="full"||!d||d!==m?f+=s.move(m+"]"):i==="shortcut"?f=f.slice(0,-1):f+=s.move("]"),f}function SJ(){return"!"}qT.peek=wJ;function qT(e,t,n){let u=e.value||"",i="`",r=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(u);)i+="`";for(/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^`|`$/.test(u))&&(u=" "+u+" ");++r<n.unsafe.length;){const o=n.unsafe[r],s=n.compilePattern(o);let f;if(o.atBreak)for(;f=s.exec(u);){let d=f.index;u.charCodeAt(d)===10&&u.charCodeAt(d-1)===13&&d--,u=u.slice(0,d)+" "+u.slice(f.index+1)}}return i+u+i}function wJ(){return"`"}function VT(e,t){const n=F3(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}JT.peek=_J;function JT(e,t,n,u){const i=L3(n),r=i==='"'?"Quote":"Apostrophe",o=n.createTracker(u);let s,f;if(VT(e,n)){const p=n.stack;n.stack=[],s=n.enter("autolink");let m=o.move("<");return m+=o.move(n.containerPhrasing(e,{before:m,after:">",...o.current()})),m+=o.move(">"),s(),n.stack=p,m}s=n.enter("link"),f=n.enter("label");let d=o.move("[");return d+=o.move(n.containerPhrasing(e,{before:d,after:"](",...o.current()})),d+=o.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=o.move("<"),d+=o.move(n.safe(e.url,{before:d,after:">",...o.current()})),d+=o.move(">")):(f=n.enter("destinationRaw"),d+=o.move(n.safe(e.url,{before:d,after:e.title?" ":")",...o.current()}))),f(),e.title&&(f=n.enter(`title${r}`),d+=o.move(" "+i),d+=o.move(n.safe(e.title,{before:d,after:i,...o.current()})),d+=o.move(i),f()),d+=o.move(")"),s(),d}function _J(e,t,n){return VT(e,n)?"<":"["}KT.peek=AJ;function KT(e,t,n,u){const i=e.referenceType,r=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(u);let f=s.move("[");const d=n.containerPhrasing(e,{before:f,after:"]",...s.current()});f+=s.move(d+"]["),o();const p=n.stack;n.stack=[],o=n.enter("reference");const m=n.safe(n.associationId(e),{before:f,after:"]",...s.current()});return o(),n.stack=p,r(),i==="full"||!d||d!==m?f+=s.move(m+"]"):i==="shortcut"?f=f.slice(0,-1):f+=s.move("]"),f}function AJ(){return"["}function P3(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function BJ(e){const t=P3(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function TJ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function GT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function zJ(e,t,n,u){const i=n.enter("list"),r=n.bulletCurrent;let o=e.ordered?TJ(n):P3(n);const s=e.ordered?o==="."?")":".":BJ(n);let f=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),GT(n)===o&&p){let m=-1;for(;++m<e.children.length;){const v=e.children[m];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(o=s),n.bulletCurrent=o;const d=n.containerFlow(e,u);return n.bulletLastUsed=o,n.bulletCurrent=r,i(),d}function NJ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function $J(e,t,n,u){const i=NJ(n);let r=n.bulletCurrent||P3(n);t&&t.type==="list"&&t.ordered&&(r=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+r);let o=r.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(u);s.move(r+" ".repeat(o-r.length)),s.shift(o);const f=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,s.current()),p);return f(),d;function p(m,v,b){return v?(b?"":" ".repeat(o))+m:(b?r:r+" ".repeat(o-r.length))+m}}function OJ(e,t,n,u){const i=n.enter("paragraph"),r=n.enter("phrasing"),o=n.containerPhrasing(e,u);return r(),i(),o}const IJ=Hp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function MJ(e,t,n,u){return(e.children.some(function(o){return IJ(o)})?n.containerPhrasing:n.containerFlow).call(n,e,u)}function RJ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}YT.peek=FJ;function YT(e,t,n,u){const i=RJ(n),r=n.enter("strong"),o=n.createTracker(u),s=o.move(i+i);let f=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const d=f.charCodeAt(0),p=_h(u.before.charCodeAt(u.before.length-1),d,i);p.inside&&(f=ua(d)+f.slice(1));const m=f.charCodeAt(f.length-1),v=_h(u.after.charCodeAt(0),m,i);v.inside&&(f=f.slice(0,-1)+ua(m));const b=o.move(i+i);return r(),n.attentionEncodeSurroundingInfo={after:v.outside,before:p.outside},s+f+b}function FJ(e,t,n){return n.options.strong||"*"}function UJ(e,t,n,u){return n.safe(e.value,u)}function jJ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function LJ(e,t,n){const u=(GT(n)+(n.options.ruleSpaces?" ":"")).repeat(jJ(n));return n.options.ruleSpaces?u.slice(0,-1):u}const H3={blockquote:aJ,break:qx,code:cJ,definition:dJ,emphasis:UT,hardBreak:qx,heading:DJ,html:ZT,image:PT,imageReference:HT,inlineCode:qT,link:JT,linkReference:KT,list:zJ,listItem:$J,paragraph:OJ,root:MJ,strong:YT,text:UJ,thematicBreak:LJ},ZJ=[PJ];function PJ(e,t,n,u){if(t.type==="code"&&M1(t,u)&&(e.type==="list"||e.type===t.type&&M1(e,u)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&LT(t,u))?void 0:n.spread?1:0}const za=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],HJ=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:za},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:za},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:za},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:za},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:za},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:za},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:za},{atBreak:!0,character:"~"}];function qJ(e){return e.label||!e.identifier?e.label||"":OT(e.identifier)}function VJ(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function JJ(e,t,n){const u=t.indexStack,i=e.children||[],r=[];let o=-1,s=n.before,f;u.push(-1);let d=t.createTracker(n);for(;++o<i.length;){const p=i[o];let m;if(u[u.length-1]=o,o+1<i.length){let E=t.handle.handlers[i[o+1].type];E&&E.peek&&(E=E.peek),m=E?E(i[o+1],e,t,{before:"",after:"",...d.current()}).charAt(0):""}else m=n.after;r.length>0&&(s==="\r"||s===`
`)&&p.type==="html"&&(r[r.length-1]=r[r.length-1].replace(/(\r?\n|\r)$/," "),s=" ",d=t.createTracker(n),d.move(r.join("")));let v=t.handle(p,e,t,{...d.current(),after:m,before:s});f&&f===v.slice(0,1)&&(v=ua(f.charCodeAt(0))+v.slice(1));const b=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,f=void 0,b&&(r.length>0&&b.before&&s===r[r.length-1].slice(-1)&&(r[r.length-1]=r[r.length-1].slice(0,-1)+ua(s.charCodeAt(0))),b.after&&(f=m)),d.move(v),r.push(v),s=v.slice(-1)}return u.pop(),r.join("")}function KJ(e,t,n){const u=t.indexStack,i=e.children||[],r=t.createTracker(n),o=[];let s=-1;for(u.push(-1);++s<i.length;){const f=i[s];u[u.length-1]=s,o.push(r.move(t.handle(f,e,t,{before:`
`,after:`
`,...r.current()}))),f.type!=="list"&&(t.bulletLastUsed=void 0),s<i.length-1&&o.push(r.move(GJ(f,i[s+1],e,t)))}return u.pop(),o.join("")}function GJ(e,t,n,u){let i=u.join.length;for(;i--;){const r=u.join[i](e,t,n,u);if(r===!0||r===1)break;if(typeof r=="number")return`
`.repeat(1+r);if(r===!1)return`

\x3C!---->

`}return`

`}const YJ=/\r?\n|\r/g;function XJ(e,t){const n=[];let u=0,i=0,r;for(;r=YJ.exec(e);)o(e.slice(u,r.index)),n.push(r[0]),u=r.index+r[0].length,i++;return o(e.slice(u)),n.join("");function o(s){n.push(t(s,i,!s))}}function QJ(e,t,n){const u=(n.before||"")+(t||"")+(n.after||""),i=[],r=[],o={};let s=-1;for(;++s<e.unsafe.length;){const p=e.unsafe[s];if(!FT(e.stack,p))continue;const m=e.compilePattern(p);let v;for(;v=m.exec(u);){const b="before"in p||!!p.atBreak,E="after"in p,k=v.index+(b?v[1].length:0);i.includes(k)?(o[k].before&&!b&&(o[k].before=!1),o[k].after&&!E&&(o[k].after=!1)):(i.push(k),o[k]={before:b,after:E})}}i.sort(WJ);let f=n.before?n.before.length:0;const d=u.length-(n.after?n.after.length:0);for(s=-1;++s<i.length;){const p=i[s];p<f||p>=d||p+1<d&&i[s+1]===p+1&&o[p].after&&!o[p+1].before&&!o[p+1].after||i[s-1]===p-1&&o[p].before&&!o[p-1].before&&!o[p-1].after||(f!==p&&r.push(Vx(u.slice(f,p),"\\")),f=p,/[!-/:-@[-`{-~]/.test(u.charAt(p))&&(!n.encode||!n.encode.includes(u.charAt(p)))?r.push("\\"):(r.push(ua(u.charCodeAt(p))),f++))}return r.push(Vx(u.slice(f,d),n.after)),r.join("")}function WJ(e,t){return e-t}function Vx(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,u=[],i=[],r=e+t;let o=-1,s=0,f;for(;f=n.exec(r);)u.push(f.index);for(;++o<u.length;)s!==u[o]&&i.push(e.slice(s,u[o])),i.push("\\"),s=u[o];return i.push(e.slice(s)),i.join("")}function eK(e){const t=e||{},n=t.now||{};let u=t.lineShift||0,i=n.line||1,r=n.column||1;return{move:f,current:o,shift:s};function o(){return{now:{line:i,column:r},lineShift:u}}function s(d){u+=d}function f(d){const p=d||"",m=p.split(/\r?\n|\r/g),v=m[m.length-1];return i+=m.length-1,r=m.length===1?r+v.length:1+v.length+u,p}}function tK(e,t){const n=t||{},u={associationId:qJ,containerPhrasing:rK,containerFlow:aK,createTracker:eK,compilePattern:VJ,enter:r,handlers:{...H3},handle:void 0,indentLines:XJ,indexStack:[],join:[...ZJ],options:{},safe:oK,stack:[],unsafe:[...HJ]};RT(u,n),u.options.tightDefinitions&&u.join.push(uK),u.handle=iJ("type",{invalid:nK,unknown:iK,handlers:u.handlers});let i=u.handle(e,void 0,u,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function r(o){return u.stack.push(o),s;function s(){u.stack.pop()}}}function nK(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function iK(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function uK(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function rK(e,t){return JJ(e,this,t)}function aK(e,t){return KJ(e,this,t)}function oK(e,t){return QJ(this,e,t)}function U1(e){const t=this;t.compiler=n;function n(u){return tK(u,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function Jx(e){if(e)throw e}var N4,Kx;function lK(){if(Kx)return N4;Kx=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,u=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},r=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var p=e.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!m)return!1;var v;for(v in d);return typeof v>"u"||e.call(d,v)},o=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},s=function(d,p){if(p==="__proto__")if(e.call(d,p)){if(u)return u(d,p).value}else return;return d[p]};return N4=function f(){var d,p,m,v,b,E,k=arguments[0],S=1,w=arguments.length,U=!1;for(typeof k=="boolean"&&(U=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<w;++S)if(d=arguments[S],d!=null)for(p in d)m=s(k,p),v=s(d,p),k!==v&&(U&&v&&(r(v)||(b=i(v)))?(b?(b=!1,E=m&&i(m)?m:[]):E=m&&r(m)?m:{},o(k,{name:p,newValue:f(U,E,v)})):typeof v<"u"&&o(k,{name:p,newValue:v}));return k},N4}var sK=lK();const $4=y2(sK);function j1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cK(){const e=[],t={run:n,use:u};return t;function n(...i){let r=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(f,...d){const p=e[++r];let m=-1;if(f){o(f);return}for(;++m<i.length;)(d[m]===null||d[m]===void 0)&&(d[m]=i[m]);i=d,p?fK(p,s)(...d):o(null,...d)}}function u(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fK(e,t){let n;return u;function u(...o){const s=e.length>o.length;let f;s&&o.push(i);try{f=e.apply(this,o)}catch(d){const p=d;if(s&&n)throw p;return i(p)}s||(f&&f.then&&typeof f.then=="function"?f.then(r,i):f instanceof Error?i(f):r(f))}function i(o,...s){n||(n=!0,t(o,...s))}function r(o){i(null,o)}}class ti extends Error{constructor(t,n,u){super(),typeof n=="string"&&(u=n,n=void 0);let i="",r={},o=!1;if(n&&("line"in n&&"column"in n?r={place:n}:"start"in n&&"end"in n?r={place:n}:"type"in n?r={ancestors:[n],place:n.position}:r={...n}),typeof t=="string"?i=t:!r.cause&&t&&(o=!0,i=t.message,r.cause=t),!r.ruleId&&!r.source&&typeof u=="string"){const f=u.indexOf(":");f===-1?r.ruleId=u:(r.source=u.slice(0,f),r.ruleId=u.slice(f+1))}if(!r.place&&r.ancestors&&r.ancestors){const f=r.ancestors[r.ancestors.length-1];f&&(r.place=f.position)}const s=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Dc(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=o&&r.cause&&typeof r.cause.stack=="string"?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ti.prototype.file="";ti.prototype.name="";ti.prototype.reason="";ti.prototype.message="";ti.prototype.stack="";ti.prototype.column=void 0;ti.prototype.line=void 0;ti.prototype.ancestors=void 0;ti.prototype.cause=void 0;ti.prototype.fatal=void 0;ti.prototype.place=void 0;ti.prototype.ruleId=void 0;ti.prototype.source=void 0;const du={basename:dK,dirname:hK,extname:pK,join:mK,sep:"/"};function dK(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');jf(e);let n=0,u=-1,i=e.length,r;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(r){n=i+1;break}}else u<0&&(r=!0,u=i+1);return u<0?"":e.slice(n,u)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(r){n=i+1;break}}else o<0&&(r=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(u=i):(s=-1,u=o));return n===u?u=o:u<0&&(u=e.length),e.slice(n,u)}function hK(e){if(jf(e),e.length===0)return".";let t=-1,n=e.length,u;for(;--n;)if(e.codePointAt(n)===47){if(u){t=n;break}}else u||(u=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function pK(e){jf(e);let t=e.length,n=-1,u=0,i=-1,r=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){u=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:r!==1&&(r=1):i>-1&&(r=-1)}return i<0||n<0||r===0||r===1&&i===n-1&&i===u+1?"":e.slice(i,n)}function mK(...e){let t=-1,n;for(;++t<e.length;)jf(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gK(n)}function gK(e){jf(e);const t=e.codePointAt(0)===47;let n=yK(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yK(e,t){let n="",u=0,i=-1,r=0,o=-1,s,f;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||r===1))if(i!==o-1&&r===2){if(n.length<2||u!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",u=0):(n=n.slice(0,f),u=n.length-1-n.lastIndexOf("/")),i=o,r=0;continue}}else if(n.length>0){n="",u=0,i=o,r=0;continue}}t&&(n=n.length>0?n+"/..":"..",u=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),u=o-i-1;i=o,r=0}else s===46&&r>-1?r++:r=-1}return n}function jf(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const vK={cwd:bK};function bK(){return"/"}function L1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function EK(e){if(typeof e=="string")e=new URL(e);else if(!L1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return CK(e)}function CK(e){if(e.hostname!==""){const u=new TypeError('File URL host must be "localhost" or empty on darwin');throw u.code="ERR_INVALID_FILE_URL_HOST",u}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const u=t.codePointAt(n+2);if(u===70||u===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const O4=["history","path","basename","stem","extname","dirname"];class DK{constructor(t){let n;t?L1(t)?n={path:t}:typeof t=="string"||kK(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":vK.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let u=-1;for(;++u<O4.length;){const r=O4[u];r in n&&n[r]!==void 0&&n[r]!==null&&(this[r]=r==="history"?[...n[r]]:n[r])}let i;for(i in n)O4.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?du.basename(this.path):void 0}set basename(t){M4(t,"basename"),I4(t,"basename"),this.path=du.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?du.dirname(this.path):void 0}set dirname(t){Gx(this.basename,"dirname"),this.path=du.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?du.extname(this.path):void 0}set extname(t){if(I4(t,"extname"),Gx(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=du.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){L1(t)&&(t=EK(t)),M4(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?du.basename(this.path,this.extname):void 0}set stem(t){M4(t,"stem"),I4(t,"stem"),this.path=du.join(this.dirname||"",t+(this.extname||""))}fail(t,n,u){const i=this.message(t,n,u);throw i.fatal=!0,i}info(t,n,u){const i=this.message(t,n,u);return i.fatal=void 0,i}message(t,n,u){const i=new ti(t,n,u);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function I4(e,t){if(e&&e.includes(du.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+du.sep+"`")}function M4(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Gx(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xK=(function(e){const u=this.constructor.prototype,i=u[e],r=function(){return i.apply(r,arguments)};return Object.setPrototypeOf(r,u),r}),SK={}.hasOwnProperty;class q3 extends xK{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cK()}copy(){const t=new q3;let n=-1;for(;++n<this.attachers.length;){const u=this.attachers[n];t.use(...u)}return t.data($4(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(U4("data",this.frozen),this.namespace[t]=n,this):SK.call(this.namespace,t)&&this.namespace[t]||void 0:t?(U4("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...u]=this.attachers[this.freezeIndex];if(u[0]===!1)continue;u[0]===!0&&(u[0]=void 0);const i=n.call(t,...u);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=N0(t),u=this.parser||this.Parser;return R4("parse",u),u(String(n),n)}process(t,n){const u=this;return this.freeze(),R4("process",this.parser||this.Parser),F4("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(r,o){const s=N0(t),f=u.parse(s);u.run(f,s,function(p,m,v){if(p||!m||!v)return d(p);const b=m,E=u.stringify(b,v);_K(E)?v.value=E:v.result=E,d(p,v)});function d(p,m){p||!m?o(p):r?r(m):n(void 0,m)}}}processSync(t){let n=!1,u;return this.freeze(),R4("processSync",this.parser||this.Parser),F4("processSync",this.compiler||this.Compiler),this.process(t,i),Xx("processSync","process",n),u;function i(r,o){n=!0,Jx(r),u=o}}run(t,n,u){Yx(t),this.freeze();const i=this.transformers;return!u&&typeof n=="function"&&(u=n,n=void 0),u?r(void 0,u):new Promise(r);function r(o,s){const f=N0(n);i.run(t,f,d);function d(p,m,v){const b=m||t;p?s(p):o?o(b):u(void 0,b,v)}}}runSync(t,n){let u=!1,i;return this.run(t,n,r),Xx("runSync","run",u),i;function r(o,s){Jx(o),i=s,u=!0}}stringify(t,n){this.freeze();const u=N0(n),i=this.compiler||this.Compiler;return F4("stringify",i),Yx(t),i(t,u)}use(t,...n){const u=this.attachers,i=this.namespace;if(U4("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function r(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...m]=d;f(p,m)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(d.plugins),d.settings&&(i.settings=$4(!0,i.settings,d.settings))}function s(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const m=d[p];r(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,p){let m=-1,v=-1;for(;++m<u.length;)if(u[m][0]===d){v=m;break}if(v===-1)u.push([d,...p]);else if(p.length>0){let[b,...E]=p;const k=u[v][1];j1(k)&&j1(b)&&(b=$4(!0,k,b)),u[v]=[d,b,...E]}}}}const Z1=new q3().freeze();function R4(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function F4(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function U4(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Yx(e){if(!j1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Xx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function N0(e){return wK(e)?e:new DK(e)}function wK(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _K(e){return typeof e=="string"||AK(e)}function AK(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var XT=e=>{throw TypeError(e)},QT=(e,t,n)=>t.has(e)||XT("Cannot "+n),Pe=(e,t,n)=>(QT(e,t,"read from private field"),n?n.call(e):t.get(e)),Xt=(e,t,n)=>t.has(e)?XT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),At=(e,t,n,u)=>(QT(e,t,"write to private field"),t.set(e,n),n),fu,oc,j0,L0,Z0,lc,sc,Hu,cc,P0,H0,fc,q0,dc,V0,J0,dl,Oa,K0,hc;class WT{}class ez{constructor(){this.elements=[],this.size=()=>this.elements.length,this.top=()=>this.elements.at(-1),this.push=t=>{var n;(n=this.top())==null||n.push(t)},this.open=t=>{this.elements.push(t)},this.close=()=>{const t=this.elements.pop();if(!t)throw nT();return t}}}class V3 extends WT{constructor(t,n,u){super(),this.type=t,this.content=n,this.attrs=u}push(t,...n){this.content.push(t,...n)}pop(){return this.content.pop()}static create(t,n,u){return new V3(t,n,u)}}const P1=class extends ez{constructor(t){super(),Xt(this,fu),Xt(this,oc),Xt(this,j0),Xt(this,L0),Xt(this,Z0),Xt(this,lc),Xt(this,sc),At(this,fu,tt.none),At(this,oc,n=>n.isText),At(this,j0,(n,u)=>{if(Pe(this,oc).call(this,n)&&Pe(this,oc).call(this,u)&&tt.sameSet(n.marks,u.marks))return this.schema.text(n.text+u.text,n.marks)}),At(this,L0,n=>{const u=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.parseMarkdown.match(n));if(!u)throw DH(n);return u}),At(this,Z0,n=>{const u=Pe(this,L0).call(this,n);u.spec.parseMarkdown.runner(this,n,u)}),this.injectRoot=(n,u,i)=>(this.openNode(u,i),this.next(n.children),this),this.openNode=(n,u)=>(this.open(V3.create(n,[],u)),this),At(this,lc,()=>{At(this,fu,tt.none);const n=this.close();return Pe(this,sc).call(this,n.type,n.attrs,n.content)}),this.closeNode=()=>{try{Pe(this,lc).call(this)}catch(n){console.error(n)}return this},At(this,sc,(n,u,i)=>{const r=n.createAndFill(u,i,Pe(this,fu));if(!r)throw CH(n,u,i);return this.push(r),r}),this.addNode=(n,u,i)=>{try{Pe(this,sc).call(this,n,u,i)}catch(r){console.error(r)}return this},this.openMark=(n,u)=>{const i=n.create(u);return At(this,fu,i.addToSet(Pe(this,fu))),this},this.closeMark=n=>(At(this,fu,n.removeFromSet(Pe(this,fu))),this),this.addText=n=>{try{const u=this.top();if(!u)throw nT();const i=u.pop(),r=this.schema.text(n,Pe(this,fu));if(!i)return u.push(r),this;const o=Pe(this,j0).call(this,i,r);return o?(u.push(o),this):(u.push(i,r),this)}catch(u){return console.error(u),this}},this.build=()=>{let n;do n=Pe(this,lc).call(this);while(this.size());return n},this.next=(n=[])=>([n].flat().forEach(u=>Pe(this,Z0).call(this,u)),this),this.toDoc=()=>this.build(),this.run=(n,u)=>{const i=n.runSync(n.parse(u),u);return this.next(i),this},this.schema=t}};fu=new WeakMap;oc=new WeakMap;j0=new WeakMap;L0=new WeakMap;Z0=new WeakMap;lc=new WeakMap;sc=new WeakMap;P1.create=(e,t)=>{const n=new P1(e);return u=>(n.run(t,u),n.toDoc())};let BK=P1;const H1=class extends WT{constructor(t,n,u,i={}){super(),this.type=t,this.children=n,this.value=u,this.props=i,this.push=(r,...o)=>{this.children||(this.children=[]),this.children.push(r,...o)},this.pop=()=>{var r;return(r=this.children)==null?void 0:r.pop()}}};H1.create=(e,t,n,u={})=>new H1(e,t,n,u);let Qx=H1;const TK=e=>Object.prototype.hasOwnProperty.call(e,"size"),q1=class extends ez{constructor(t){super(),Xt(this,Hu),Xt(this,cc),Xt(this,P0),Xt(this,H0),Xt(this,fc),Xt(this,q0),Xt(this,dc),Xt(this,V0),Xt(this,J0),Xt(this,dl),Xt(this,Oa),Xt(this,K0),Xt(this,hc),At(this,Hu,tt.none),At(this,cc,n=>{const u=Object.values({...this.schema.nodes,...this.schema.marks}).find(i=>i.spec.toMarkdown.match(n));if(!u)throw kH(n.type);return u}),At(this,P0,n=>Pe(this,cc).call(this,n).spec.toMarkdown.runner(this,n)),At(this,H0,(n,u)=>Pe(this,cc).call(this,n).spec.toMarkdown.runner(this,n,u)),At(this,fc,n=>{const{marks:u}=n,i=s=>s.type.spec.priority??50;[...u].sort((s,f)=>i(s)-i(f)).every(s=>!Pe(this,H0).call(this,s,n))&&Pe(this,P0).call(this,n),u.forEach(s=>Pe(this,hc).call(this,s))}),At(this,q0,(n,u)=>{var f;if(n.type===u||((f=n.children)==null?void 0:f.length)!==1)return n;const i=d=>{var m;if(d.type===u)return d;if(((m=d.children)==null?void 0:m.length)!==1)return null;const[p]=d.children;return p?i(p):null},r=i(n);if(!r)return n;const o=r.children?[...r.children]:void 0,s={...n,children:o};return s.children=o,r.children=[s],r}),At(this,dc,n=>{const{children:u}=n;return u&&(n.children=u.reduce((i,r,o)=>{if(o===0)return[r];const s=i.at(-1);if(s&&s.isMark&&r.isMark){r=Pe(this,q0).call(this,r,s.type);const{children:f,...d}=r,{children:p,...m}=s;if(r.type===s.type&&f&&p&&JSON.stringify(d)===JSON.stringify(m)){const v={...m,children:[...p,...f]};return i.slice(0,-1).concat(Pe(this,dc).call(this,v))}}return i.concat(r)},[])),n}),At(this,V0,n=>{const u={...n.props,type:n.type};return n.children&&(u.children=n.children),n.value&&(u.value=n.value),u}),this.openNode=(n,u,i)=>(this.open(Qx.create(n,void 0,u,i)),this),At(this,J0,(n,u)=>{let i="",r="";const o=n.children;let s=-1,f=-1;const d=m=>{m&&m.forEach((v,b)=>{v.type==="text"&&v.value&&(s<0&&(s=b),f=b)})};if(o){d(o);const m=o==null?void 0:o[f],v=o==null?void 0:o[s];if(m&&m.value.endsWith(" ")){const b=m.value,E=b.trimEnd();r=b.slice(E.length),m.value=E}if(v&&v.value.startsWith(" ")){const b=v.value,E=b.trimStart();i=b.slice(0,b.length-E.length),v.value=E}}i.length&&Pe(this,Oa).call(this,"text",void 0,i);const p=u();return r.length&&Pe(this,Oa).call(this,"text",void 0,r),p}),At(this,dl,(n=!1)=>{const u=this.close(),i=()=>Pe(this,Oa).call(this,u.type,u.children,u.value,u.props);return n?Pe(this,J0).call(this,u,i):i()}),this.closeNode=()=>(Pe(this,dl).call(this),this),At(this,Oa,(n,u,i,r)=>{const o=Qx.create(n,u,i,r),s=Pe(this,dc).call(this,Pe(this,V0).call(this,o));return this.push(s),s}),this.addNode=(n,u,i,r)=>(Pe(this,Oa).call(this,n,u,i,r),this),At(this,K0,(n,u,i,r)=>n.isInSet(Pe(this,Hu))?this:(At(this,Hu,n.addToSet(Pe(this,Hu))),this.openNode(u,i,{...r,isMark:!0}))),At(this,hc,n=>{n.isInSet(Pe(this,Hu))&&(At(this,Hu,n.type.removeFromSet(Pe(this,Hu))),Pe(this,dl).call(this,!0))}),this.withMark=(n,u,i,r)=>(Pe(this,K0).call(this,n,u,i,r),this),this.closeMark=n=>(Pe(this,hc).call(this,n),this),this.build=()=>{let n=null;do n=Pe(this,dl).call(this);while(this.size());return n},this.next=n=>TK(n)?(n.forEach(u=>{Pe(this,fc).call(this,u)}),this):(Pe(this,fc).call(this,n),this),this.toString=n=>n.stringify(this.build()),this.run=n=>(this.next(n),this),this.schema=t}};Hu=new WeakMap;cc=new WeakMap;P0=new WeakMap;H0=new WeakMap;fc=new WeakMap;q0=new WeakMap;dc=new WeakMap;V0=new WeakMap;J0=new WeakMap;dl=new WeakMap;Oa=new WeakMap;K0=new WeakMap;hc=new WeakMap;q1.create=(e,t)=>{const n=new q1(e);return u=>(n.run(u),n.toString(t))};let zK=q1;const tz=65535,nz=Math.pow(2,16);function NK(e,t){return e+t*nz}function Wx(e){return e&tz}function $K(e){return(e-(e&tz))/nz}const iz=1,uz=2,G0=4,rz=8;class V1{constructor(t,n,u){this.pos=t,this.delInfo=n,this.recover=u}get deleted(){return(this.delInfo&rz)>0}get deletedBefore(){return(this.delInfo&(iz|G0))>0}get deletedAfter(){return(this.delInfo&(uz|G0))>0}get deletedAcross(){return(this.delInfo&G0)>0}}class hi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&hi.empty)return hi.empty}recover(t){let n=0,u=Wx(t);if(!this.inverted)for(let i=0;i<u;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[u*3]+n+$K(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,u){let i=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let f=this.ranges[s]-(this.inverted?i:0);if(f>t)break;let d=this.ranges[s+r],p=this.ranges[s+o],m=f+d;if(t<=m){let v=d?t==f?-1:t==m?1:n:n,b=f+i+(v<0?0:p);if(u)return b;let E=t==(n<0?f:m)?null:NK(s/3,t-f),k=t==f?uz:t==m?iz:G0;return(n<0?t!=f:t!=m)&&(k|=rz),new V1(b,k,E)}i+=p-d}return u?t+i:new V1(t+i,0,null)}touches(t,n){let u=0,i=Wx(n),r=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let f=this.ranges[s]-(this.inverted?u:0);if(f>t)break;let d=this.ranges[s+r],p=f+d;if(t<=p&&s==i*3)return!0;u+=this.ranges[s+o]-d}return!1}forEach(t){let n=this.inverted?2:1,u=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let o=this.ranges[i],s=o-(this.inverted?r:0),f=o+(this.inverted?0:r),d=this.ranges[i+n],p=this.ranges[i+u];t(s,s+d,f,f+p),r+=p-d}}invert(){return new hi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?hi.empty:new hi(t<0?[0,-t,0]:[0,0,t])}}hi.empty=new hi([]);class Zc{constructor(t,n,u=0,i=t?t.length:0){this.mirror=n,this.from=u,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Zc(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,u=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?u+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,u=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?u-i-1:void 0)}}invert(){let t=new Zc;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let u=this.from;u<this.to;u++)t=this._maps[u].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,u){let i=0;for(let r=this.from;r<this.to;r++){let o=this._maps[r],s=o.mapResult(t,n);if(s.recover!=null){let f=this.getMirror(r);if(f!=null&&f>r&&f<this.to){r=f,t=this._maps[f].recover(s.recover);continue}}i|=s.delInfo,t=s.pos}return u?t:new V1(t,i,null)}}const j4=Object.create(null);class An{getMap(){return hi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let u=j4[n.stepType];if(!u)throw new RangeError(`No step type ${n.stepType} defined`);return u.fromJSON(t,n)}static jsonID(t,n){if(t in j4)throw new RangeError("Duplicate use of step JSON ID "+t);return j4[t]=n,n.prototype.jsonID=t,n}}class Qt{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Qt(t,null)}static fail(t){return new Qt(null,t)}static fromReplace(t,n,u,i){try{return Qt.ok(t.replace(n,u,i))}catch(r){if(r instanceof kh)return Qt.fail(r.message);throw r}}}function J3(e,t,n){let u=[];for(let i=0;i<e.childCount;i++){let r=e.child(i);r.content.size&&(r=r.copy(J3(r.content,t,r))),r.isInline&&(r=t(r,n,i)),u.push(r)}return ee.fromArray(u)}class er extends An{constructor(t,n,u){super(),this.from=t,this.to=n,this.mark=u}apply(t){let n=t.slice(this.from,this.to),u=t.resolve(this.from),i=u.node(u.sharedDepth(this.to)),r=new oe(J3(n.content,(o,s)=>!o.isAtom||!s.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Qt.fromReplace(t,this.from,this.to,r)}invert(){return new mu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),u=t.mapResult(this.to,-1);return n.deleted&&u.deleted||n.pos>=u.pos?null:new er(n.pos,u.pos,this.mark)}merge(t){return t instanceof er&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new er(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new er(n.from,n.to,t.markFromJSON(n.mark))}}An.jsonID("addMark",er);class mu extends An{constructor(t,n,u){super(),this.from=t,this.to=n,this.mark=u}apply(t){let n=t.slice(this.from,this.to),u=new oe(J3(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Qt.fromReplace(t,this.from,this.to,u)}invert(){return new er(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),u=t.mapResult(this.to,-1);return n.deleted&&u.deleted||n.pos>=u.pos?null:new mu(n.pos,u.pos,this.mark)}merge(t){return t instanceof mu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new mu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mu(n.from,n.to,t.markFromJSON(n.mark))}}An.jsonID("removeMark",mu);class Kr extends An{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let u=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Qt.fromReplace(t,this.pos,this.pos+1,new oe(ee.from(u),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let u=this.mark.addToSet(n.marks);if(u.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(u))return new Kr(this.pos,n.marks[i]);return new Kr(this.pos,this.mark)}}return new lo(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Kr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Kr(n.pos,t.markFromJSON(n.mark))}}An.jsonID("addNodeMark",Kr);class lo extends An{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at mark step's position");let u=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Qt.fromReplace(t,this.pos,this.pos+1,new oe(ee.from(u),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Kr(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new lo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new lo(n.pos,t.markFromJSON(n.mark))}}An.jsonID("removeNodeMark",lo);class rn extends An{constructor(t,n,u,i=!1){super(),this.from=t,this.to=n,this.slice=u,this.structure=i}apply(t){return this.structure&&J1(t,this.from,this.to)?Qt.fail("Structure replace would overwrite content"):Qt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new hi([this.from,this.to-this.from,this.slice.size])}invert(t){return new rn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),u=t.mapResult(this.to,-1);return n.deletedAcross&&u.deletedAcross?null:new rn(n.pos,Math.max(n.pos,u.pos),this.slice,this.structure)}merge(t){if(!(t instanceof rn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?oe.empty:new oe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new rn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?oe.empty:new oe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new rn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rn(n.from,n.to,oe.fromJSON(t,n.slice),!!n.structure)}}An.jsonID("replace",rn);class wn extends An{constructor(t,n,u,i,r,o,s=!1){super(),this.from=t,this.to=n,this.gapFrom=u,this.gapTo=i,this.slice=r,this.insert=o,this.structure=s}apply(t){if(this.structure&&(J1(t,this.from,this.gapFrom)||J1(t,this.gapTo,this.to)))return Qt.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Qt.fail("Gap is not a flat range");let u=this.slice.insertAt(this.insert,n.content);return u?Qt.fromReplace(t,this.from,this.to,u):Qt.fail("Content does not fit in gap")}getMap(){return new hi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),u=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),r=this.to==this.gapTo?u.pos:t.map(this.gapTo,1);return n.deletedAcross&&u.deletedAcross||i<n.pos||r>u.pos?null:new wn(n.pos,u.pos,i,r,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wn(n.from,n.to,n.gapFrom,n.gapTo,oe.fromJSON(t,n.slice),n.insert,!!n.structure)}}An.jsonID("replaceAround",wn);function J1(e,t,n){let u=e.resolve(t),i=n-t,r=u.depth;for(;i>0&&r>0&&u.indexAfter(r)==u.node(r).childCount;)r--,i--;if(i>0){let o=u.node(r).maybeChild(u.indexAfter(r));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function OK(e,t,n,u){let i=[],r=[],o,s;e.doc.nodesBetween(t,n,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!u.isInSet(m)&&p.type.allowsMarkType(u.type)){let v=Math.max(d,t),b=Math.min(d+f.nodeSize,n),E=u.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(E)||(o&&o.to==v&&o.mark.eq(m[k])?o.to=b:i.push(o=new mu(v,b,m[k])));s&&s.to==v?s.to=b:r.push(s=new er(v,b,u))}}),i.forEach(f=>e.step(f)),r.forEach(f=>e.step(f))}function IK(e,t,n,u){let i=[],r=0;e.doc.nodesBetween(t,n,(o,s)=>{if(!o.isInline)return;r++;let f=null;if(u instanceof Lp){let d=o.marks,p;for(;p=u.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else u?u.isInSet(o.marks)&&(f=[u]):f=o.marks;if(f&&f.length){let d=Math.min(s+o.nodeSize,n);for(let p=0;p<f.length;p++){let m=f[p],v;for(let b=0;b<i.length;b++){let E=i[b];E.step==r-1&&m.eq(i[b].style)&&(v=E)}v?(v.to=d,v.step=r):i.push({style:m,from:Math.max(s,t),to:d,step:r})}}}),i.forEach(o=>e.step(new mu(o.from,o.to,o.style)))}function K3(e,t,n,u=n.contentMatch,i=!0){let r=e.doc.nodeAt(t),o=[],s=t+1;for(let f=0;f<r.childCount;f++){let d=r.child(f),p=s+d.nodeSize,m=u.matchType(d.type);if(!m)o.push(new rn(s,p,oe.empty));else{u=m;for(let v=0;v<d.marks.length;v++)n.allowsMarkType(d.marks[v].type)||e.step(new mu(s,p,d.marks[v]));if(i&&d.isText&&n.whitespace!="pre"){let v,b=/\r?\n|\r/g,E;for(;v=b.exec(d.text);)E||(E=new oe(ee.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),o.push(new rn(s+v.index,s+v.index+v[0].length,E))}}s=p}if(!u.validEnd){let f=u.fillBefore(ee.empty,!0);e.replace(s,s,new oe(f,0,0))}for(let f=o.length-1;f>=0;f--)e.step(o[f])}function MK(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Vp(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let u=e.depth,i=0,r=0;;--u){let o=e.$from.node(u),s=e.$from.index(u)+i,f=e.$to.indexAfter(u)-r;if(u<e.depth&&o.canReplace(s,f,n))return u;if(u==0||o.type.spec.isolating||!MK(o,s,f))break;s&&(i=1),f<o.childCount&&(r=1)}return null}function RK(e,t,n){let{$from:u,$to:i,depth:r}=t,o=u.before(r+1),s=i.after(r+1),f=o,d=s,p=ee.empty,m=0;for(let E=r,k=!1;E>n;E--)k||u.index(E)>0?(k=!0,p=ee.from(u.node(E).copy(p)),m++):f--;let v=ee.empty,b=0;for(let E=r,k=!1;E>n;E--)k||i.after(E+1)<i.end(E)?(k=!0,v=ee.from(i.node(E).copy(v)),b++):d++;e.step(new wn(f,d,o,s,new oe(p.append(v),m,b),p.size-m,!0))}function G3(e,t,n=null,u=e){let i=FK(e,t),r=i&&UK(u,t);return r?i.map(eS).concat({type:t,attrs:n}).concat(r.map(eS)):null}function eS(e){return{type:e,attrs:null}}function FK(e,t){let{parent:n,startIndex:u,endIndex:i}=e,r=n.contentMatchAt(u).findWrapping(t);if(!r)return null;let o=r.length?r[0]:t;return n.canReplaceWith(u,i,o)?r:null}function UK(e,t){let{parent:n,startIndex:u,endIndex:i}=e,r=n.child(u),o=t.contentMatch.findWrapping(r.type);if(!o)return null;let f=(o.length?o[o.length-1]:t).contentMatch;for(let d=u;f&&d<i;d++)f=f.matchType(n.child(d).type);return!f||!f.validEnd?null:o}function jK(e,t,n){let u=ee.empty;for(let o=n.length-1;o>=0;o--){if(u.size){let s=n[o].type.contentMatch.matchFragment(u);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}u=ee.from(n[o].type.create(n[o].attrs,u))}let i=t.start,r=t.end;e.step(new wn(i,r,i,r,new oe(u,0,0),n.length,!0))}function LK(e,t,n,u,i){if(!u.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=e.steps.length;e.doc.nodesBetween(t,n,(o,s)=>{let f=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(u,f)&&ZK(e.doc,e.mapping.slice(r).map(s),u)){let d=null;if(u.schema.linebreakReplacement){let b=u.whitespace=="pre",E=!!u.contentMatch.matchType(u.schema.linebreakReplacement);b&&!E?d=!1:!b&&E&&(d=!0)}d===!1&&oz(e,o,s,r),K3(e,e.mapping.slice(r).map(s,1),u,void 0,d===null);let p=e.mapping.slice(r),m=p.map(s,1),v=p.map(s+o.nodeSize,1);return e.step(new wn(m,v,m+1,v-1,new oe(ee.from(u.create(f,null,o.marks)),0,0),1,!0)),d===!0&&az(e,o,s,r),!1}})}function az(e,t,n,u){t.forEach((i,r)=>{if(i.isText){let o,s=/\r?\n|\r/g;for(;o=s.exec(i.text);){let f=e.mapping.slice(u).map(n+1+r+o.index);e.replaceWith(f,f+1,t.type.schema.linebreakReplacement.create())}}})}function oz(e,t,n,u){t.forEach((i,r)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(u).map(n+1+r);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function ZK(e,t,n){let u=e.resolve(t),i=u.index();return u.parent.canReplaceWith(i,i+1,n)}function PK(e,t,n,u,i){let r=e.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let o=n.create(u,null,i||r.marks);if(r.isLeaf)return e.replaceWith(t,t+r.nodeSize,o);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new wn(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new oe(ee.from(o),0,0),1,!0))}function kc(e,t,n=1,u){let i=e.resolve(t),r=i.depth-n,o=u&&u[u.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=n-2;d>r;d--,p--){let m=i.node(d),v=i.index(d);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(v,m.childCount),E=u&&u[p+1];E&&(b=b.replaceChild(0,E.type.create(E.attrs)));let k=u&&u[p]||m;if(!m.canReplace(v+1,m.childCount)||!k.type.validContent(b))return!1}let s=i.indexAfter(r),f=u&&u[0];return i.node(r).canReplaceWith(s,s,f?f.type:i.node(r+1).type)}function HK(e,t,n=1,u){let i=e.doc.resolve(t),r=ee.empty,o=ee.empty;for(let s=i.depth,f=i.depth-n,d=n-1;s>f;s--,d--){r=ee.from(i.node(s).copy(r));let p=u&&u[d];o=ee.from(p?p.type.create(p.attrs,o):i.node(s).copy(o))}e.step(new rn(t,t,new oe(r.append(o),n,n),!0))}function Jp(e,t){let n=e.resolve(t),u=n.index();return VK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(u,u+1)}function qK(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:u}=e.type.schema;for(let i=0;i<t.childCount;i++){let r=t.child(i),o=r.type==u?e.type.schema.nodes.text:r.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(r.marks))return!1}return n.validEnd}function VK(e,t){return!!(e&&t&&!e.isLeaf&&qK(e,t))}function JK(e,t,n){let u=null,{linebreakReplacement:i}=e.doc.type.schema,r=e.doc.resolve(t-n),o=r.node().type;if(i&&o.inlineContent){let p=o.whitespace=="pre",m=!!o.contentMatch.matchType(i);p&&!m?u=!1:!p&&m&&(u=!0)}let s=e.steps.length;if(u===!1){let p=e.doc.resolve(t+n);oz(e,p.node(),p.before(),s)}o.inlineContent&&K3(e,t+n-1,o,r.node().contentMatchAt(r.index()),u==null);let f=e.mapping.slice(s),d=f.map(t-n);if(e.step(new rn(d,f.map(t+n,-1),oe.empty,!0)),u===!0){let p=e.doc.resolve(d);az(e,p.node(),p.before(),e.steps.length)}return e}function KK(e,t,n){let u=e.resolve(t);if(u.parent.canReplaceWith(u.index(),u.index(),n))return t;if(u.parentOffset==0)for(let i=u.depth-1;i>=0;i--){let r=u.index(i);if(u.node(i).canReplaceWith(r,r,n))return u.before(i+1);if(r>0)return null}if(u.parentOffset==u.parent.content.size)for(let i=u.depth-1;i>=0;i--){let r=u.indexAfter(i);if(u.node(i).canReplaceWith(r,r,n))return u.after(i+1);if(r<u.node(i).childCount)return null}return null}function GK(e,t,n){let u=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let r=0;r<n.openStart;r++)i=i.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let o=u.depth;o>=0;o--){let s=o==u.depth?0:u.pos<=(u.start(o+1)+u.end(o+1))/2?-1:1,f=u.index(o)+(s>0?1:0),d=u.node(o),p=!1;if(r==1)p=d.canReplace(f,f,i);else{let m=d.contentMatchAt(f).findWrapping(i.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return s==0?u.pos:s<0?u.before(o+1):u.after(o+1)}return null}function Kp(e,t,n=t,u=oe.empty){if(t==n&&!u.size)return null;let i=e.resolve(t),r=e.resolve(n);return lz(i,r,u)?new rn(t,n,u):new YK(i,r,u).fit()}function lz(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class YK{constructor(t,n,u){this.$from=t,this.$to=n,this.unplaced=u,this.frontier=[],this.placed=ee.empty;for(let i=0;i<=t.depth;i++){let r=t.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=ee.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,u=this.$from,i=this.close(t<0?this.$to:u.doc.resolve(t));if(!i)return null;let r=this.placed,o=u.depth,s=i.depth;for(;o&&s&&r.childCount==1;)r=r.firstChild.content,o--,s--;let f=new oe(r,o,s);return t>-1?new wn(u.pos,t,this.$to.pos,this.$to.end(),f,n):f.size||u.pos!=this.$to.pos?new rn(u.pos,i.pos,f):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,u=0,i=this.unplaced.openEnd;u<t;u++){let r=n.firstChild;if(n.childCount>1&&(i=0),r.type.spec.isolating&&i<=u){t=u;break}n=r.content}for(let n=1;n<=2;n++)for(let u=n==1?t:this.unplaced.openStart;u>=0;u--){let i,r=null;u?(r=L4(this.unplaced.content,u-1).firstChild,i=r.content):i=this.unplaced.content;let o=i.firstChild;for(let s=this.depth;s>=0;s--){let{type:f,match:d}=this.frontier[s],p,m=null;if(n==1&&(o?d.matchType(o.type)||(m=d.fillBefore(ee.from(o),!1)):r&&f.compatibleContent(r.type)))return{sliceDepth:u,frontierDepth:s,parent:r,inject:m};if(n==2&&o&&(p=d.findWrapping(o.type)))return{sliceDepth:u,frontierDepth:s,parent:r,wrap:p};if(r&&d.matchType(r.type))break}}}openMore(){let{content:t,openStart:n,openEnd:u}=this.unplaced,i=L4(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new oe(t,n+1,Math.max(u,i.size+n>=t.size-u?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:u}=this.unplaced,i=L4(t,n);if(i.childCount<=1&&n>0){let r=t.size-n<=n+i.size;this.unplaced=new oe(pc(t,n-1,1),n-1,r?n-1:u)}else this.unplaced=new oe(pc(t,n,1),n,u)}placeNodes({sliceDepth:t,frontierDepth:n,parent:u,inject:i,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let k=0;k<r.length;k++)this.openFrontierNode(r[k]);let o=this.unplaced,s=u?u.content:o.content,f=o.openStart-t,d=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)p.push(i.child(k));m=m.matchFragment(i)}let b=s.size+t-(o.content.size-o.openEnd);for(;d<s.childCount;){let k=s.child(d),S=m.matchType(k.type);if(!S)break;d++,(d>1||f==0||k.content.size)&&(m=S,p.push(sz(k.mark(v.allowedMarks(k.marks)),d==1?f:0,d==s.childCount?b:-1)))}let E=d==s.childCount;E||(b=-1),this.placed=mc(this.placed,n,ee.from(p)),this.frontier[n].match=m,E&&b<0&&u&&u.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,S=s;k<b;k++){let w=S.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),S=w.content}this.unplaced=E?t==0?oe.empty:new oe(pc(o.content,t-1,1),t-1,b<0?o.openEnd:t-1):new oe(pc(o.content,t,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Z4(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:u}=this.$to,i=this.$to.after(u);for(;u>1&&i==this.$to.end(--u);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:u,type:i}=this.frontier[n],r=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=Z4(t,n,i,u,r);if(o){for(let s=n-1;s>=0;s--){let{match:f,type:d}=this.frontier[s],p=Z4(t,s,d,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:o,move:r?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=mc(this.placed,n.depth,n.fit)),t=n.move;for(let u=n.depth+1;u<=t.depth;u++){let i=t.node(u),r=i.type.contentMatch.fillBefore(i.content,!0,t.index(u));this.openFrontierNode(i.type,i.attrs,r)}return t}openFrontierNode(t,n=null,u){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=mc(this.placed,this.depth,ee.from(t.create(n,u))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ee.empty,!0);n.childCount&&(this.placed=mc(this.placed,this.frontier.length,n))}}function pc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(pc(e.firstChild.content,t-1,n)))}function mc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(mc(e.lastChild.content,t-1,n)))}function L4(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function sz(e,t,n){if(t<=0)return e;let u=e.content;return t>1&&(u=u.replaceChild(0,sz(u.firstChild,t-1,u.childCount==1?n-1:0))),t>0&&(u=e.type.contentMatch.fillBefore(u).append(u),n<=0&&(u=u.append(e.type.contentMatch.matchFragment(u).fillBefore(ee.empty,!0)))),e.copy(u)}function Z4(e,t,n,u,i){let r=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==r.childCount&&!n.compatibleContent(r.type))return null;let s=u.fillBefore(r.content,!0,o);return s&&!XK(n,r.content,o)?s:null}function XK(e,t,n){for(let u=n;u<t.childCount;u++)if(!e.allowsMarks(t.child(u).marks))return!0;return!1}function QK(e){return e.spec.defining||e.spec.definingForContent}function WK(e,t,n,u){if(!u.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),r=e.doc.resolve(n);if(lz(i,r,u))return e.step(new rn(t,n,u));let o=fz(i,r);o[o.length-1]==0&&o.pop();let s=-(i.depth+1);o.unshift(s);for(let v=i.depth,b=i.pos-1;v>0;v--,b--){let E=i.node(v).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;o.indexOf(v)>-1?s=v:i.before(v)==b&&o.splice(1,0,-v)}let f=o.indexOf(s),d=[],p=u.openStart;for(let v=u.content,b=0;;b++){let E=v.firstChild;if(d.push(E),b==u.openStart)break;v=E.content}for(let v=p-1;v>=0;v--){let b=d[v],E=QK(b.type);if(E&&!b.sameMarkup(i.node(Math.abs(s)-1)))p=v;else if(E||!b.type.isTextblock)break}for(let v=u.openStart;v>=0;v--){let b=(v+p+1)%(u.openStart+1),E=d[b];if(E)for(let k=0;k<o.length;k++){let S=o[(k+f)%o.length],w=!0;S<0&&(w=!1,S=-S);let U=i.node(S-1),$=i.index(S-1);if(U.canReplaceWith($,$,E.type,E.marks))return e.replace(i.before(S),w?r.after(S):n,new oe(cz(u.content,0,u.openStart,b),b,u.openEnd))}}let m=e.steps.length;for(let v=o.length-1;v>=0&&(e.replace(t,n,u),!(e.steps.length>m));v--){let b=o[v];b<0||(t=i.before(b),n=r.after(b))}}function cz(e,t,n,u,i){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(cz(r.content,t+1,n,u,r)))}if(t>u){let r=i.contentMatchAt(0),o=r.fillBefore(e).append(e);e=o.append(r.matchFragment(o).fillBefore(ee.empty,!0))}return e}function eG(e,t,n,u){if(!u.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=KK(e.doc,t,u.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new oe(ee.from(u),0,0))}function tG(e,t,n){let u=e.doc.resolve(t),i=e.doc.resolve(n),r=fz(u,i);for(let o=0;o<r.length;o++){let s=r[o],f=o==r.length-1;if(f&&s==0||u.node(s).type.contentMatch.validEnd)return e.delete(u.start(s),i.end(s));if(s>0&&(f||u.node(s-1).canReplace(u.index(s-1),i.indexAfter(s-1))))return e.delete(u.before(s),i.after(s))}for(let o=1;o<=u.depth&&o<=i.depth;o++)if(t-u.start(o)==u.depth-o&&n>u.end(o)&&i.end(o)-n!=i.depth-o&&u.start(o-1)==i.start(o-1)&&u.node(o-1).canReplace(u.index(o-1),i.index(o-1)))return e.delete(u.before(o),n);e.delete(t,n)}function fz(e,t){let n=[],u=Math.min(e.depth,t.depth);for(let i=u;i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}class vl extends An{constructor(t,n,u){super(),this.pos=t,this.attr=n,this.value=u}apply(t){let n=t.nodeAt(this.pos);if(!n)return Qt.fail("No node at attribute step's position");let u=Object.create(null);for(let r in n.attrs)u[r]=n.attrs[r];u[this.attr]=this.value;let i=n.type.create(u,null,n.marks);return Qt.fromReplace(t,this.pos,this.pos+1,new oe(ee.from(i),0,n.isLeaf?0:1))}getMap(){return hi.empty}invert(t){return new vl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new vl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vl(n.pos,n.attr,n.value)}}An.jsonID("attr",vl);class Pc extends An{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let u=t.type.create(n,t.content,t.marks);return Qt.ok(u)}getMap(){return hi.empty}invert(t){return new Pc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Pc(n.attr,n.value)}}An.jsonID("docAttr",Pc);let Pl=class extends Error{};Pl=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Pl.prototype=Object.create(Error.prototype);Pl.prototype.constructor=Pl;Pl.prototype.name="TransformError";class dz{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Zc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Pl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,u=oe.empty){let i=Kp(this.doc,t,n,u);return i&&this.step(i),this}replaceWith(t,n,u){return this.replace(t,n,new oe(ee.from(u),0,0))}delete(t,n){return this.replace(t,n,oe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,u){return WK(this,t,n,u),this}replaceRangeWith(t,n,u){return eG(this,t,n,u),this}deleteRange(t,n){return tG(this,t,n),this}lift(t,n){return RK(this,t,n),this}join(t,n=1){return JK(this,t,n),this}wrap(t,n){return jK(this,t,n),this}setBlockType(t,n=t,u,i=null){return LK(this,t,n,u,i),this}setNodeMarkup(t,n,u=null,i){return PK(this,t,n,u,i),this}setNodeAttribute(t,n,u){return this.step(new vl(t,n,u)),this}setDocAttribute(t,n){return this.step(new Pc(t,n)),this}addNodeMark(t,n){return this.step(new Kr(t,n)),this}removeNodeMark(t,n){let u=this.doc.nodeAt(t);if(!u)throw new RangeError("No node at position "+t);if(n instanceof tt)n.isInSet(u.marks)&&this.step(new lo(t,n));else{let i=u.marks,r,o=[];for(;r=n.isInSet(i);)o.push(new lo(t,r)),i=r.removeFromSet(i);for(let s=o.length-1;s>=0;s--)this.step(o[s])}return this}split(t,n=1,u){return HK(this,t,n,u),this}addMark(t,n,u){return OK(this,t,n,u),this}removeMark(t,n,u){return IK(this,t,n,u),this}clearIncompatible(t,n,u){return K3(this,t,n,u),this}}const P4=Object.create(null);class Ie{constructor(t,n,u){this.$anchor=t,this.$head=n,this.ranges=u||[new hz(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=oe.empty){let u=n.content.lastChild,i=null;for(let s=0;s<n.openEnd;s++)i=u,u=u.lastChild;let r=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:f,$to:d}=o[s],p=t.mapping.slice(r);t.replaceRange(p.map(f.pos),p.map(d.pos),s?oe.empty:n),s==0&&iS(t,r,(u?u.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let u=t.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:o,$to:s}=i[r],f=t.mapping.slice(u),d=f.map(o.pos),p=f.map(s.pos);r?t.deleteRange(d,p):(t.replaceRangeWith(d,p,n),iS(t,u,n.isInline?-1:1))}}static findFrom(t,n,u=!1){let i=t.parent.inlineContent?new Fe(t):hl(t.node(0),t.parent,t.pos,t.index(),n,u);if(i)return i;for(let r=t.depth-1;r>=0;r--){let o=n<0?hl(t.node(0),t.node(r),t.before(r+1),t.index(r),n,u):hl(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,n,u);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new gi(t.node(0))}static atStart(t){return hl(t,t,0,0,1)||new gi(t)}static atEnd(t){return hl(t,t,t.content.size,t.childCount,-1)||new gi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let u=P4[n.type];if(!u)throw new RangeError(`No selection type ${n.type} defined`);return u.fromJSON(t,n)}static jsonID(t,n){if(t in P4)throw new RangeError("Duplicate use of selection JSON ID "+t);return P4[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}}Ie.prototype.visible=!0;class hz{constructor(t,n){this.$from=t,this.$to=n}}let tS=!1;function nS(e){!tS&&!e.parent.inlineContent&&(tS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Fe extends Ie{constructor(t,n=t){nS(t),nS(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let u=t.resolve(n.map(this.head));if(!u.parent.inlineContent)return Ie.near(u);let i=t.resolve(n.map(this.anchor));return new Fe(i.parent.inlineContent?i:u,u)}replace(t,n=oe.empty){if(super.replace(t,n),n==oe.empty){let u=this.$from.marksAcross(this.$to);u&&t.ensureMarks(u)}}eq(t){return t instanceof Fe&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Gp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fe(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,u=n){let i=t.resolve(n);return new this(i,u==n?i:t.resolve(u))}static between(t,n,u){let i=t.pos-n.pos;if((!u||i)&&(u=i>=0?1:-1),!n.parent.inlineContent){let r=Ie.findFrom(n,u,!0)||Ie.findFrom(n,-u,!0);if(r)n=r.$head;else return Ie.near(n,u)}return t.parent.inlineContent||(i==0?t=n:(t=(Ie.findFrom(t,-u,!0)||Ie.findFrom(t,u,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Fe(t,n)}}Ie.jsonID("text",Fe);class Gp{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Gp(t.map(this.anchor),t.map(this.head))}resolve(t){return Fe.between(t.resolve(this.anchor),t.resolve(this.head))}}class ze extends Ie{constructor(t){let n=t.nodeAfter,u=t.node(0).resolve(t.pos+n.nodeSize);super(t,u),this.node=n}map(t,n){let{deleted:u,pos:i}=n.mapResult(this.anchor),r=t.resolve(i);return u?Ie.near(r):new ze(r)}content(){return new oe(ee.from(this.node),0,0)}eq(t){return t instanceof ze&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Y3(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ze(t.resolve(n.anchor))}static create(t,n){return new ze(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ze.prototype.visible=!1;Ie.jsonID("node",ze);class Y3{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:u}=t.mapResult(this.anchor);return n?new Gp(u,u):new Y3(u)}resolve(t){let n=t.resolve(this.anchor),u=n.nodeAfter;return u&&ze.isSelectable(u)?new ze(n):Ie.near(n)}}class gi extends Ie{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=oe.empty){if(n==oe.empty){t.delete(0,t.doc.content.size);let u=Ie.atStart(t.doc);u.eq(t.selection)||t.setSelection(u)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new gi(t)}map(t){return new gi(t)}eq(t){return t instanceof gi}getBookmark(){return nG}}Ie.jsonID("all",gi);const nG={map(){return this},resolve(e){return new gi(e)}};function hl(e,t,n,u,i,r=!1){if(t.inlineContent)return Fe.create(e,n);for(let o=u-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let s=t.child(o);if(s.isAtom){if(!r&&ze.isSelectable(s))return ze.create(e,n-(i<0?s.nodeSize:0))}else{let f=hl(e,s,n+i,i<0?s.childCount:0,i,r);if(f)return f}n+=s.nodeSize*i}return null}function iS(e,t,n){let u=e.steps.length-1;if(u<t)return;let i=e.steps[u];if(!(i instanceof rn||i instanceof wn))return;let r=e.mapping.maps[u],o;r.forEach((s,f,d,p)=>{o==null&&(o=p)}),e.setSelection(Ie.near(e.doc.resolve(o),n))}const uS=1,$0=2,rS=4;class iG extends dz{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|uS)&~$0,this.storedMarks=null,this}get selectionSet(){return(this.updated&uS)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=$0,this}ensureMarks(t){return tt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$0)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~$0,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let u=this.selection;return n&&(t=t.mark(this.storedMarks||(u.empty?u.$from.marks():u.$from.marksAcross(u.$to)||tt.none))),u.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,u){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(u==null&&(u=n),!t)return this.deleteRange(n,u);let r=this.storedMarks;if(!r){let o=this.doc.resolve(n);r=u==n?o.marks():o.marksAcross(this.doc.resolve(u))}return this.replaceRangeWith(n,u,i.text(t,r)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Ie.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=rS,this}get scrolledIntoView(){return(this.updated&rS)>0}}function aS(e,t){return!t||!e?e:e.bind(t)}class gc{constructor(t,n,u){this.name=t,this.init=aS(n.init,u),this.apply=aS(n.apply,u)}}const uG=[new gc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new gc("selection",{init(e,t){return e.selection||Ie.atStart(t.doc)},apply(e){return e.selection}}),new gc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,u){return u.selection.$cursor?e.storedMarks:null}}),new gc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class H4{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=uG.slice(),n&&n.forEach(u=>{if(this.pluginsByKey[u.key])throw new RangeError("Adding different instances of a keyed plugin ("+u.key+")");this.plugins.push(u),this.pluginsByKey[u.key]=u,u.spec.state&&this.fields.push(new gc(u.key,u.spec.state,u))})}}class Fa{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let u=0;u<this.config.plugins.length;u++)if(u!=n){let i=this.config.plugins[u];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],u=this.applyInner(t),i=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let s=this.config.plugins[o];if(s.spec.appendTransaction){let f=i?i[o].n:0,d=i?i[o].state:this,p=f<n.length&&s.spec.appendTransaction.call(s,f?n.slice(f):n,d,u);if(p&&u.filterTransaction(p,o)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<o?{state:u,n:n.length}:{state:this,n:0})}n.push(p),u=u.applyInner(p),r=!0}i&&(i[o]={state:u,n:n.length})}}if(!r)return{state:u,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Fa(this.config),u=this.config.fields;for(let i=0;i<u.length;i++){let r=u[i];n[r.name]=r.apply(t,this[r.name],this,n)}return n}get tr(){return new iG(this)}static create(t){let n=new H4(t.doc?t.doc.type.schema:t.schema,t.plugins),u=new Fa(n);for(let i=0;i<n.fields.length;i++)u[n.fields[i].name]=n.fields[i].init(t,u);return u}reconfigure(t){let n=new H4(this.schema,t.plugins),u=n.fields,i=new Fa(n);for(let r=0;r<u.length;r++){let o=u[r].name;i[o]=this.hasOwnProperty(o)?this[o]:u[r].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(u=>u.toJSON())),t&&typeof t=="object")for(let u in t){if(u=="doc"||u=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[u],r=i.spec.state;r&&r.toJSON&&(n[u]=r.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,u){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new H4(t.schema,t.plugins),r=new Fa(i);return i.fields.forEach(o=>{if(o.name=="doc")r.doc=Li.fromJSON(t.schema,n.doc);else if(o.name=="selection")r.selection=Ie.fromJSON(r.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(u)for(let s in u){let f=u[s],d=f.spec.state;if(f.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,s)){r[o.name]=d.fromJSON.call(f,t,n[s],r);return}}r[o.name]=o.init(t,r)}}),r}}function pz(e,t,n){for(let u in e){let i=e[u];i instanceof Function?i=i.bind(t):u=="handleDOMEvents"&&(i=pz(i,t,{})),n[u]=i}return n}class Bn{constructor(t){this.spec=t,this.props={},t.props&&pz(t.props,this,this.props),this.key=t.key?t.key.key:mz("plugin")}getState(t){return t[this.key]}}const q4=Object.create(null);function mz(e){return e in q4?e+"$"+ ++q4[e]:(q4[e]=0,e+"$")}class Dn{constructor(t="key"){this.key=mz(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const X3=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function gz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const yz=(e,t,n)=>{let u=gz(e,n);if(!u)return!1;let i=Q3(u);if(!i){let o=u.blockRange(),s=o&&Vp(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}let r=i.nodeBefore;if(Ez(e,i,t,-1))return!0;if(u.parent.content.size==0&&(Hl(r,"end")||ze.isSelectable(r)))for(let o=u.depth;;o--){let s=Kp(e.doc,u.before(o),u.after(o),oe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let f=e.tr.step(s);f.setSelection(Hl(r,"end")?Ie.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):ze.create(f.doc,i.pos-r.nodeSize)),t(f.scrollIntoView())}return!0}if(o==1||u.node(o-1).childCount>1)break}return r.isAtom&&i.depth==u.depth-1?(t&&t(e.tr.delete(i.pos-r.nodeSize,i.pos).scrollIntoView()),!0):!1},rG=(e,t,n)=>{let u=gz(e,n);if(!u)return!1;let i=Q3(u);return i?aG(e,i,t):!1};function aG(e,t,n){let u=t.nodeBefore,i=u,r=t.pos-1;for(;!i.isTextblock;r--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let o=t.nodeAfter,s=o,f=t.pos+1;for(;!s.isTextblock;f++){if(s.type.spec.isolating)return!1;let p=s.firstChild;if(!p)return!1;s=p}let d=Kp(e.doc,r,f,oe.empty);if(!d||d.from!=r||d instanceof rn&&d.slice.size>=f-r)return!1;if(n){let p=e.tr.step(d);p.setSelection(Fe.create(p.doc,r)),n(p.scrollIntoView())}return!0}function Hl(e,t,n=!1){for(let u=e;u;u=t=="start"?u.firstChild:u.lastChild){if(u.isTextblock)return!0;if(n&&u.childCount!=1)return!1}return!1}const vz=(e,t,n)=>{let{$head:u,empty:i}=e.selection,r=u;if(!i)return!1;if(u.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):u.parentOffset>0)return!1;r=Q3(u)}let o=r&&r.nodeBefore;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,r.pos-o.nodeSize)).scrollIntoView()),!0)};function Q3(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function oG(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const lG=(e,t,n)=>{let u=oG(e,n);if(!u)return!1;let i=bz(u);if(!i)return!1;let r=i.nodeAfter;if(Ez(e,i,t,1))return!0;if(u.parent.content.size==0&&(Hl(r,"start")||ze.isSelectable(r))){let o=Kp(e.doc,u.before(),u.after(),oe.empty);if(o&&o.slice.size<o.to-o.from){if(t){let s=e.tr.step(o);s.setSelection(Hl(r,"start")?Ie.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):ze.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView())}return!0}}return r.isAtom&&i.depth==u.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+r.nodeSize).scrollIntoView()),!0):!1},sG=(e,t,n)=>{let{$head:u,empty:i}=e.selection,r=u;if(!i)return!1;if(u.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):u.parentOffset<u.parent.content.size)return!1;r=bz(u)}let o=r&&r.nodeAfter;return!o||!ze.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ze.create(e.doc,r.pos)).scrollIntoView()),!0)};function bz(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const cG=(e,t)=>{let{$head:n,$anchor:u}=e.selection;return!n.parent.type.spec.code||!n.sameParent(u)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function W3(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const fG=(e,t)=>{let{$head:n,$anchor:u}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(u))return!1;let i=n.node(-1),r=n.indexAfter(-1),o=W3(i.contentMatchAt(r));if(!o||!i.canReplaceWith(r,r,o))return!1;if(t){let s=n.after(),f=e.tr.replaceWith(s,s,o.createAndFill());f.setSelection(Ie.near(f.doc.resolve(s),1)),t(f.scrollIntoView())}return!0},dG=(e,t)=>{let n=e.selection,{$from:u,$to:i}=n;if(n instanceof gi||u.parent.inlineContent||i.parent.inlineContent)return!1;let r=W3(i.parent.contentMatchAt(i.indexAfter()));if(!r||!r.isTextblock)return!1;if(t){let o=(!u.parentOffset&&i.index()<i.parent.childCount?u:i).pos,s=e.tr.insert(o,r.createAndFill());s.setSelection(Fe.create(s.doc,o+1)),t(s.scrollIntoView())}return!0},hG=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(kc(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let u=n.blockRange(),i=u&&Vp(u);return i==null?!1:(t&&t(e.tr.lift(u,i).scrollIntoView()),!0)};function pG(e){return(t,n)=>{let{$from:u,$to:i}=t.selection;if(t.selection instanceof ze&&t.selection.node.isBlock)return!u.parentOffset||!kc(t.doc,u.pos)?!1:(n&&n(t.tr.split(u.pos).scrollIntoView()),!0);if(!u.depth)return!1;let r=[],o,s,f=!1,d=!1;for(let b=u.depth;;b--)if(u.node(b).isBlock){f=u.end(b)==u.pos+(u.depth-b),d=u.start(b)==u.pos-(u.depth-b),s=W3(u.node(b-1).contentMatchAt(u.indexAfter(b-1))),r.unshift(f&&s?{type:s}:null),o=b;break}else{if(b==1)return!1;r.unshift(null)}let p=t.tr;(t.selection instanceof Fe||t.selection instanceof gi)&&p.deleteSelection();let m=p.mapping.map(u.pos),v=kc(p.doc,m,r.length,r);if(v||(r[0]=s?{type:s}:null,v=kc(p.doc,m,r.length,r)),!v)return!1;if(p.split(m,r.length,r),!f&&d&&u.node(o).type!=s){let b=p.mapping.map(u.before(o)),E=p.doc.resolve(b);s&&u.node(o-1).canReplaceWith(E.index(),E.index()+1,s)&&p.setNodeMarkup(p.mapping.map(u.before(o)),s)}return n&&n(p.scrollIntoView()),!0}}const mG=pG(),gG=(e,t)=>(t&&t(e.tr.setSelection(new gi(e.doc))),!0);function yG(e,t,n){let u=t.nodeBefore,i=t.nodeAfter,r=t.index();return!u||!i||!u.type.compatibleContent(i.type)?!1:!u.content.size&&t.parent.canReplace(r-1,r)?(n&&n(e.tr.delete(t.pos-u.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(r,r+1)||!(i.isTextblock||Jp(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Ez(e,t,n,u){let i=t.nodeBefore,r=t.nodeAfter,o,s,f=i.type.spec.isolating||r.type.spec.isolating;if(!f&&yG(e,t,n))return!0;let d=!f&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(o=(s=i.contentMatchAt(i.childCount)).findWrapping(r.type))&&s.matchType(o[0]||r.type).validEnd){if(n){let b=t.pos+r.nodeSize,E=ee.empty;for(let w=o.length-1;w>=0;w--)E=ee.from(o[w].create(null,E));E=ee.from(i.copy(E));let k=e.tr.step(new wn(t.pos-1,b,t.pos,b,new oe(E,1,0),o.length,!0)),S=k.doc.resolve(b+2*o.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Jp(k.doc,S.pos)&&k.join(S.pos),n(k.scrollIntoView())}return!0}let p=r.type.spec.isolating||u>0&&f?null:Ie.findFrom(t,1),m=p&&p.$from.blockRange(p.$to),v=m&&Vp(m);if(v!=null&&v>=t.depth)return n&&n(e.tr.lift(m,v).scrollIntoView()),!0;if(d&&Hl(r,"start",!0)&&Hl(i,"end")){let b=i,E=[];for(;E.push(b),!b.isTextblock;)b=b.lastChild;let k=r,S=1;for(;!k.isTextblock;k=k.firstChild)S++;if(b.canReplace(b.childCount,b.childCount,k.content)){if(n){let w=ee.empty;for(let $=E.length-1;$>=0;$--)w=ee.from(E[$].copy(w));let U=e.tr.step(new wn(t.pos-E.length,t.pos+r.nodeSize,t.pos+S,t.pos+r.nodeSize-S,new oe(w,E.length,0),0,!0));n(U.scrollIntoView())}return!0}}return!1}function Cz(e){return function(t,n){let u=t.selection,i=e<0?u.$from:u.$to,r=i.depth;for(;i.node(r).isInline;){if(!r)return!1;r--}return i.node(r).isTextblock?(n&&n(t.tr.setSelection(Fe.create(t.doc,e<0?i.start(r):i.end(r)))),!0):!1}}const vG=Cz(-1),bG=Cz(1);function eb(e,t=null){return function(n,u){let{$from:i,$to:r}=n.selection,o=i.blockRange(r),s=o&&G3(o,e,t);return s?(u&&u(n.tr.wrap(o,s).scrollIntoView()),!0):!1}}function Hc(e,t=null){return function(n,u){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];n.doc.nodesBetween(o,s,(f,d)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(e,t)))if(f.type==e)i=!0;else{let p=n.doc.resolve(d),m=p.index();i=p.parent.canReplaceWith(m,m+1,e)}})}if(!i)return!1;if(u){let r=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:s},$to:{pos:f}}=n.selection.ranges[o];r.setBlockType(s,f,e,t)}u(r.scrollIntoView())}return!0}}function EG(e,t,n,u){for(let i=0;i<t.length;i++){let{$from:r,$to:o}=t[i],s=r.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(r.pos,o.pos,(f,d)=>{if(s)return!1;s=f.inlineContent&&f.type.allowsMarkType(n)}),s)return!0}return!1}function Yp(e,t=null,n){return function(u,i){let{empty:r,$cursor:o,ranges:s}=u.selection;if(r&&!o||!EG(u.doc,s,e))return!1;if(i)if(o)e.isInSet(u.storedMarks||o.marks())?i(u.tr.removeStoredMark(e)):i(u.tr.addStoredMark(e.create(t)));else{let f,d=u.tr;f=!s.some(p=>u.doc.rangeHasMark(p.$from.pos,p.$to.pos,e));for(let p=0;p<s.length;p++){let{$from:m,$to:v}=s[p];if(!f)d.removeMark(m.pos,v.pos,e);else{let b=m.pos,E=v.pos,k=m.nodeAfter,S=v.nodeBefore,w=k&&k.isText?/^\s*/.exec(k.text)[0].length:0,U=S&&S.isText?/\s*$/.exec(S.text)[0].length:0;b+w<E&&(b+=w,E-=U),d.addMark(b,E,e.create(t))}}i(d.scrollIntoView())}return!0}}function Xl(...e){return function(t,n,u){for(let i=0;i<e.length;i++)if(e[i](t,n,u))return!0;return!1}}let V4=Xl(X3,yz,vz),oS=Xl(X3,lG,sG);const Ju={Enter:Xl(cG,dG,hG,mG),"Mod-Enter":fG,Backspace:V4,"Mod-Backspace":V4,"Shift-Backspace":V4,Delete:oS,"Mod-Delete":oS,"Mod-a":gG},Dz={"Ctrl-h":Ju.Backspace,"Alt-Backspace":Ju["Mod-Backspace"],"Ctrl-d":Ju.Delete,"Ctrl-Alt-Backspace":Ju["Mod-Delete"],"Alt-Delete":Ju["Mod-Delete"],"Alt-d":Ju["Mod-Delete"],"Ctrl-a":vG,"Ctrl-e":bG};for(let e in Ju)Dz[e]=Ju[e];const CG=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,DG=CG?Dz:Ju;class Di{constructor(t,n,u={}){this.match=t,this.match=t,this.handler=typeof n=="string"?kG(n):n,this.undoable=u.undoable!==!1,this.inCode=u.inCode||!1,this.inCodeMark=u.inCodeMark!==!1}}function kG(e){return function(t,n,u,i){let r=e;if(n[1]){let o=n[0].lastIndexOf(n[1]);r+=n[0].slice(o+n[1].length),u+=o;let s=u-i;s>0&&(r=n[0].slice(o-s,o)+r,u=i)}return t.tr.insertText(r,u,i)}}const xG=(e,t)=>{let n=e.plugins;for(let u=0;u<n.length;u++){let i=n[u],r;if(i.spec.isInputRules&&(r=i.getState(e))){if(t){let o=e.tr,s=r.transform;for(let f=s.steps.length-1;f>=0;f--)o.step(s.steps[f].invert(s.docs[f]));if(r.text){let f=o.doc.resolve(r.from).marks();o.replaceWith(r.from,r.to,e.schema.text(r.text,f))}else o.delete(r.from,r.to);t(o)}return!0}}return!1};new Di(/--$/,"",{inCodeMark:!1});new Di(/\.\.\.$/,"",{inCodeMark:!1});new Di(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new Di(/"$/,"",{inCodeMark:!1});new Di(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new Di(/'$/,"",{inCodeMark:!1});function tb(e,t,n=null,u){return new Di(e,(i,r,o,s)=>{let f=n instanceof Function?n(r):n,d=i.tr.delete(o,s),p=d.doc.resolve(o),m=p.blockRange(),v=m&&G3(m,t,f);if(!v)return null;d.wrap(m,v);let b=d.doc.resolve(o-1).nodeBefore;return b&&b.type==t&&Jp(d.doc,o-1)&&(!u||u(r,b))&&d.join(o-1),d})}function kz(e,t,n=null){return new Di(e,(u,i,r,o)=>{let s=u.doc.resolve(r),f=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?u.tr.delete(r,o).setBlockType(r,r,t,f):null})}const ra=typeof navigator<"u"?navigator:null,lS=typeof document<"u"?document:null,vo=ra&&ra.userAgent||"",K1=/Edge\/(\d+)/.exec(vo),xz=/MSIE \d/.exec(vo),G1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),nb=!!(xz||G1||K1);xz?document.documentMode:G1?+G1[1]:K1&&+K1[1];const SG=!nb&&/gecko\/(\d+)/i.test(vo);SG&&+(/Firefox\/(\d+)/.exec(vo)||[0,0])[1];const sS=!nb&&/Chrome\/(\d+)/.exec(vo);sS&&+sS[1];const wG=!nb&&!!ra&&/Apple Computer/.test(ra.vendor),_G=wG&&(/Mobile\/\w+/.test(vo)||!!ra&&ra.maxTouchPoints>2);_G||ra&&/Mac/.test(ra.platform);const AG=!!lS&&"webkitFontSmoothing"in lS.documentElement.style;AG&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];function J4(e,t,n,u,i,r){if(e.composing)return!1;const o=e.state,s=o.doc.resolve(t);if(s.parent.type.spec.code)return!1;const f=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"")+u;for(let d of i){const p=d,m=p.match.exec(f),v=m&&m[0]&&p.handler(o,m,t-(m[0].length-u.length),n);if(v)return p.undoable!==!1&&v.setMeta(r,{transform:v,from:t,to:n,text:u}),e.dispatch(v),!0}return!1}const BG=new Dn("MILKDOWN_CUSTOM_INPUTRULES");function TG({rules:e}){const t=new Bn({key:BG,isInputRules:!0,state:{init(){return null},apply(n,u){const i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:u)}},props:{handleTextInput(n,u,i,r){return J4(n,u,i,r,e,t)},handleDOMEvents:{compositionend:n=>(setTimeout(()=>{const{$cursor:u}=n.state.selection;u&&J4(n,u.pos,u.pos,"",e,t)}),!1)},handleKeyDown(n,u){if(u.key!=="Enter")return!1;const{$cursor:i}=n.state.selection;return i?J4(n,i.pos,i.pos,`
`,e,t):!1}}});return t}function Lf(e,t,n={}){return new Di(e,(u,i,r,o)=>{var s,f,d,p;const{tr:m}=u,v=i.length;let b=i[v-1],E=i[0],k=[],S=o;const w={group:b,fullMatch:E,start:r,end:o},U=(s=n.updateCaptured)==null?void 0:s.call(n,w);if(Object.assign(w,U),{group:b,fullMatch:E,start:r,end:o}=w,E===null||(b==null?void 0:b.trim())==="")return null;if(b){const $=E.search(/\S/),Q=r+E.indexOf(b),ue=Q+b.length;k=(f=m.storedMarks)!=null?f:[],ue<o&&m.delete(ue,o),Q>r&&m.delete(r+$,Q),S=r+$+b.length;const N=(d=n.getAttr)==null?void 0:d.call(n,i);m.addMark(r,S,t.create(N)),m.setStoredMarks(k),(p=n.beforeDispatch)==null||p.call(n,{match:i,start:r,end:o,tr:m})}return m})}function Sz(e){return Object.assign(Object.create(e),e).setTime(Date.now())}function zG(e,t){return Array.isArray(e)&&e.includes(t.type)||t.type===e}function NG(e){if(e.content.childCount===1){const t=e.content.firstChild;if((t==null?void 0:t.type.name)==="text"&&t.marks.length===0)return t;if((t==null?void 0:t.type.name)==="paragraph"&&t.childCount===1){const n=t.firstChild;if((n==null?void 0:n.type.name)==="text"&&n.marks.length===0)return n}}return!1}function $G(e){return t=>{for(let n=t.depth;n>0;n-=1){const u=t.node(n);if(e(u)){const i=t.before(n),r=t.after(n);return{from:i,to:r,node:u}}}}}function OG(e,t){return $G(n=>n.type===t)(e)}function IG(e,t){const n=t.nodes[e];if(!n)throw xH("node",e);return n}function MG(e){return t=>{for(let n=t.depth;n>0;n--){const u=t.node(n);if(e(u))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:u}}}}function RG(e,t){if(!(e instanceof ze))return;const{node:n,$from:u}=e;if(zG(t,n))return{node:n,pos:u.pos,start:u.start(u.depth),depth:u.depth}}const FG=(e,t)=>{const{selection:n,doc:u}=e;if(n instanceof ze)return{hasNode:n.node.type===t,pos:n.from,target:n.node};const{from:i,to:r}=n;let o=!1,s=-1,f=null;return u.nodesBetween(i,r,(d,p)=>f?!1:d.type===t?(o=!0,s=p,f=d,!1):!0),{hasNode:o,pos:s,target:f}};var aa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ah={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},UG=typeof navigator<"u"&&/Mac/.test(navigator.platform),jG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pn=0;pn<10;pn++)aa[48+pn]=aa[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)aa[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)aa[pn]=String.fromCharCode(pn+32),Ah[pn]=String.fromCharCode(pn);for(var K4 in aa)Ah.hasOwnProperty(K4)||(Ah[K4]=aa[K4]);function LG(e){var t=UG&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||jG&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Ah:aa)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const ZG=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),PG=typeof navigator<"u"&&/Win/.test(navigator.platform);function HG(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let u,i,r,o;for(let s=0;s<t.length-1;s++){let f=t[s];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))u=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))r=!0;else if(/^mod$/i.test(f))ZG?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return u&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function qG(e){let t=Object.create(null);for(let n in e)t[HG(n)]=e[n];return t}function G4(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function VG(e){return new Bn({props:{handleKeyDown:wz(e)}})}function wz(e){let t=qG(e);return function(n,u){let i=LG(u),r,o=t[G4(i,u)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(u.shiftKey){let s=t[G4(i,u,!1)];if(s&&s(n.state,n.dispatch,n))return!0}if((u.altKey||u.metaKey||u.ctrlKey)&&!(PG&&u.ctrlKey&&u.altKey)&&(r=aa[u.keyCode])&&r!=i){let s=t[G4(r,u)];if(s&&s(n.state,n.dispatch,n))return!0}}return!1}}const mn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ql=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Y1=null;const Vu=function(e,t,n){let u=Y1||(Y1=document.createRange());return u.setEnd(e,n??e.nodeValue.length),u.setStart(e,t||0),u},JG=function(){Y1=null},so=function(e,t,n,u){return n&&(cS(e,t,n,u,-1)||cS(e,t,n,u,1))},KG=/^(img|br|input|textarea|hr)$/i;function cS(e,t,n,u,i){for(var r;;){if(e==n&&t==u)return!0;if(t==(i<0?0:Ui(e))){let o=e.parentNode;if(!o||o.nodeType!=1||Zf(e)||KG.test(e.nodeName)||e.contentEditable=="false")return!1;t=mn(e)+(i<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((r=o.pmViewDesc)===null||r===void 0)&&r.ignoreForSelection)t+=i;else return!1;else e=o,t=i<0?Ui(e):0}else return!1}}function Ui(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function GG(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ui(e)}else if(e.parentNode&&!Zf(e))t=mn(e),e=e.parentNode;else return null}}function YG(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Zf(e))t=mn(e)+1,e=e.parentNode;else return null}}function XG(e,t,n){for(let u=t==0,i=t==Ui(e);u||i;){if(e==n)return!0;let r=mn(e);if(e=e.parentNode,!e)return!1;u=u&&r==0,i=i&&r==Ui(e)}}function Zf(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Xp=function(e){return e.focusNode&&so(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ia(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function QG(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function WG(e,t,n){if(e.caretPositionFromPoint)try{let u=e.caretPositionFromPoint(t,n);if(u)return{node:u.offsetNode,offset:Math.min(Ui(u.offsetNode),u.offset)}}catch{}if(e.caretRangeFromPoint){let u=e.caretRangeFromPoint(t,n);if(u)return{node:u.startContainer,offset:Math.min(Ui(u.startContainer),u.startOffset)}}}const yu=typeof navigator<"u"?navigator:null,fS=typeof document<"u"?document:null,ca=yu&&yu.userAgent||"",X1=/Edge\/(\d+)/.exec(ca),_z=/MSIE \d/.exec(ca),Q1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ca),Xn=!!(_z||Q1||X1),Xr=_z?document.documentMode:Q1?+Q1[1]:X1?+X1[1]:0,Zi=!Xn&&/gecko\/(\d+)/i.test(ca);Zi&&+(/Firefox\/(\d+)/.exec(ca)||[0,0])[1];const W1=!Xn&&/Chrome\/(\d+)/.exec(ca),an=!!W1,Az=W1?+W1[1]:0,bn=!Xn&&!!yu&&/Apple Computer/.test(yu.vendor),Vl=bn&&(/Mobile\/\w+/.test(ca)||!!yu&&yu.maxTouchPoints>2),Ri=Vl||(yu?/Mac/.test(yu.platform):!1),Bz=yu?/Win/.test(yu.platform):!1,tr=/Android \d/.test(ca),Pf=!!fS&&"webkitFontSmoothing"in fS.documentElement.style,eY=Pf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function tY(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Pu(e,t){return typeof e=="number"?e:e[t]}function nY(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,u=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*u}}function dS(e,t,n){let u=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,r=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=ql(o);continue}let s=o,f=s==r.body,d=f?tY(r):nY(s),p=0,m=0;if(t.top<d.top+Pu(u,"top")?m=-(d.top-t.top+Pu(i,"top")):t.bottom>d.bottom-Pu(u,"bottom")&&(m=t.bottom-t.top>d.bottom-d.top?t.top+Pu(i,"top")-d.top:t.bottom-d.bottom+Pu(i,"bottom")),t.left<d.left+Pu(u,"left")?p=-(d.left-t.left+Pu(i,"left")):t.right>d.right-Pu(u,"right")&&(p=t.right-d.right+Pu(i,"right")),p||m)if(f)r.defaultView.scrollBy(p,m);else{let b=s.scrollLeft,E=s.scrollTop;m&&(s.scrollTop+=m),p&&(s.scrollLeft+=p);let k=s.scrollLeft-b,S=s.scrollTop-E;t={left:t.left-k,top:t.top-S,right:t.right-k,bottom:t.bottom-S}}let v=f?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(v))break;o=v=="absolute"?o.offsetParent:ql(o)}}function iY(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),u,i;for(let r=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let s=e.root.elementFromPoint(r,o);if(!s||s==e.dom||!e.dom.contains(s))continue;let f=s.getBoundingClientRect();if(f.top>=n-20){u=s,i=f.top;break}}return{refDOM:u,refTop:i,stack:Tz(e.dom)}}function Tz(e){let t=[],n=e.ownerDocument;for(let u=e;u&&(t.push({dom:u,top:u.scrollTop,left:u.scrollLeft}),e!=n);u=ql(u));return t}function uY({refDOM:e,refTop:t,stack:n}){let u=e?e.getBoundingClientRect().top:0;zz(n,u==0?0:u-t)}function zz(e,t){for(let n=0;n<e.length;n++){let{dom:u,top:i,left:r}=e[n];u.scrollTop!=i+t&&(u.scrollTop=i+t),u.scrollLeft!=r&&(u.scrollLeft=r)}}let cl=null;function rY(e){if(e.setActive)return e.setActive();if(cl)return e.focus(cl);let t=Tz(e);e.focus(cl==null?{get preventScroll(){return cl={preventScroll:!0},!0}}:void 0),cl||(cl=!1,zz(t,0))}function Nz(e,t){let n,u=2e8,i,r=0,o=t.top,s=t.top,f,d;for(let p=e.firstChild,m=0;p;p=p.nextSibling,m++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=Vu(p).getClientRects();else continue;for(let b=0;b<v.length;b++){let E=v[b];if(E.top<=o&&E.bottom>=s){o=Math.max(E.bottom,o),s=Math.min(E.top,s);let k=E.left>t.left?E.left-t.left:E.right<t.left?t.left-E.right:0;if(k<u){n=p,u=k,i=k&&n.nodeType==3?{left:E.right<t.left?E.right:E.left,top:t.top}:t,p.nodeType==1&&k&&(r=m+(t.left>=(E.left+E.right)/2?1:0));continue}}else E.top>t.top&&!f&&E.left<=t.left&&E.right>=t.left&&(f=p,d={left:Math.max(E.left,Math.min(E.right,t.left)),top:E.top});!n&&(t.left>=E.right&&t.top>=E.top||t.left>=E.left&&t.top>=E.bottom)&&(r=m+1)}}return!n&&f&&(n=f,i=d,u=0),n&&n.nodeType==3?aY(n,i):!n||u&&n.nodeType==1?{node:e,offset:r}:Nz(n,i)}function aY(e,t){let n=e.nodeValue.length,u=document.createRange(),i;for(let r=0;r<n;r++){u.setEnd(e,r+1),u.setStart(e,r);let o=Ur(u,1);if(o.top!=o.bottom&&ib(t,o)){i={node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)};break}}return u.detach(),i||{node:e,offset:0}}function ib(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function oY(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function lY(e,t,n){let{node:u,offset:i}=Nz(t,n),r=-1;if(u.nodeType==1&&!u.firstChild){let o=u.getBoundingClientRect();r=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(u,i,r)}function sY(e,t,n,u){let i=-1;for(let r=t,o=!1;r!=e.dom;){let s=e.docView.nearestDesc(r,!0),f;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((f=s.dom.getBoundingClientRect()).width||f.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!o&&f.left>u.left||f.top>u.top?i=s.posBefore:(!o&&f.right<u.left||f.bottom<u.top)&&(i=s.posAfter),o=!0),!s.contentDOM&&i<0&&!s.node.isText))return(s.node.isBlock?u.top<(f.top+f.bottom)/2:u.left<(f.left+f.right)/2)?s.posBefore:s.posAfter;r=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function $z(e,t,n){let u=e.childNodes.length;if(u&&n.top<n.bottom)for(let i=Math.max(0,Math.min(u-1,Math.floor(u*(t.top-n.top)/(n.bottom-n.top))-2)),r=i;;){let o=e.childNodes[r];if(o.nodeType==1){let s=o.getClientRects();for(let f=0;f<s.length;f++){let d=s[f];if(ib(t,d))return $z(o,t,d)}}if((r=(r+1)%u)==i)break}return e}function cY(e,t){let n=e.dom.ownerDocument,u,i=0,r=WG(n,t.left,t.top);r&&({node:u,offset:i}=r);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=e.dom.getBoundingClientRect();if(!ib(t,d)||(o=$z(e.dom,t,d),!o))return null}if(bn)for(let d=o;u&&d;d=ql(d))d.draggable&&(u=void 0);if(o=oY(o,t),u){if(Zi&&u.nodeType==1&&(i=Math.min(i,u.childNodes.length),i<u.childNodes.length)){let p=u.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&i++}let d;Pf&&i&&u.nodeType==1&&(d=u.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&i--,u==e.dom&&i==u.childNodes.length-1&&u.lastChild.nodeType==1&&t.top>u.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||u.nodeType!=1||u.childNodes[i-1].nodeName!="BR")&&(s=sY(e,u,i,t))}s==null&&(s=lY(e,o,t));let f=e.docView.nearestDesc(o,!0);return{pos:s,inside:f?f.posAtStart-f.border:-1}}function hS(e){return e.top<e.bottom||e.left<e.right}function Ur(e,t){let n=e.getClientRects();if(n.length){let u=n[t<0?0:n.length-1];if(hS(u))return u}return Array.prototype.find.call(n,hS)||e.getBoundingClientRect()}const fY=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Oz(e,t,n){let{node:u,offset:i,atom:r}=e.docView.domFromPos(t,n<0?-1:1),o=Pf||Zi;if(u.nodeType==3)if(o&&(fY.test(u.nodeValue)||(n<0?!i:i==u.nodeValue.length))){let f=Ur(Vu(u,i,i),n);if(Zi&&i&&/\s/.test(u.nodeValue[i-1])&&i<u.nodeValue.length){let d=Ur(Vu(u,i-1,i-1),-1);if(d.top==f.top){let p=Ur(Vu(u,i,i+1),-1);if(p.top!=f.top)return ic(p,p.left<d.left)}}return f}else{let f=i,d=i,p=n<0?1:-1;return n<0&&!i?(d++,p=-1):n>=0&&i==u.nodeValue.length?(f--,p=1):n<0?f--:d++,ic(Ur(Vu(u,f,d),p),p<0)}if(!e.state.doc.resolve(t-(r||0)).parent.inlineContent){if(r==null&&i&&(n<0||i==Ui(u))){let f=u.childNodes[i-1];if(f.nodeType==1)return Y4(f.getBoundingClientRect(),!1)}if(r==null&&i<Ui(u)){let f=u.childNodes[i];if(f.nodeType==1)return Y4(f.getBoundingClientRect(),!0)}return Y4(u.getBoundingClientRect(),n>=0)}if(r==null&&i&&(n<0||i==Ui(u))){let f=u.childNodes[i-1],d=f.nodeType==3?Vu(f,Ui(f)-(o?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return ic(Ur(d,1),!1)}if(r==null&&i<Ui(u)){let f=u.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Vu(f,0,o?0:1):f.nodeType==1?f:null:null;if(d)return ic(Ur(d,-1),!0)}return ic(Ur(u.nodeType==3?Vu(u):u,-n),n>=0)}function ic(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Y4(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Iz(e,t,n){let u=e.state,i=e.root.activeElement;u!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{u!=t&&e.updateState(u),i!=e.dom&&i&&i.focus()}}function dY(e,t,n){let u=t.selection,i=n=="up"?u.$from:u.$to;return Iz(e,t,()=>{let{node:r}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let s=e.docView.nearestDesc(r,!0);if(!s)break;if(s.node.isBlock){r=s.contentDOM||s.dom;break}r=s.dom.parentNode}let o=Oz(e,i.pos,1);for(let s=r.firstChild;s;s=s.nextSibling){let f;if(s.nodeType==1)f=s.getClientRects();else if(s.nodeType==3)f=Vu(s,0,s.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(n=="up"?o.top-p.top>(p.bottom-o.top)*2:p.bottom-o.bottom>(o.bottom-p.top)*2))return!1}}return!0})}const hY=/[\u0590-\u08ac]/;function pY(e,t,n){let{$head:u}=t.selection;if(!u.parent.isTextblock)return!1;let i=u.parentOffset,r=!i,o=i==u.parent.content.size,s=e.domSelection();return s?!hY.test(u.parent.textContent)||!s.modify?n=="left"||n=="backward"?r:o:Iz(e,t,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=e.domSelectionRange(),v=s.caretBidiLevel;s.modify("move",n,"character");let b=u.depth?e.docView.domAfterPos(u.before()):e.dom,{focusNode:E,focusOffset:k}=e.domSelectionRange(),S=E&&!b.contains(E.nodeType==1?E:E.parentNode)||f==E&&d==k;try{s.collapse(p,m),f&&(f!=p||d!=m)&&s.extend&&s.extend(f,d)}catch{}return v!=null&&(s.caretBidiLevel=v),S}):u.pos==u.start()||u.pos==u.end()}let pS=null,mS=null,gS=!1;function mY(e,t,n){return pS==t&&mS==n?gS:(pS=t,mS=n,gS=n=="up"||n=="down"?dY(e,t,n):pY(e,t,n))}const Pi=0,yS=1,Ua=2,vu=3;class Hf{constructor(t,n,u,i){this.parent=t,this.children=n,this.dom=u,this.contentDOM=i,this.dirty=Pi,u.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,u){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,u=this.posAtStart;;n++){let i=this.children[n];if(i==t)return u;u+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,u){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(u<0){let r,o;if(t==this.contentDOM)r=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}else{let r,o;if(t==this.contentDOM)r=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.nextSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>mn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=t;;r=r.parentNode){if(r==this.dom){i=!1;break}if(r.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let r=t;;r=r.parentNode){if(r==this.dom){i=!0;break}if(r.nextSibling)break}}return i??u>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let u=!0,i=t;i;i=i.parentNode){let r=this.getDesc(i),o;if(r&&(!n||r.node))if(u&&(o=r.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))u=!1;else return r}}getDesc(t){let n=t.pmViewDesc;for(let u=n;u;u=u.parent)if(u==this)return n}posFromDOM(t,n,u){for(let i=t;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(t,n,u)}return-1}descAt(t){for(let n=0,u=0;n<this.children.length;n++){let i=this.children[n],r=u+i.size;if(u==t&&r!=u){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let s=i.children[o];if(s.size){i=s;break}}return i}if(t<r)return i.descAt(t-u-i.border);u=r}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let u=0,i=0;for(let r=0;u<this.children.length;u++){let o=this.children[u],s=r+o.size;if(s>t||o instanceof Rz){i=t-r;break}r=s}if(i)return this.children[u].domFromPos(i-this.children[u].border,n);for(let r;u&&!(r=this.children[u-1]).size&&r instanceof Mz&&r.side>=0;u--);if(n<=0){let r,o=!0;for(;r=u?this.children[u-1]:null,!(!r||r.dom.parentNode==this.contentDOM);u--,o=!1);return r&&n&&o&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?mn(r.dom)+1:0}}else{let r,o=!0;for(;r=u<this.children.length?this.children[u]:null,!(!r||r.dom.parentNode==this.contentDOM);u++,o=!1);return r&&o&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?mn(r.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,u=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let o=u,s=0;;s++){let f=this.children[s],d=o+f.size;if(i==-1&&t<=d){let p=o+f.border;if(t>=p&&n<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(t,n,p);t=o;for(let m=s;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=mn(v.dom)+1;break}t-=v.size}i==-1&&(i=0)}if(i>-1&&(d>n||s==this.children.length-1)){n=d;for(let p=s+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){r=mn(m.dom);break}n+=m.size}r==-1&&(r=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:r}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:u}=this.domFromPos(t,0);if(n.nodeType!=1||u==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[u]}setSelection(t,n,u,i=!1){let r=Math.min(t,n),o=Math.max(t,n);for(let b=0,E=0;b<this.children.length;b++){let k=this.children[b],S=E+k.size;if(r>E&&o<S)return k.setSelection(t-E-k.border,n-E-k.border,u,i);E=S}let s=this.domFromPos(t,t?-1:1),f=n==t?s:this.domFromPos(n,n?-1:1),d=u.root.getSelection(),p=u.domSelectionRange(),m=!1;if((Zi||bn)&&t==n){let{node:b,offset:E}=s;if(b.nodeType==3){if(m=!!(E&&b.nodeValue[E-1]==`
`),m&&E==b.nodeValue.length)for(let k=b,S;k;k=k.parentNode){if(S=k.nextSibling){S.nodeName=="BR"&&(s=f={node:S.parentNode,offset:mn(S)+1});break}let w=k.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let k=b.childNodes[E-1];m=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Zi&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||m&&bn)&&so(s.node,s.offset,p.anchorNode,p.anchorOffset)&&so(f.node,f.offset,p.focusNode,p.focusOffset))return;let v=!1;if((d.extend||t==n)&&!(m&&Zi)){d.collapse(s.node,s.offset);try{t!=n&&d.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(t>n){let E=s;s=f,f=E}let b=document.createRange();b.setEnd(f.node,f.offset),b.setStart(s.node,s.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let u=0,i=0;i<this.children.length;i++){let r=this.children[i],o=u+r.size;if(u==o?t<=o&&n>=u:t<o&&n>u){let s=u+r.border,f=o-r.border;if(t>=s&&n<=f){this.dirty=t==u||n==o?Ua:yS,t==s&&n==f&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=vu:r.markDirty(t-s,n-s);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?Ua:vu}u=o}this.dirty=Ua}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let u=t==1?Ua:yS;n.dirty<u&&(n.dirty=u)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class Mz extends Hf{constructor(t,n,u,i){let r,o=n.type.toDOM;if(typeof o=="function"&&(o=o(u,()=>{if(!r)return i;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(o.nodeType!=1){let s=document.createElement("span");s.appendChild(o),o=s}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,r=this}matchesWidget(t){return this.dirty==Pi&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class gY extends Hf{constructor(t,n,u,i){super(t,[],n,null),this.textDOM=u,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class co extends Hf{constructor(t,n,u,i,r){super(t,[],u,i),this.mark=n,this.spec=r}static create(t,n,u,i){let r=i.nodeViews[n.type.name],o=r&&r(n,i,u);return(!o||!o.dom)&&(o=yo.renderSpec(document,n.type.spec.toDOM(n,u),null,n.attrs)),new co(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&vu||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=vu&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Pi){let u=this.parent;for(;!u.node;)u=u.parent;u.dirty<this.dirty&&(u.dirty=this.dirty),this.dirty=Pi}}slice(t,n,u){let i=co.create(this.parent,this.mark,!0,u),r=this.children,o=this.size;n<o&&(r=ty(r,n,o,u)),t>0&&(r=ty(r,0,t,u));for(let s=0;s<r.length;s++)r[s].parent=i;return i.children=r,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Qr extends Hf{constructor(t,n,u,i,r,o,s,f,d){super(t,[],r,o),this.node=n,this.outerDeco=u,this.innerDeco=i,this.nodeDOM=s}static create(t,n,u,i,r,o){let s=r.nodeViews[n.type.name],f,d=s&&s(n,r,()=>{if(!f)return o;if(f.parent)return f.parent.posBeforeChild(f)},u,i),p=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=yo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=jz(p,u,n),d?f=new yY(t,n,u,i,p,m||null,v,d,r,o+1):n.isText?new Qp(t,n,u,i,p,v,r):new Qr(t,n,u,i,p,m||null,v,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let u=this.children[n];if(this.dom.contains(u.dom.parentNode)){t.contentElement=u.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ee.empty)}return t}matchesNode(t,n,u){return this.dirty==Pi&&t.eq(this.node)&&Bh(n,this.outerDeco)&&u.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let u=this.node.inlineContent,i=n,r=t.composing?this.localCompositionInfo(t,n):null,o=r&&r.pos>-1?r:null,s=r&&r.pos<0,f=new bY(this,o&&o.node,t);DY(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,u,t,p):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?tt.none:this.node.child(p).marks,u,t,p),f.placeWidget(d,t,i)},(d,p,m,v)=>{f.syncToMarks(d.marks,u,t,v);let b;f.findNodeMatch(d,p,m,v)||s&&t.state.selection.from>i&&t.state.selection.to<i+d.nodeSize&&(b=f.findIndexWithChild(r.node))>-1&&f.updateNodeAt(d,p,m,b,t)||f.updateNextNode(d,p,m,t,v,i)||f.addNode(d,p,m,t,i),i+=d.nodeSize}),f.syncToMarks([],u,t,0),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ua)&&(o&&this.protectLocalComposition(t,o),Fz(this.contentDOM,this.children,t),Vl&&kY(this.dom))}localCompositionInfo(t,n){let{from:u,to:i}=t.state.selection;if(!(t.state.selection instanceof Fe)||u<n||i>n+this.node.content.size)return null;let r=t.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let o=r.nodeValue,s=xY(this.node.content,o,u-n,i-n);return s<0?null:{node:r,pos:s,text:o}}else return{node:r,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:u,text:i}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new gY(this,r,n,i);t.input.compositionNodes.push(o),this.children=ty(this.children,u,u+i.length,t,o)}update(t,n,u,i){return this.dirty==vu||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,u,i),!0)}updateInner(t,n,u,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=u,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Pi}updateOuterDeco(t){if(Bh(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,u=this.dom;this.dom=Uz(this.dom,this.nodeDOM,ey(this.outerDeco,this.node,n),ey(t,this.node,n)),this.dom!=u&&(u.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function vS(e,t,n,u,i){jz(u,t,e);let r=new Qr(void 0,e,t,n,u,u,u,i,0);return r.contentDOM&&r.updateChildren(i,0),r}class Qp extends Qr{constructor(t,n,u,i,r,o,s){super(t,n,u,i,r,null,o,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,u,i){return this.dirty==vu||this.dirty!=Pi&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Pi||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Pi,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,u){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,u)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,u){let i=this.node.cut(t,n),r=document.createTextNode(i.text);return new Qp(this.parent,i,this.outerDeco,this.innerDeco,r,r,u)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=vu)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Rz extends Hf{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Pi&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yY extends Qr{constructor(t,n,u,i,r,o,s,f,d,p){super(t,n,u,i,r,o,s,d,p),this.spec=f}update(t,n,u,i){if(this.dirty==vu)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let r=this.spec.update(t,n,u);return r&&this.updateInner(t,n,u,i),r}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,u,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,u,i){this.spec.setSelection?this.spec.setSelection(t,n,u.root):super.setSelection(t,n,u,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Fz(e,t,n){let u=e.firstChild,i=!1;for(let r=0;r<t.length;r++){let o=t[r],s=o.dom;if(s.parentNode==e){for(;s!=u;)u=bS(u),i=!0;u=u.nextSibling}else i=!0,e.insertBefore(s,u);if(o instanceof co){let f=u?u.previousSibling:e.lastChild;Fz(o.contentDOM,o.children,n),u=f?f.nextSibling:e.firstChild}}for(;u;)u=bS(u),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const xc=function(e){e&&(this.nodeName=e)};xc.prototype=Object.create(null);const ja=[new xc];function ey(e,t,n){if(e.length==0)return ja;let u=n?ja[0]:new xc,i=[u];for(let r=0;r<e.length;r++){let o=e[r].type.attrs;if(o){o.nodeName&&i.push(u=new xc(o.nodeName));for(let s in o){let f=o[s];f!=null&&(n&&i.length==1&&i.push(u=new xc(t.isInline?"span":"div")),s=="class"?u.class=(u.class?u.class+" ":"")+f:s=="style"?u.style=(u.style?u.style+";":"")+f:s!="nodeName"&&(u[s]=f))}}}return i}function Uz(e,t,n,u){if(n==ja&&u==ja)return t;let i=t;for(let r=0;r<u.length;r++){let o=u[r],s=n[r];if(r){let f;s&&s.nodeName==o.nodeName&&i!=e&&(f=i.parentNode)&&f.nodeName.toLowerCase()==o.nodeName||(f=document.createElement(o.nodeName),f.pmIsDeco=!0,f.appendChild(i),s=ja[0]),i=f}vY(i,s||ja[0],o)}return i}function vY(e,t,n){for(let u in t)u!="class"&&u!="style"&&u!="nodeName"&&!(u in n)&&e.removeAttribute(u);for(let u in n)u!="class"&&u!="style"&&u!="nodeName"&&n[u]!=t[u]&&e.setAttribute(u,n[u]);if(t.class!=n.class){let u=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<u.length;r++)i.indexOf(u[r])==-1&&e.classList.remove(u[r]);for(let r=0;r<i.length;r++)u.indexOf(i[r])==-1&&e.classList.add(i[r]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=u.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function jz(e,t,n){return Uz(e,e,ja,ey(t,n,e.nodeType!=1))}function Bh(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function bS(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class bY{constructor(t,n,u){this.lock=n,this.view=u,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=EY(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let u=t;u<n;u++)this.top.children[u].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,u,i){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Pi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let f=-1,d=this.top.children.length;i<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let p=this.index;p<d;p++){let m=this.top.children[p];if(m.matchesMark(t[o])&&!this.isLocked(m.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=co.create(this.top,t[o],n,u);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,u,i){let r=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,u))r=this.top.children.indexOf(o,this.index);else for(let s=this.index,f=Math.min(this.top.children.length,s+5);s<f;s++){let d=this.top.children[s];if(d.matchesNode(t,n,u)&&!this.preMatch.matched.has(d)){r=s;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(t,n,u,i,r){let o=this.top.children[i];return o.dirty==vu&&o.dom==o.contentDOM&&(o.dirty=Ua),o.update(t,n,u,r)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let u=t.pmViewDesc;if(u){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==u)return i}return-1}t=n}}updateNextNode(t,n,u,i,r,o){for(let s=this.index;s<this.top.children.length;s++){let f=this.top.children[s];if(f instanceof Qr){let d=this.preMatch.matched.get(f);if(d!=null&&d!=r)return!1;let p=f.dom,m,v=this.isLocked(p)&&!(t.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==t.text&&f.dirty!=vu&&Bh(n,f.outerDeco));if(!v&&f.update(t,n,u,i))return this.destroyBetween(this.index,s),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(m=this.recreateWrapper(f,t,n,u,i,o)))return this.destroyBetween(this.index,s),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ua,m.updateChildren(i,o+1),m.dirty=Pi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,u,i,r,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Bh(u,t.outerDeco)||!i.eq(t.innerDeco))return null;let s=Qr.create(this.top,n,u,i,r,o);if(s.contentDOM){s.children=t.children,t.children=[];for(let f of s.children)f.parent=s}return t.destroy(),s}addNode(t,n,u,i,r){let o=Qr.create(this.top,t,n,u,i,r);o.contentDOM&&o.updateChildren(i,r+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,u){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let r=new Mz(this.top,t,n,u);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof co;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Qp)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((bn||an)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let u=document.createElement(t);t=="IMG"&&(u.className="ProseMirror-separator",u.alt=""),t=="BR"&&(u.className="ProseMirror-trailingBreak");let i=new Rz(this.top,[],u,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function EY(e,t){let n=t,u=n.children.length,i=e.childCount,r=new Map,o=[];e:for(;i>0;){let s;for(;;)if(u){let d=n.children[u-1];if(d instanceof co)n=d,u=d.children.length;else{s=d,u--;break}}else{if(n==t)break e;u=n.parent.children.indexOf(n),n=n.parent}let f=s.node;if(f){if(f!=e.child(i-1))break;--i,r.set(s,i),o.push(s)}}return{index:i,matched:r,matches:o.reverse()}}function CY(e,t){return e.type.side-t.type.side}function DY(e,t,n,u){let i=t.locals(e),r=0;if(i.length==0){for(let d=0;d<e.childCount;d++){let p=e.child(d);u(p,i,t.forChild(r,p),d),r+=p.nodeSize}return}let o=0,s=[],f=null;for(let d=0;;){let p,m;for(;o<i.length&&i[o].to==r;){let S=i[o++];S.widget&&(p?(m||(m=[p])).push(S):p=S)}if(p)if(m){m.sort(CY);for(let S=0;S<m.length;S++)n(m[S],d,!!f)}else n(p,d,!!f);let v,b;if(f)b=-1,v=f,f=null;else if(d<e.childCount)b=d,v=e.child(d++);else break;for(let S=0;S<s.length;S++)s[S].to<=r&&s.splice(S--,1);for(;o<i.length&&i[o].from<=r&&i[o].to>r;)s.push(i[o++]);let E=r+v.nodeSize;if(v.isText){let S=E;o<i.length&&i[o].from<S&&(S=i[o].from);for(let w=0;w<s.length;w++)s[w].to<S&&(S=s[w].to);S<E&&(f=v.cut(S-r),v=v.cut(0,S-r),E=S,b=-1)}else for(;o<i.length&&i[o].to<E;)o++;let k=v.isInline&&!v.isLeaf?s.filter(S=>!S.inline):s.slice();u(v,k,t.forChild(r,v),b),r=E}}function kY(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function xY(e,t,n,u){for(let i=0,r=0;i<e.childCount&&r<=u;){let o=e.child(i++),s=r;if(r+=o.nodeSize,!o.isText)continue;let f=o.text;for(;i<e.childCount;){let d=e.child(i++);if(r+=d.nodeSize,!d.isText)break;f+=d.text}if(r>=n){if(r>=u&&f.slice(u-t.length-s,u-s)==t)return u-t.length;let d=s<u?f.lastIndexOf(t,u-s-1):-1;if(d>=0&&d+t.length+s>=n)return s+d;if(n==u&&f.length>=u+t.length-s&&f.slice(u-s,u-s+t.length)==t)return u}}return-1}function ty(e,t,n,u,i){let r=[];for(let o=0,s=0;o<e.length;o++){let f=e[o],d=s,p=s+=f.size;d>=n||p<=t?r.push(f):(d<t&&r.push(f.slice(0,t-d,u)),i&&(r.push(i),i=void 0),p>n&&r.push(f.slice(n-d,f.size,u)))}return r}function ub(e,t=null){let n=e.domSelectionRange(),u=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),r=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let s=u.resolve(o),f,d;if(Xp(n)){for(f=o;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&ze.isSelectable(m)&&i.parent&&!(m.isInline&&XG(n.focusNode,n.focusOffset,i.dom))){let v=i.posBefore;d=new ze(o==v?s:u.resolve(v))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,v=o;for(let b=0;b<n.rangeCount;b++){let E=n.getRangeAt(b);m=Math.min(m,e.docView.posFromDOM(E.startContainer,E.startOffset,1)),v=Math.max(v,e.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(m<0)return null;[f,o]=v==e.state.selection.anchor?[v,m]:[m,v],s=u.resolve(o)}else f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=u.resolve(f);if(!d){let m=t=="pointer"||e.state.selection.head<s.pos&&!r?1:-1;d=rb(e,p,s,m)}return d}function Lz(e){return e.editable?e.hasFocus():Pz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function nr(e,t=!1){let n=e.state.selection;if(Zz(e,n),!!Lz(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&an){let u=e.domSelectionRange(),i=e.domObserver.currentSelection;if(u.anchorNode&&i.anchorNode&&so(u.anchorNode,u.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)wY(e);else{let{anchor:u,head:i}=n,r,o;ES&&!(n instanceof Fe)&&(n.$from.parent.inlineContent||(r=CS(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=CS(e,n.to))),e.docView.setSelection(u,i,e,t),ES&&(r&&DS(r),o&&DS(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&SY(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const ES=bn||an&&Az<63;function CS(e,t){let{node:n,offset:u}=e.docView.domFromPos(t,0),i=u<n.childNodes.length?n.childNodes[u]:null,r=u?n.childNodes[u-1]:null;if(bn&&i&&i.contentEditable=="false")return X4(i);if((!i||i.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(i)return X4(i);if(r)return X4(r)}}function X4(e){return e.contentEditable="true",bn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function DS(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function SY(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),u=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=u||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Lz(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function wY(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,u=n.nodeName=="IMG";u?t.collapse(n.parentNode,mn(n)+1):t.collapse(n,0),!u&&!e.state.selection.visible&&Xn&&Xr<=11&&(n.disabled=!0,n.disabled=!1)}function Zz(e,t){if(t instanceof ze){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(kS(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else kS(e)}function kS(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function rb(e,t,n,u){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Fe.between(t,n,u)}function xS(e){return e.editable&&!e.hasFocus()?!1:Pz(e)}function Pz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function _Y(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return so(t.node,t.offset,n.anchorNode,n.anchorOffset)}function ny(e,t){let{$anchor:n,$head:u}=e.selection,i=t>0?n.max(u):n.min(u),r=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return r&&Ie.findFrom(r,t)}function jr(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function SS(e,t,n){let u=e.state.selection;if(u instanceof Fe)if(n.indexOf("s")>-1){let{$head:i}=u,r=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+r.nodeSize*(t<0?-1:1));return jr(e,new Fe(u.$anchor,o))}else if(u.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=ny(e.state,t);return i&&i instanceof ze?jr(e,i):!1}else if(!(Ri&&n.indexOf("m")>-1)){let i=u.$head,r=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!r||r.isText)return!1;let s=t<0?i.pos-r.nodeSize:i.pos;return r.isAtom||(o=e.docView.descAt(s))&&!o.contentDOM?ze.isSelectable(r)?jr(e,new ze(t<0?e.state.doc.resolve(i.pos-r.nodeSize):i)):Pf?jr(e,new Fe(e.state.doc.resolve(t<0?s:s+r.nodeSize))):!1:!1}}else return!1;else{if(u instanceof ze&&u.node.isInline)return jr(e,new Fe(t>0?u.$to:u.$from));{let i=ny(e.state,t);return i?jr(e,i):!1}}}function Th(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Sc(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function fl(e,t){return t<0?AY(e):BY(e)}function AY(e){let t=e.domSelectionRange(),n=t.focusNode,u=t.focusOffset;if(!n)return;let i,r,o=!1;for(Zi&&n.nodeType==1&&u<Th(n)&&Sc(n.childNodes[u],-1)&&(o=!0);;)if(u>0){if(n.nodeType!=1)break;{let s=n.childNodes[u-1];if(Sc(s,-1))i=n,r=--u;else if(s.nodeType==3)n=s,u=n.nodeValue.length;else break}}else{if(Hz(n))break;{let s=n.previousSibling;for(;s&&Sc(s,-1);)i=n.parentNode,r=mn(s),s=s.previousSibling;if(s)n=s,u=Th(n);else{if(n=n.parentNode,n==e.dom)break;u=0}}}o?iy(e,n,u):i&&iy(e,i,r)}function BY(e){let t=e.domSelectionRange(),n=t.focusNode,u=t.focusOffset;if(!n)return;let i=Th(n),r,o;for(;;)if(u<i){if(n.nodeType!=1)break;let s=n.childNodes[u];if(Sc(s,1))r=n,o=++u;else break}else{if(Hz(n))break;{let s=n.nextSibling;for(;s&&Sc(s,1);)r=s.parentNode,o=mn(s)+1,s=s.nextSibling;if(s)n=s,u=0,i=Th(n);else{if(n=n.parentNode,n==e.dom)break;u=i=0}}}r&&iy(e,r,o)}function Hz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function TY(e,t){for(;e&&t==e.childNodes.length&&!Zf(e);)t=mn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function zY(e,t){for(;e&&!t&&!Zf(e);)t=mn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function iy(e,t,n){if(t.nodeType!=3){let r,o;(o=TY(t,n))?(t=o,n=0):(r=zY(t,n))&&(t=r,n=r.nodeValue.length)}let u=e.domSelection();if(!u)return;if(Xp(u)){let r=document.createRange();r.setEnd(t,n),r.setStart(t,n),u.removeAllRanges(),u.addRange(r)}else u.extend&&u.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&nr(e)},50)}function wS(e,t){let n=e.state.doc.resolve(t);if(!(an||Bz)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let r=e.coordsAtPos(t-1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left<i.left?"ltr":"rtl"}if(t<n.end()){let r=e.coordsAtPos(t+1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function _S(e,t,n){let u=e.state.selection;if(u instanceof Fe&&!u.empty||n.indexOf("s")>-1||Ri&&n.indexOf("m")>-1)return!1;let{$from:i,$to:r}=u;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=ny(e.state,t);if(o&&o instanceof ze)return jr(e,o)}if(!i.parent.inlineContent){let o=t<0?i:r,s=u instanceof gi?Ie.near(o,t):Ie.findFrom(o,t);return s?jr(e,s):!1}return!1}function AS(e,t){if(!(e.state.selection instanceof Fe))return!0;let{$head:n,$anchor:u,empty:i}=e.state.selection;if(!n.sameParent(u))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let o=e.state.tr;return t<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),e.dispatch(o),!0}return!1}function BS(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function NY(e){if(!bn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let u=t.firstChild;BS(e,u,"true"),setTimeout(()=>BS(e,u,"false"),20)}return!1}function $Y(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function OY(e,t){let n=t.keyCode,u=$Y(t);if(n==8||Ri&&n==72&&u=="c")return AS(e,-1)||fl(e,-1);if(n==46&&!t.shiftKey||Ri&&n==68&&u=="c")return AS(e,1)||fl(e,1);if(n==13||n==27)return!0;if(n==37||Ri&&n==66&&u=="c"){let i=n==37?wS(e,e.state.selection.from)=="ltr"?-1:1:-1;return SS(e,i,u)||fl(e,i)}else if(n==39||Ri&&n==70&&u=="c"){let i=n==39?wS(e,e.state.selection.from)=="ltr"?1:-1:1;return SS(e,i,u)||fl(e,i)}else{if(n==38||Ri&&n==80&&u=="c")return _S(e,-1,u)||fl(e,-1);if(n==40||Ri&&n==78&&u=="c")return NY(e)||_S(e,1,u)||fl(e,1);if(u==(Ri?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ab(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let n=[],{content:u,openStart:i,openEnd:r}=t;for(;i>1&&r>1&&u.childCount==1&&u.firstChild.childCount==1;){i--,r--;let b=u.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),u=b.content}let o=e.someProp("clipboardSerializer")||yo.fromSchema(e.state.schema),s=Yz(),f=s.createElement("div");f.appendChild(o.serializeFragment(u,{document:s}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=Gz[d.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let E=s.createElement(p[b]);for(;f.firstChild;)E.appendChild(f.firstChild);f.appendChild(E),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${r}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:f,text:v,slice:t}}function qz(e,t,n,u,i){let r=i.parent.type.spec.code,o,s;if(!n&&!t)return null;let f=!!t&&(u||r||!n);if(f){if(e.someProp("transformPastedText",v=>{t=v(t,r||u,e)}),r)return s=new oe(ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",v=>{s=v(s,e,!0)}),s;let m=e.someProp("clipboardTextParser",v=>v(t,i,u,e));if(m)s=m;else{let v=i.marks(),{schema:b}=e.state,E=yo.fromSchema(b);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(k=>{let S=o.appendChild(document.createElement("p"));k&&S.appendChild(E.serializeNode(b.text(k,v)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),o=FY(n),Pf&&UY(o);let d=o&&o.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let v=o.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;o=v}if(s||(s=(e.someProp("clipboardParser")||e.someProp("domParser")||ao.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(f||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!IY.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)s=jY(TS(s,+p[1],+p[2]),p[4]);else if(s=oe.maxOpen(MY(s.content,i),!0),s.openStart||s.openEnd){let m=0,v=0;for(let b=s.content.firstChild;m<s.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=s.content.lastChild;v<s.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);s=TS(s,m,v)}return e.someProp("transformPasted",m=>{s=m(s,e,f)}),s}const IY=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function MY(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),r,o=[];if(e.forEach(s=>{if(!o)return;let f=i.findWrapping(s.type),d;if(!f)return o=null;if(d=o.length&&r.length&&Jz(f,r,s,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=Kz(o[o.length-1],r.length));let p=Vz(s,f);o.push(p),i=i.matchType(p.type),r=f}}),o)return ee.from(o)}return e}function Vz(e,t,n=0){for(let u=t.length-1;u>=n;u--)e=t[u].create(null,ee.from(e));return e}function Jz(e,t,n,u,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let r=Jz(e,t,n,u.lastChild,i+1);if(r)return u.copy(u.content.replaceChild(u.childCount-1,r));if(u.contentMatchAt(u.childCount).matchType(i==e.length-1?n.type:e[i+1]))return u.copy(u.content.append(ee.from(Vz(n,e,i+1))))}}function Kz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Kz(e.lastChild,t-1)),u=e.contentMatchAt(e.childCount).fillBefore(ee.empty,!0);return e.copy(n.append(u))}function uy(e,t,n,u,i,r){let o=t<0?e.firstChild:e.lastChild,s=o.content;return e.childCount>1&&(r=0),i<u-1&&(s=uy(s,t,n,u,i+1,r)),i>=n&&(s=t<0?o.contentMatchAt(0).fillBefore(s,r<=i).append(s):s.append(o.contentMatchAt(o.childCount).fillBefore(ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(s))}function TS(e,t,n){return t<e.openStart&&(e=new oe(uy(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new oe(uy(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Gz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zS=null;function Yz(){return zS||(zS=document.implementation.createHTMLDocument("title"))}let Q4=null;function RY(e){let t=window.trustedTypes;return t?(Q4||(Q4=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Q4.createHTML(e)):e}function FY(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Yz().createElement("div"),u=/<([a-z][^>\s]+)/i.exec(e),i;if((i=u&&Gz[u[1].toLowerCase()])&&(e=i.map(r=>"<"+r+">").join("")+e+i.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=RY(e),i)for(let r=0;r<i.length;r++)n=n.querySelector(i[r])||n;return n}function UY(e){let t=e.querySelectorAll(an?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let u=t[n];u.childNodes.length==1&&u.textContent==""&&u.parentNode&&u.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),u)}}function jY(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,u;try{u=JSON.parse(t)}catch{return e}let{content:i,openStart:r,openEnd:o}=e;for(let s=u.length-2;s>=0;s-=2){let f=n.nodes[u[s]];if(!f||f.hasRequiredAttrs())break;i=ee.from(f.create(u[s+1],i)),r++,o++}return new oe(i,r,o)}const In={},Mn={},LY={touchstart:!0,touchmove:!0};class ZY{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PY(e){for(let t in In){let n=In[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=u=>{qY(e,u)&&!ob(e,u)&&(e.editable||!(u.type in Mn))&&n(e,u)},LY[t]?{passive:!0}:void 0)}bn&&e.dom.addEventListener("input",()=>null),ry(e)}function Gr(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function HY(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ry(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=u=>ob(e,u))})}function ob(e,t){return e.someProp("handleDOMEvents",n=>{let u=n[t.type];return u?u(e,t)||t.defaultPrevented:!1})}function qY(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function VY(e,t){!ob(e,t)&&In[t.type]&&(e.editable||!(t.type in Mn))&&In[t.type](e,t)}Mn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!Qz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(tr&&an&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Vl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let u=Date.now();e.input.lastIOSEnter=u,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==u&&(e.someProp("handleKeyDown",i=>i(e,Ia(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",u=>u(e,n))||OY(e,n)?n.preventDefault():Gr(e,"key")};Mn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Mn.keypress=(e,t)=>{let n=t;if(Qz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ri&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let u=e.state.selection;if(!(u instanceof Fe)||!u.$from.sameParent(u.$to)){let i=String.fromCharCode(n.charCode),r=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,u.$from.pos,u.$to.pos,i,r))&&e.dispatch(r()),n.preventDefault()}};function Wp(e){return{left:e.clientX,top:e.clientY}}function JY(e,t){let n=t.x-e.clientX,u=t.y-e.clientY;return n*n+u*u<100}function lb(e,t,n,u,i){if(u==-1)return!1;let r=e.state.doc.resolve(u);for(let o=r.depth+1;o>0;o--)if(e.someProp(t,s=>o>r.depth?s(e,n,r.nodeAfter,r.before(o),i,!0):s(e,n,r.node(o),r.before(o),i,!1)))return!0;return!1}function bl(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let u=e.state.tr.setSelection(t);u.setMeta("pointer",!0),e.dispatch(u)}function KY(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),u=n.nodeAfter;return u&&u.isAtom&&ze.isSelectable(u)?(bl(e,new ze(n)),!0):!1}function GY(e,t){if(t==-1)return!1;let n=e.state.selection,u,i;n instanceof ze&&(u=n.node);let r=e.state.doc.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o);if(ze.isSelectable(s)){u&&n.$from.depth>0&&o>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?i=r.before(n.$from.depth):i=r.before(o);break}}return i!=null?(bl(e,ze.create(e.state.doc,i)),!0):!1}function YY(e,t,n,u,i){return lb(e,"handleClickOn",t,n,u)||e.someProp("handleClick",r=>r(e,t,u))||(i?GY(e,n):KY(e,n))}function XY(e,t,n,u){return lb(e,"handleDoubleClickOn",t,n,u)||e.someProp("handleDoubleClick",i=>i(e,t,u))}function QY(e,t,n,u){return lb(e,"handleTripleClickOn",t,n,u)||e.someProp("handleTripleClick",i=>i(e,t,u))||WY(e,n,u)}function WY(e,t,n){if(n.button!=0)return!1;let u=e.state.doc;if(t==-1)return u.inlineContent?(bl(e,Fe.create(u,0,u.content.size)),!0):!1;let i=u.resolve(t);for(let r=i.depth+1;r>0;r--){let o=r>i.depth?i.nodeAfter:i.node(r),s=i.before(r);if(o.inlineContent)bl(e,Fe.create(u,s+1,s+1+o.content.size));else if(ze.isSelectable(o))bl(e,ze.create(u,s));else continue;return!0}}function sb(e){return zh(e)}const Xz=Ri?"metaKey":"ctrlKey";In.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let u=sb(e),i=Date.now(),r="singleClick";i-e.input.lastClick.time<500&&JY(n,e.input.lastClick)&&!n[Xz]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?r="doubleClick":e.input.lastClick.type=="doubleClick"&&(r="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:r,button:n.button};let o=e.posAtCoords(Wp(n));o&&(r=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new eX(e,o,n,!!u)):(r=="doubleClick"?XY:QY)(e,o.pos,o.inside,n)?n.preventDefault():Gr(e,"pointer"))};class eX{constructor(t,n,u,i){this.view=t,this.pos=n,this.event=u,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!u[Xz],this.allowDefault=u.shiftKey;let r,o;if(n.inside>-1)r=t.state.doc.nodeAt(n.inside),o=n.inside;else{let p=t.state.doc.resolve(n.pos);r=p.parent,o=p.depth?p.before():0}const s=i?null:u.target,f=s?t.docView.nearestDesc(s,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:d}=t.state;(u.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||d instanceof ze&&d.from<=o&&d.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Wp(t))),this.updateAllowDefault(t),this.allowDefault||!n?Gr(this.view,"pointer"):YY(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||bn&&this.mightDrag&&!this.mightDrag.node.isAtom||an&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(bl(this.view,Ie.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Gr(this.view,"pointer")}move(t){this.updateAllowDefault(t),Gr(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}In.touchstart=e=>{e.input.lastTouch=Date.now(),sb(e),Gr(e,"pointer")};In.touchmove=e=>{e.input.lastTouch=Date.now(),Gr(e,"pointer")};In.contextmenu=e=>sb(e);function Qz(e,t){return e.composing?!0:bn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const tX=tr?5e3:-1;Mn.compositionstart=Mn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Fe&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(u=>u.type.spec.inclusive===!1)||an&&Bz&&nX(e)))e.markCursor=e.state.storedMarks||n.marks(),zh(e,!0),e.markCursor=null;else if(zh(e,!t.selection.empty),Zi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let u=e.domSelectionRange();for(let i=u.focusNode,r=u.focusOffset;i&&i.nodeType==1&&r!=0;){let o=r<0?i.lastChild:i.childNodes[r-1];if(!o)break;if(o.nodeType==3){let s=e.domSelection();s&&s.collapse(o,o.nodeValue.length);break}else i=o,r=-1}}e.input.composing=!0}Wz(e,tX)};function nX(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let u=t.childNodes[n];return u.nodeType==1&&u.contentEditable=="false"}Mn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Wz(e,20))};function Wz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>zh(e),t))}function eN(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=uX());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function iX(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=GG(t.focusNode,t.focusOffset),u=YG(t.focusNode,t.focusOffset);if(n&&u&&n!=u){let i=u.pmViewDesc,r=e.domObserver.lastChangedTextNode;if(n==r||u==r)return r;if(!i||!i.isText(u.nodeValue))return u;if(e.input.compositionNode==u){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return u}}return n||u}function uX(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function zh(e,t=!1){if(!(tr&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),eN(e),t||e.docView&&e.docView.dirty){let n=ub(e),u=e.state.selection;return n&&!n.eq(u)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!u.$from.node(u.$from.sharedDepth(u.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function rX(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let u=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),u.removeAllRanges(),u.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const qc=Xn&&Xr<15||Vl&&eY<604;In.copy=Mn.cut=(e,t)=>{let n=t,u=e.state.selection,i=n.type=="cut";if(u.empty)return;let r=qc?null:n.clipboardData,o=u.content(),{dom:s,text:f}=ab(e,o);r?(n.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",f)):rX(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function aX(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function oX(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,u=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(u.contentEditable="true"),u.style.cssText="position: fixed; left: -10000px; top: 10px",u.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),u.parentNode&&u.parentNode.removeChild(u),n?Vc(e,u.value,null,i,t):Vc(e,u.textContent,u.innerHTML,i,t)},50)}function Vc(e,t,n,u,i){let r=qz(e,t,n,u,e.state.selection.$from);if(e.someProp("handlePaste",f=>f(e,i,r||oe.empty)))return!0;if(!r)return!1;let o=aX(r),s=o?e.state.tr.replaceSelectionWith(o,u):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tN(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Mn.paste=(e,t)=>{let n=t;if(e.composing&&!tr)return;let u=qc?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;u&&Vc(e,tN(u),u.getData("text/html"),i,n)?n.preventDefault():oX(e,n)};class nN{constructor(t,n,u){this.slice=t,this.move=n,this.node=u}}const lX=Ri?"altKey":"ctrlKey";function iN(e,t){let n=e.someProp("dragCopies",u=>!u(t));return n??!t[lX]}In.dragstart=(e,t)=>{let n=t,u=e.input.mouseDown;if(u&&u.done(),!n.dataTransfer)return;let i=e.state.selection,r=i.empty?null:e.posAtCoords(Wp(n)),o;if(!(r&&r.pos>=i.from&&r.pos<=(i instanceof ze?i.to-1:i.to))){if(u&&u.mightDrag)o=ze.create(e.state.doc,u.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(o=ze.create(e.state.doc,m.posBefore))}}let s=(o||e.state.selection).content(),{dom:f,text:d,slice:p}=ab(e,s);(!n.dataTransfer.files.length||!an||Az>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(qc?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",qc||n.dataTransfer.setData("text/plain",d),e.dragging=new nN(p,iN(e,n),o)};In.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Mn.dragover=Mn.dragenter=(e,t)=>t.preventDefault();Mn.drop=(e,t)=>{try{sX(e,t,e.dragging)}finally{e.dragging=null}};function sX(e,t,n){if(!t.dataTransfer)return;let u=e.posAtCoords(Wp(t));if(!u)return;let i=e.state.doc.resolve(u.pos),r=n&&n.slice;r?e.someProp("transformPasted",b=>{r=b(r,e,!1)}):r=qz(e,tN(t.dataTransfer),qc?null:t.dataTransfer.getData("text/html"),!1,i);let o=!!(n&&iN(e,t));if(e.someProp("handleDrop",b=>b(e,t,r||oe.empty,o))){t.preventDefault();return}if(!r)return;t.preventDefault();let s=r?GK(e.state.doc,i.pos,r):i.pos;s==null&&(s=i.pos);let f=e.state.tr;if(o){let{node:b}=n;b?b.replace(f):f.deleteSelection()}let d=f.mapping.map(s),p=r.openStart==0&&r.openEnd==0&&r.content.childCount==1,m=f.doc;if(p?f.replaceRangeWith(d,d,r.content.firstChild):f.replaceRange(d,d,r),f.doc.eq(m))return;let v=f.doc.resolve(d);if(p&&ze.isSelectable(r.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(r.content.firstChild))f.setSelection(new ze(v));else{let b=f.mapping.map(s);f.mapping.maps[f.mapping.maps.length-1].forEach((E,k,S,w)=>b=w),f.setSelection(rb(e,v,f.doc.resolve(b)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))}In.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&nr(e)},20))};In.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};In.beforeinput=(e,t)=>{if(an&&tr&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:u}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=u||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",r=>r(e,Ia(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Mn)In[e]=Mn[e];function Jc(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Nh{constructor(t,n){this.toDOM=t,this.spec=n||Ya,this.side=this.spec.side||0}map(t,n,u,i){let{pos:r,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new vn(r-u,r-u,this)}valid(){return!0}eq(t){return this==t||t instanceof Nh&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Jc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Wr{constructor(t,n){this.attrs=t,this.spec=n||Ya}map(t,n,u,i){let r=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-u,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-u;return r>=o?null:new vn(r,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Wr&&Jc(this.attrs,t.attrs)&&Jc(this.spec,t.spec)}static is(t){return t.type instanceof Wr}destroy(){}}class cb{constructor(t,n){this.attrs=t,this.spec=n||Ya}map(t,n,u,i){let r=t.mapResult(n.from+i,1);if(r.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=r.pos?null:new vn(r.pos-u,o.pos-u,this)}valid(t,n){let{index:u,offset:i}=t.content.findIndex(n.from),r;return i==n.from&&!(r=t.child(u)).isText&&i+r.nodeSize==n.to}eq(t){return this==t||t instanceof cb&&Jc(this.attrs,t.attrs)&&Jc(this.spec,t.spec)}destroy(){}}class vn{constructor(t,n,u){this.from=t,this.to=n,this.type=u}copy(t,n){return new vn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,u){return this.type.map(t,this,n,u)}static widget(t,n,u){return new vn(t,t,new Nh(n,u))}static inline(t,n,u,i){return new vn(t,n,new Wr(u,i))}static node(t,n,u,i){return new vn(t,n,new cb(u,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Wr}get widget(){return this.type instanceof Nh}}const pl=[],Ya={};class It{constructor(t,n){this.local=t.length?t:pl,this.children=n.length?n:pl}static create(t,n){return n.length?$h(n,t,0,Ya):Sn}find(t,n,u){let i=[];return this.findInner(t??0,n??1e9,i,0,u),i}findInner(t,n,u,i,r){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=n&&s.to>=t&&(!r||r(s.spec))&&u.push(s.copy(s.from+i,s.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let s=this.children[o]+1;this.children[o+2].findInner(t-s,n-s,u,i+s,r)}}map(t,n,u){return this==Sn||t.maps.length==0?this:this.mapInner(t,n,0,0,u||Ya)}mapInner(t,n,u,i,r){let o;for(let s=0;s<this.local.length;s++){let f=this.local[s].map(t,u,i);f&&f.type.valid(n,f)?(o||(o=[])).push(f):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?cX(this.children,o||[],t,n,u,i,r):o?new It(o.sort(Xa),pl):Sn}add(t,n){return n.length?this==Sn?It.create(t,n):this.addInner(t,n,0):this}addInner(t,n,u){let i,r=0;t.forEach((s,f)=>{let d=f+u,p;if(p=rN(n,s,d)){for(i||(i=this.children.slice());r<i.length&&i[r]<f;)r+=3;i[r]==f?i[r+2]=i[r+2].addInner(s,p,d+1):i.splice(r,0,f,f+s.nodeSize,$h(p,s,d+1,Ya)),r+=3}});let o=uN(r?aN(n):n,-u);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||o.splice(s--,1);return new It(o.length?this.local.concat(o).sort(Xa):this.local,i||this.children)}remove(t){return t.length==0||this==Sn?this:this.removeInner(t,0)}removeInner(t,n){let u=this.children,i=this.local;for(let r=0;r<u.length;r+=3){let o,s=u[r]+n,f=u[r+1]+n;for(let p=0,m;p<t.length;p++)(m=t[p])&&m.from>s&&m.to<f&&(t[p]=null,(o||(o=[])).push(m));if(!o)continue;u==this.children&&(u=this.children.slice());let d=u[r+2].removeInner(o,s+1);d!=Sn?u[r+2]=d:(u.splice(r,3),r-=3)}if(i.length){for(let r=0,o;r<t.length;r++)if(o=t[r])for(let s=0;s<i.length;s++)i[s].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return u==this.children&&i==this.local?this:i.length||u.length?new It(i,u):Sn}forChild(t,n){if(this==Sn)return this;if(n.isLeaf)return It.empty;let u,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(u=this.children[s+2]);break}let r=t+1,o=r+n.content.size;for(let s=0;s<this.local.length;s++){let f=this.local[s];if(f.from<o&&f.to>r&&f.type instanceof Wr){let d=Math.max(r,f.from)-r,p=Math.min(o,f.to)-r;d<p&&(i||(i=[])).push(f.copy(d,p))}}if(i){let s=new It(i.sort(Xa),pl);return u?new Pr([s,u]):s}return u||Sn}eq(t){if(this==t)return!0;if(!(t instanceof It)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return fb(this.localsInner(t))}localsInner(t){if(this==Sn)return pl;if(t.inlineContent||!this.local.some(Wr.is))return this.local;let n=[];for(let u=0;u<this.local.length;u++)this.local[u].type instanceof Wr||n.push(this.local[u]);return n}forEachSet(t){t(this)}}It.empty=new It([],[]);It.removeOverlap=fb;const Sn=It.empty;class Pr{constructor(t){this.members=t}map(t,n){const u=this.members.map(i=>i.map(t,n,Ya));return Pr.from(u)}forChild(t,n){if(n.isLeaf)return It.empty;let u=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(t,n);r!=Sn&&(r instanceof Pr?u=u.concat(r.members):u.push(r))}return Pr.from(u)}eq(t){if(!(t instanceof Pr)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,u=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(t);if(r.length)if(!n)n=r;else{u&&(n=n.slice(),u=!1);for(let o=0;o<r.length;o++)n.push(r[o])}}return n?fb(u?n:n.sort(Xa)):pl}static from(t){switch(t.length){case 0:return Sn;case 1:return t[0];default:return new Pr(t.every(n=>n instanceof It)?t:t.reduce((n,u)=>n.concat(u instanceof It?u:u.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function cX(e,t,n,u,i,r,o){let s=e.slice();for(let d=0,p=r;d<n.maps.length;d++){let m=0;n.maps[d].forEach((v,b,E,k)=>{let S=k-E-(b-v);for(let w=0;w<s.length;w+=3){let U=s[w+1];if(U<0||v>U+p-m)continue;let $=s[w]+p-m;b>=$?s[w+1]=v<=$?-2:-1:v>=p&&S&&(s[w]+=S,s[w+1]+=S)}m+=S}),p=n.maps[d].map(p,-1)}let f=!1;for(let d=0;d<s.length;d+=3)if(s[d+1]<0){if(s[d+1]==-2){f=!0,s[d+1]=-1;continue}let p=n.map(e[d]+r),m=p-i;if(m<0||m>=u.content.size){f=!0;continue}let v=n.map(e[d+1]+r,-1),b=v-i,{index:E,offset:k}=u.content.findIndex(m),S=u.maybeChild(E);if(S&&k==m&&k+S.nodeSize==b){let w=s[d+2].mapInner(n,S,p+1,e[d]+r+1,o);w!=Sn?(s[d]=m,s[d+1]=b,s[d+2]=w):(s[d+1]=-2,f=!0)}else f=!0}if(f){let d=fX(s,e,t,n,i,r,o),p=$h(d,u,0,o);t=p.local;for(let m=0;m<s.length;m+=3)s[m+1]<0&&(s.splice(m,3),m-=3);for(let m=0,v=0;m<p.children.length;m+=3){let b=p.children[m];for(;v<s.length&&s[v]<b;)v+=3;s.splice(v,0,p.children[m],p.children[m+1],p.children[m+2])}}return new It(t.sort(Xa),s)}function uN(e,t){if(!t||!e.length)return e;let n=[];for(let u=0;u<e.length;u++){let i=e[u];n.push(new vn(i.from+t,i.to+t,i.type))}return n}function fX(e,t,n,u,i,r,o){function s(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(u,i,d);m?n.push(m):o.onRemove&&o.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)s(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<e.length;f+=3)e[f+1]==-1&&s(e[f+2],t[f]+r+1);return n}function rN(e,t,n){if(t.isLeaf)return null;let u=n+t.nodeSize,i=null;for(let r=0,o;r<e.length;r++)(o=e[r])&&o.from>n&&o.to<u&&((i||(i=[])).push(o),e[r]=null);return i}function aN(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function $h(e,t,n,u){let i=[],r=!1;t.forEach((s,f)=>{let d=rN(e,s,f+n);if(d){r=!0;let p=$h(d,s,n+f+1,u);p!=Sn&&i.push(f,f+s.nodeSize,p)}});let o=uN(r?aN(e):e,-n).sort(Xa);for(let s=0;s<o.length;s++)o[s].type.valid(t,o[s])||(u.onRemove&&u.onRemove(o[s].spec),o.splice(s--,1));return o.length||i.length?new It(o,i):Sn}function Xa(e,t){return e.from-t.from||e.to-t.to}function fb(e){let t=e;for(let n=0;n<t.length-1;n++){let u=t[n];if(u.from!=u.to)for(let i=n+1;i<t.length;i++){let r=t[i];if(r.from==u.from){r.to!=u.to&&(t==e&&(t=e.slice()),t[i]=r.copy(r.from,u.to),NS(t,i+1,r.copy(u.to,r.to)));continue}else{r.from<u.to&&(t==e&&(t=e.slice()),t[n]=u.copy(u.from,r.from),NS(t,i,u.copy(r.from,u.to)));break}}}return t}function NS(e,t,n){for(;t<e.length&&Xa(n,e[t])>0;)t++;e.splice(t,0,n)}function W4(e){let t=[];return e.someProp("decorations",n=>{let u=n(e.state);u&&u!=Sn&&t.push(u)}),e.cursorWrapper&&t.push(It.create(e.state.doc,[e.cursorWrapper.deco])),Pr.from(t)}const dX={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},hX=Xn&&Xr<=11;class pX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class mX{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pX,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(u=>{for(let i=0;i<u.length;i++)this.queue.push(u[i]);Xn&&Xr<=11&&u.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():bn&&t.composing&&u.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),hX&&(this.onCharData=u=>{this.queue.push({target:u.target,type:"characterData",oldValue:u.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dX)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(xS(this.view)){if(this.suppressingSelectionUpdates)return nr(this.view);if(Xn&&Xr<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&so(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,u;for(let r=t.focusNode;r;r=ql(r))n.add(r);for(let r=t.anchorNode;r;r=ql(r))if(n.has(r)){u=r;break}let i=u&&this.view.docView.nearestDesc(u);if(i&&i.ignoreMutation({type:"selection",target:u.nodeType==3?u.parentNode:u}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let u=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(u)&&xS(t)&&!this.ignoreSelectionChange(u),r=-1,o=-1,s=!1,f=[];if(t.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],f);m&&(r=r<0?m.from:Math.min(m.from,r),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(s=!0))}if(Zi&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,v]=p;m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let v of p){let b=v.parentNode;b&&b.nodeName=="LI"&&(!m||vX(t,m)!=b)&&v.remove()}}}else if((an||bn)&&f.some(p=>p.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let p of f)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}let d=null;r<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Xp(u)&&(d=ub(t))&&d.eq(Ie.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,nr(t),this.currentSelection.set(u),t.scrollToSelection()):(r>-1||i)&&(r>-1&&(t.docView.markDirty(r,o),gX(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,bX(t,f)),this.handleDOMChange(r,o,s,f),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(u)||nr(t),this.currentSelection.set(u))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let u=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(u==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!u||u.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let m=t.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(u.contentDOM&&u.contentDOM!=u.dom&&!u.contentDOM.contains(t.target))return{from:u.posBefore,to:u.posAfter};let i=t.previousSibling,r=t.nextSibling;if(Xn&&Xr<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=t.addedNodes[p];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(t.addedNodes,v)<0)&&(r=v)}let o=i&&i.parentNode==t.target?mn(i)+1:0,s=u.localPosFromDOM(t.target,o,-1),f=r&&r.parentNode==t.target?mn(r):t.target.childNodes.length,d=u.localPosFromDOM(t.target,f,1);return{from:s,to:d}}else return t.type=="attributes"?{from:u.posAtStart-u.border,to:u.posAtEnd+u.border}:(this.lastChangedTextNode=t.target,{from:u.posAtStart,to:u.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let $S=new WeakMap,OS=!1;function gX(e){if(!$S.has(e)&&($S.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Zi,OS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),OS=!0}}function IS(e,t){let n=t.startContainer,u=t.startOffset,i=t.endContainer,r=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return so(o.node,o.offset,i,r)&&([n,u,i,r]=[i,r,n,u]),{anchorNode:n,anchorOffset:u,focusNode:i,focusOffset:r}}function yX(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return IS(e,i)}let n;function u(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",u,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",u,!0),n?IS(e,n):null}function vX(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let u=e.docView.nearestDesc(n,!0);if(u&&u.node.isBlock)return n}return null}function bX(e,t){var n;let{focusNode:u,focusOffset:i}=e.domSelectionRange();for(let r of t)if(((n=r.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=r.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let s=o;for(;;){let f=s.firstChild;if(!f||f.nodeType!=1||f.contentEditable=="false"||/^(BR|IMG)$/.test(f.nodeName))break;s=f}s.insertBefore(r,s.firstChild),u==r&&e.domSelection().collapse(r,i)}else r.parentNode.removeChild(r)}}function EX(e,t,n){let{node:u,fromOffset:i,toOffset:r,from:o,to:s}=e.docView.parseRange(t,n),f=e.domSelectionRange(),d,p=f.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],Xp(f)||d.push({node:f.focusNode,offset:f.focusOffset})),an&&e.input.lastKeyCode===8)for(let S=r;S>i;S--){let w=u.childNodes[S-1],U=w.pmViewDesc;if(w.nodeName=="BR"&&!U){r=S;break}if(!U||U.size)break}let m=e.state.doc,v=e.someProp("domParser")||ao.fromSchema(e.state.schema),b=m.resolve(o),E=null,k=v.parse(u,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:r,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:CX,context:b});if(d&&d[0].pos!=null){let S=d[0].pos,w=d[1]&&d[1].pos;w==null&&(w=S),E={anchor:S+o,head:w+o}}return{doc:k,sel:E,from:o,to:s}}function CX(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(bn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||bn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DX=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kX(e,t,n,u,i){let r=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let P=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,re=ub(e,P);if(re&&!e.state.selection.eq(re)){if(an&&tr&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",L=>L(e,Ia(13,"Enter"))))return;let pe=e.state.tr.setSelection(re);P=="pointer"?pe.setMeta("pointer",!0):P=="key"&&pe.scrollIntoView(),r&&pe.setMeta("composition",r),e.dispatch(pe)}return}let o=e.state.doc.resolve(t),s=o.sharedDepth(n);t=o.before(s+1),n=e.state.doc.resolve(n).after(s+1);let f=e.state.selection,d=EX(e,t,n),p=e.state.doc,m=p.slice(d.from,d.to),v,b;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(v=e.state.selection.to,b="end"):(v=e.state.selection.from,b="start"),e.input.lastKeyCode=null;let E=wX(m.content,d.doc.content,d.from,v,b);if(E&&e.input.domChangeCount++,(Vl&&e.input.lastIOSEnter>Date.now()-225||tr)&&i.some(P=>P.nodeType==1&&!DX.test(P.nodeName))&&(!E||E.endA>=E.endB)&&e.someProp("handleKeyDown",P=>P(e,Ia(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!E)if(u&&f instanceof Fe&&!f.empty&&f.$head.sameParent(f.$anchor)&&!e.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))E={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let P=MS(e,e.state.doc,d.sel);if(P&&!P.eq(e.state.selection)){let re=e.state.tr.setSelection(P);r&&re.setMeta("composition",r),e.dispatch(re)}}return}e.state.selection.from<e.state.selection.to&&E.start==E.endB&&e.state.selection instanceof Fe&&(E.start>e.state.selection.from&&E.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?E.start=e.state.selection.from:E.endA<e.state.selection.to&&E.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(E.endB+=e.state.selection.to-E.endA,E.endA=e.state.selection.to)),Xn&&Xr<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>d.from&&d.doc.textBetween(E.start-d.from-1,E.start-d.from+1)==" "&&(E.start--,E.endA--,E.endB--);let k=d.doc.resolveNoCache(E.start-d.from),S=d.doc.resolveNoCache(E.endB-d.from),w=p.resolve(E.start),U=k.sameParent(S)&&k.parent.inlineContent&&w.end()>=E.endA;if((Vl&&e.input.lastIOSEnter>Date.now()-225&&(!U||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!U&&k.pos<d.doc.content.size&&(!k.sameParent(S)||!k.parent.inlineContent)&&k.pos<S.pos&&!/\S/.test(d.doc.textBetween(k.pos,S.pos,"","")))&&e.someProp("handleKeyDown",P=>P(e,Ia(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>E.start&&SX(p,E.start,E.endA,k,S)&&e.someProp("handleKeyDown",P=>P(e,Ia(8,"Backspace")))){tr&&an&&e.domObserver.suppressSelectionUpdates();return}an&&E.endB==E.start&&(e.input.lastChromeDelete=Date.now()),tr&&!U&&k.start()!=S.start()&&S.parentOffset==0&&k.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==E.endA&&(E.endB-=2,S=d.doc.resolveNoCache(E.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(P){return P(e,Ia(13,"Enter"))})},20));let $=E.start,Q=E.endA,ue=P=>{let re=P||e.state.tr.replace($,Q,d.doc.slice(E.start-d.from,E.endB-d.from));if(d.sel){let pe=MS(e,re.doc,d.sel);pe&&!(an&&e.composing&&pe.empty&&(E.start!=E.endB||e.input.lastChromeDelete<Date.now()-100)&&(pe.head==$||pe.head==re.mapping.map(Q)-1)||Xn&&pe.empty&&pe.head==$)&&re.setSelection(pe)}return r&&re.setMeta("composition",r),re.scrollIntoView()},N;if(U)if(k.pos==S.pos){Xn&&Xr<=11&&k.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>nr(e),20));let P=ue(e.state.tr.delete($,Q)),re=p.resolve(E.start).marksAcross(p.resolve(E.endA));re&&P.ensureMarks(re),e.dispatch(P)}else if(E.endA==E.endB&&(N=xX(k.parent.content.cut(k.parentOffset,S.parentOffset),w.parent.content.cut(w.parentOffset,E.endA-w.start())))){let P=ue(e.state.tr);N.type=="add"?P.addMark($,Q,N.mark):P.removeMark($,Q,N.mark),e.dispatch(P)}else if(k.parent.child(k.index()).isText&&k.index()==S.index()-(S.textOffset?0:1)){let P=k.parent.textBetween(k.parentOffset,S.parentOffset),re=()=>ue(e.state.tr.insertText(P,$,Q));e.someProp("handleTextInput",pe=>pe(e,$,Q,P,re))||e.dispatch(re())}else e.dispatch(ue());else e.dispatch(ue())}function MS(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:rb(e,t.resolve(n.anchor),t.resolve(n.head))}function xX(e,t){let n=e.firstChild.marks,u=t.firstChild.marks,i=n,r=u,o,s,f;for(let p=0;p<u.length;p++)i=u[p].removeFromSet(i);for(let p=0;p<n.length;p++)r=n[p].removeFromSet(r);if(i.length==1&&r.length==0)s=i[0],o="add",f=p=>p.mark(s.addToSet(p.marks));else if(i.length==0&&r.length==1)s=r[0],o="remove",f=p=>p.mark(s.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<t.childCount;p++)d.push(f(t.child(p)));if(ee.from(d).eq(e))return{mark:s,type:o}}function SX(e,t,n,u,i){if(n-t<=i.pos-u.pos||e1(u,!0,!1)<i.pos)return!1;let r=e.resolve(t);if(!u.parent.isTextblock){let s=r.nodeAfter;return s!=null&&n==t+s.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let o=e.resolve(e1(r,!0,!0));return!o.parent.isTextblock||o.pos>n||e1(o,!0,!1)<n?!1:u.parent.content.cut(u.parentOffset).eq(o.parent.content)}function e1(e,t,n){let u=e.depth,i=t?e.end():e.pos;for(;u>0&&(t||e.indexAfter(u)==e.node(u).childCount);)u--,i++,t=!1;if(n){let r=e.node(u).maybeChild(e.indexAfter(u));for(;r&&!r.isLeaf;)r=r.firstChild,i++}return i}function wX(e,t,n,u,i){let r=e.findDiffStart(t,n);if(r==null)return null;let{a:o,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let f=Math.max(0,r-Math.min(o,s));u-=o+f-r}if(o<r&&e.size<t.size){let f=u<=r&&u>=o?r-u:0;r-=f,r&&r<t.size&&RS(t.textBetween(r-1,r+1))&&(r+=f?1:-1),s=r+(s-o),o=r}else if(s<r){let f=u<=r&&u>=s?r-u:0;r-=f,r&&r<e.size&&RS(e.textBetween(r-1,r+1))&&(r+=f?1:-1),o=r+(o-s),s=r}return{start:r,endA:o,endB:s}}function RS(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class oN{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZY,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(ZS),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=jS(this),US(this),this.nodeViews=LS(this),this.docView=vS(this.state.doc,FS(this),W4(this),this.dom,this),this.domObserver=new mX(this,(u,i,r,o)=>kX(this,u,i,r,o)),this.domObserver.start(),PY(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ry(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(ZS),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let u in this._props)n[u]=this._props[u];n.state=this.state;for(let u in t)n[u]=t[u];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var u;let i=this.state,r=!1,o=!1;t.storedMarks&&this.composing&&(eN(this),o=!0),this.state=t;let s=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=LS(this);AX(b,this.nodeViews)&&(this.nodeViews=b,r=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&ry(this),this.editable=jS(this),US(this);let f=W4(this),d=FS(this),p=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=r||!this.docView.matchesNode(t.doc,d,f);(m||!t.selection.eq(i.selection))&&(o=!0);let v=p=="preserve"&&o&&this.dom.style.overflowAnchor==null&&iY(this);if(o){this.domObserver.stop();let b=m&&(Xn||an)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&_X(i.selection,t.selection);if(m){let E=an?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=iX(this)),(r||!this.docView.update(t.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=vS(t.doc,d,f,this.dom,this)),E&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&_Y(this))?nr(this,b):(Zz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((u=this.dragging)===null||u===void 0)&&u.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&uY(v)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&dS(this,n.getBoundingClientRect(),t)}else dS(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let u=this.directPlugins[n];u.spec.view&&this.pluginViews.push(u.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let u=this.state.plugins[n];u.spec.view&&this.pluginViews.push(u.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let u=this.pluginViews[n];u.update&&u.update(this,t)}}updateDraggedNode(t,n){let u=t.node,i=-1;if(this.state.doc.nodeAt(u.from)==u.node)i=u.from;else{let r=u.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==u.node&&(i=r)}this.dragging=new nN(t.slice,t.move,i<0?void 0:ze.create(this.state.doc,i))}someProp(t,n){let u=this._props&&this._props[t],i;if(u!=null&&(i=n?n(u):u))return i;for(let o=0;o<this.directPlugins.length;o++){let s=this.directPlugins[o].props[t];if(s!=null&&(i=n?n(s):s))return i}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let s=r[o].props[t];if(s!=null&&(i=n?n(s):s))return i}}hasFocus(){if(Xn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rY(this.dom),nr(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return cY(this,t)}coordsAtPos(t,n=1){return Oz(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,u=-1){let i=this.docView.posFromDOM(t,n,u);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return mY(this,n||this.state,t)}pasteHTML(t,n){return Vc(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Vc(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return ab(this,t)}destroy(){this.docView&&(HY(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],W4(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,JG())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return VY(this,t)}domSelectionRange(){let t=this.domSelection();return t?bn&&this.root.nodeType===11&&QG(this.dom.ownerDocument)==this.dom&&yX(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}oN.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function FS(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let u in n)u=="class"?t.class+=" "+n[u]:u=="style"?t.style=(t.style?t.style+";":"")+n[u]:!t[u]&&u!="contenteditable"&&u!="nodeName"&&(t[u]=String(n[u]))}),t.translate||(t.translate="no"),[vn.node(0,e.state.doc.content.size,t)]}function US(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:vn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function jS(e){return!e.someProp("editable",t=>t(e.state)===!1)}function _X(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function LS(e){let t=Object.create(null);function n(u){for(let i in u)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=u[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function AX(e,t){let n=0,u=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)u++;return n!=u}function ZS(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function lr(e,t){return e.meta={package:"@milkdown/core",group:"System",...t},e}const lN={text:(e,t,n,u)=>{const i=e.value;return/^[^*_\\]*\s+$/.test(i)?i:n.safe(i,{...u,encode:[]})},strong:(e,t,n,u)=>{const i=e.marker||n.options.strong||"*",r=n.enter("strong"),o=n.createTracker(u);let s=o.move(i+i);return s+=o.move(n.containerPhrasing(e,{before:s,after:i,...o.current()})),s+=o.move(i+i),r(),s},emphasis:(e,t,n,u)=>{const i=e.marker||n.options.emphasis||"*",r=n.enter("emphasis"),o=n.createTracker(u);let s=o.move(i);return s+=o.move(n.containerPhrasing(e,{before:s,after:i,...o.current()})),s+=o.move(i),r(),s}},ir=We({},"editorView"),yc=We({},"editorState"),t1=We([],"initTimer"),PS=We({},"editor"),Kc=We([],"inputRules"),rr=We([],"prosePlugins"),Gc=We([],"remarkPlugins"),ay=We([],"nodeView"),oy=We([],"markView"),Qa=We(Z1().use(I1).use(U1),"remark"),wc=We({handlers:lN,encode:[]},"remarkStringifyOptions"),Y0=Eu("ConfigReady");function BX(e){const t=n=>(n.record(Y0),async()=>(await e(n),n.done(Y0),()=>{n.clearTimer(Y0)}));return lr(t,{displayName:"Config"}),t}const Wa=Eu("InitReady");function TX(e){const t=n=>(n.inject(PS,e).inject(rr,[]).inject(Gc,[]).inject(Kc,[]).inject(ay,[]).inject(oy,[]).inject(wc,{handlers:lN,encode:[]}).inject(Qa,Z1().use(I1).use(U1)).inject(t1,[Y0]).record(Wa),async()=>{await n.waitTimers(t1);const u=n.get(wc);return n.set(Qa,Z1().use(I1).use(U1,u)),n.done(Wa),()=>{n.remove(PS).remove(rr).remove(Gc).remove(Kc).remove(ay).remove(oy).remove(wc).remove(Qa).remove(t1).clearTimer(Wa)}});return lr(t,{displayName:"Init"}),t}const Qn=Eu("SchemaReady"),n1=We([],"schemaTimer"),gu=We({},"schema"),_c=We([],"nodes"),Ac=We([],"marks");function HS(e){var t;return{...e,parseDOM:(t=e.parseDOM)==null?void 0:t.map(n=>({priority:e.priority,...n}))}}const sN=e=>(e.inject(gu,{}).inject(_c,[]).inject(Ac,[]).inject(n1,[Wa]).record(Qn),async()=>{await e.waitTimers(n1);const t=e.get(Qa),u=e.get(Gc).reduce((s,f)=>s.use(f.plugin,f.options),t);e.set(Qa,u);const i=Object.fromEntries(e.get(_c).map(([s,f])=>[s,HS(f)])),r=Object.fromEntries(e.get(Ac).map(([s,f])=>[s,HS(f)])),o=new GH({nodes:i,marks:r});return e.set(gu,o),e.done(Qn),()=>{e.remove(gu).remove(_c).remove(Ac).remove(n1).clearTimer(Qn)}});lr(sN,{displayName:"Schema"});var Za,Ii;class cN{constructor(){Re(this,Za);Re(this,Ii);ge(this,Za,new iT),ge(this,Ii,null),this.setCtx=t=>{ge(this,Ii,t)},this.chain=()=>{if(V(this,Ii)==null)throw _4();const t=V(this,Ii),n=[],u=this.get.bind(this),i={run:()=>{const o=Xl(...n),s=t.get(ir);return o(s.state,s.dispatch,s)},inline:o=>(n.push(o),i),pipe:r.bind(this)};function r(o,s){const f=u(o);return n.push(f(s)),i}return i}}get ctx(){return V(this,Ii)}create(t,n){const u=t.create(V(this,Za).sliceMap);return u.set(n),u}get(t){return V(this,Za).get(t).get()}remove(t){return V(this,Za).remove(t)}call(t,n){if(V(this,Ii)==null)throw _4();const i=this.get(t)(n),r=V(this,Ii).get(ir);return i(r.state,r.dispatch,r)}inline(t){if(V(this,Ii)==null)throw _4();const n=V(this,Ii).get(ir);return t(n.state,n.dispatch,n)}}Za=new WeakMap,Ii=new WeakMap;function zX(e="cmdKey"){return We((()=>()=>!1),e)}const ot=We(new cN,"commands"),i1=We([Qn],"commandsTimer"),Bc=Eu("CommandsReady"),fN=e=>{const t=new cN;return t.setCtx(e),e.inject(ot,t).inject(i1,[Qn]).record(Bc),async()=>(await e.waitTimers(i1),e.done(Bc),()=>{e.remove(ot).remove(i1).clearTimer(Bc)})};lr(fN,{displayName:"Commands"});function NX(e){const t=Xl(xG,X3,rG,vz);return e.Backspace=t,e}var Pa,Vn;class dN{constructor(){Re(this,Pa);Re(this,Vn);ge(this,Pa,null),ge(this,Vn,[]),this.setCtx=t=>{ge(this,Pa,t)},this.add=t=>(V(this,Vn).push(t),()=>{ge(this,Vn,V(this,Vn).filter(n=>n!==t))}),this.addObjectKeymap=t=>{const n=[];return Object.entries(t).forEach(([u,i])=>{if(typeof i=="function"){const r={key:u,onRun:()=>i};V(this,Vn).push(r),n.push(()=>{ge(this,Vn,V(this,Vn).filter(o=>o!==r))})}else V(this,Vn).push(i),n.push(()=>{ge(this,Vn,V(this,Vn).filter(r=>r!==i))})}),()=>{n.forEach(u=>u())}},this.addBaseKeymap=()=>{const t=NX(DG);return this.addObjectKeymap(t)},this.build=()=>{const t={};return V(this,Vn).forEach(u=>{t[u.key]=[...t[u.key]||[],u]}),Object.fromEntries(Object.entries(t).map(([u,i])=>{const r=i.sort((s,f)=>(f.priority??50)-(s.priority??50));return[u,(s,f,d)=>{const p=V(this,Pa);if(p==null)throw jp();const m=r.map(b=>b.onRun(p));return Xl(...m)(s,f,d)}]}))}}get ctx(){return V(this,Pa)}}Pa=new WeakMap,Vn=new WeakMap;const Oh=We(new dN,"keymap"),u1=We([Qn],"keymapTimer"),Tc=Eu("KeymapReady"),$X=e=>{const t=new dN;return t.setCtx(e),e.inject(Oh,t).inject(u1,[Qn]).record(Tc),async()=>(await e.waitTimers(u1),e.done(Tc),()=>{e.remove(Oh).remove(u1).clearTimer(Tc)})},X0=Eu("ParserReady"),hN=(()=>{throw jp()}),El=We(hN,"parser"),r1=We([],"parserTimer"),pN=e=>(e.inject(El,hN).inject(r1,[Qn]).record(X0),async()=>{await e.waitTimers(r1);const t=e.get(Qa),n=e.get(gu);return e.set(El,BK.create(n,t)),e.done(X0),()=>{e.remove(El).remove(r1).clearTimer(X0)}});lr(pN,{displayName:"Parser"});const zc=Eu("SerializerReady"),a1=We([],"serializerTimer"),mN=(()=>{throw jp()}),Nc=We(mN,"serializer"),gN=e=>(e.inject(Nc,mN).inject(a1,[Qn]).record(zc),async()=>{await e.waitTimers(a1);const t=e.get(Qa),n=e.get(gu);return e.set(Nc,zK.create(n,t)),e.done(zc),()=>{e.remove(Nc).remove(a1).clearTimer(zc)}});lr(gN,{displayName:"Serializer"});const Q0=We("","defaultValue"),W0=We(e=>e,"stateOptions"),o1=We([],"editorStateTimer"),eh=Eu("EditorStateReady");function OX(e,t,n){if(typeof e=="string")return t(e);if(e.type==="html")return ao.fromSchema(n).parse(e.dom);if(e.type==="json")return Li.fromJSON(n,e.value);throw vH(e)}const IX=new Dn("MILKDOWN_STATE_TRACKER"),yN=e=>(e.inject(Q0,"").inject(yc,{}).inject(W0,t=>t).inject(o1,[X0,zc,Bc,Tc]).record(eh),async()=>{await e.waitTimers(o1);const t=e.get(gu),n=e.get(El),u=e.get(Kc),i=e.get(W0),r=e.get(rr),o=e.get(Q0),s=OX(o,n,t),f=e.get(Oh),d=f.addBaseKeymap(),p=[...r,new Bn({key:IX,state:{init:()=>{},apply:(b,E,k,S)=>{e.set(yc,S)}}}),TG({rules:u}),VG(f.build())];e.set(rr,p);const m=i({schema:t,doc:s,plugins:p}),v=Fa.create(m);return e.set(yc,v),e.done(eh),()=>{d(),e.remove(Q0).remove(yc).remove(W0).remove(o1).clearTimer(eh)}});lr(yN,{displayName:"EditorState"});const Yc=We([],"pasteRule"),l1=We([Qn],"pasteRuleTimer"),th=Eu("PasteRuleReady"),vN=e=>(e.inject(Yc,[]).inject(l1,[Qn]).record(th),async()=>(await e.waitTimers(l1),e.done(th),()=>{e.remove(Yc).remove(l1).clearTimer(th)}));lr(vN,{displayName:"PasteRule"});const nh=Eu("EditorViewReady"),s1=We([],"editorViewTimer"),ih=We({},"editorViewOptions"),uh=We(null,"root"),ly=We(null,"rootDOM"),sy=We({},"rootAttrs");function MX(e,t){const n=document.createElement("div");n.className="milkdown",e.appendChild(n),t.set(ly,n);const u=t.get(sy);return Object.entries(u).forEach(([i,r])=>n.setAttribute(i,r)),n}function RX(e){e.classList.add("editor"),e.setAttribute("role","textbox")}const FX=new Dn("MILKDOWN_VIEW_CLEAR"),bN=e=>(e.inject(uh,document.body).inject(ir,{}).inject(ih,{}).inject(ly,null).inject(sy,{}).inject(s1,[eh,th]).record(nh),async()=>{await e.wait(Wa);const t=e.get(uh)||document.body,n=typeof t=="string"?document.querySelector(t):t;e.update(rr,f=>[new Bn({key:FX,view:d=>{const p=n?MX(n,e):void 0;return(()=>{if(p&&n){const v=d.dom;n.replaceChild(p,v),p.appendChild(v)}})(),{destroy:()=>{p!=null&&p.parentNode&&(p==null||p.parentNode.replaceChild(d.dom,p)),p==null||p.remove()}}}}),...f]),await e.waitTimers(s1);const u=e.get(yc),i=e.get(ih),r=Object.fromEntries(e.get(ay)),o=Object.fromEntries(e.get(oy)),s=new oN(n,{state:u,nodeViews:r,markViews:o,transformPasted:(f,d,p)=>(e.get(Yc).sort((m,v)=>(v.priority??50)-(m.priority??50)).map(m=>m.run).forEach(m=>{f=m(f,d,p)}),f),...i});return RX(s.dom),e.set(ir,s),e.done(nh),()=>{s==null||s.destroy(),e.remove(uh).remove(ir).remove(ih).remove(ly).remove(sy).remove(s1).clearTimer(nh)}});lr(bN,{displayName:"EditorView"});var Ha,di,Qu,Tl,nf,uf,Jn,Wu,qa,rf,Va,zl,af,Jr,Nl;const wE=class wE{constructor(){Re(this,Ha);Re(this,di);Re(this,Qu);Re(this,Tl);Re(this,nf);Re(this,uf);Re(this,Jn);Re(this,Wu);Re(this,qa);Re(this,rf);Re(this,Va);Re(this,zl);Re(this,af);Re(this,Jr);Re(this,Nl);ge(this,Ha,!1),ge(this,di,"Idle"),ge(this,Qu,[]),ge(this,Tl,()=>{}),ge(this,nf,new iT),ge(this,uf,new TH),ge(this,Jn,new Map),ge(this,Wu,new Map),ge(this,qa,new B1(V(this,nf),V(this,uf))),ge(this,rf,()=>{const t=BX(async u=>{await Promise.all(V(this,Qu).map(i=>Promise.resolve(i(u))))}),n=[sN,pN,gN,fN,$X,vN,yN,bN,TX(this),t];V(this,Va).call(this,n,V(this,Wu))}),ge(this,Va,(t,n)=>{t.forEach(u=>{const i=V(this,qa).produce(V(this,Ha)?u.meta:void 0),r=u(i);n.set(u,{ctx:i,handler:r,cleanup:void 0})})}),ge(this,zl,(t,n=!1)=>Promise.all([t].flat().map(async u=>{const i=V(this,Jn).get(u),r=i==null?void 0:i.cleanup;return n?V(this,Jn).delete(u):V(this,Jn).set(u,{ctx:void 0,handler:void 0,cleanup:void 0}),typeof r=="function"?r():r}))),ge(this,af,async()=>{await Promise.all([...V(this,Wu).entries()].map(async([t,{cleanup:n}])=>typeof n=="function"?n():n)),V(this,Wu).clear()}),ge(this,Jr,t=>{ge(this,di,t),V(this,Tl).call(this,t)}),ge(this,Nl,t=>[...t.entries()].map(async([n,u])=>{const{ctx:i,handler:r}=u;if(!r)return;const o=await r();t.set(n,{ctx:i,handler:r,cleanup:o})})),this.enableInspector=(t=!0)=>(ge(this,Ha,t),this),this.onStatusChange=t=>(ge(this,Tl,t),this),this.config=t=>(V(this,Qu).push(t),this),this.removeConfig=t=>(ge(this,Qu,V(this,Qu).filter(n=>n!==t)),this),this.use=t=>{const n=[t].flat();return n.flat().forEach(u=>{V(this,Jn).set(u,{ctx:void 0,handler:void 0,cleanup:void 0})}),V(this,di)==="Created"&&V(this,Va).call(this,n,V(this,Jn)),this},this.remove=async t=>V(this,di)==="OnCreate"?(console.warn("[Milkdown]: You are trying to remove plugins when the editor is creating, this is not recommended, please check your code."),new Promise(n=>{setTimeout(()=>{n(this.remove(t))},50)})):(await V(this,zl).call(this,[t].flat(),!0),this),this.create=async()=>V(this,di)==="OnCreate"?this:(V(this,di)==="Created"&&await this.destroy(),V(this,Jr).call(this,"OnCreate"),V(this,rf).call(this),V(this,Va).call(this,[...V(this,Jn).keys()],V(this,Jn)),await Promise.all([V(this,Nl).call(this,V(this,Wu)),V(this,Nl).call(this,V(this,Jn))].flat()),V(this,Jr).call(this,"Created"),this),this.destroy=async(t=!1)=>V(this,di)==="Destroyed"||V(this,di)==="OnDestroy"?this:V(this,di)==="OnCreate"?new Promise(n=>{setTimeout(()=>{n(this.destroy(t))},50)}):(t&&ge(this,Qu,[]),V(this,Jr).call(this,"OnDestroy"),await V(this,zl).call(this,[...V(this,Jn).keys()],t),await V(this,af).call(this),V(this,Jr).call(this,"Destroyed"),this),this.action=t=>t(V(this,qa)),this.inspect=()=>V(this,Ha)?[...V(this,Wu).values(),...V(this,Jn).values()].map(({ctx:t})=>{var n;return(n=t==null?void 0:t.inspector)==null?void 0:n.read()}).filter(t=>!!t):(console.warn("[Milkdown]: You are trying to collect inspection when inspector is disabled, please enable inspector by `editor.enableInspector()` first."),[])}static make(){return new wE}get ctx(){return V(this,qa)}get status(){return V(this,di)}};Ha=new WeakMap,di=new WeakMap,Qu=new WeakMap,Tl=new WeakMap,nf=new WeakMap,uf=new WeakMap,Jn=new WeakMap,Wu=new WeakMap,qa=new WeakMap,rf=new WeakMap,Va=new WeakMap,zl=new WeakMap,af=new WeakMap,Jr=new WeakMap,Nl=new WeakMap;let cy=wE;function Ne(e,t){const n=zX(e),u=i=>async()=>{u.key=n,await i.wait(Bc);const r=t(i);return i.get(ot).create(n,r),u.run=o=>i.get(ot).call(e,o),()=>{i.get(ot).remove(n)}};return u}function ni(e){const t=n=>async()=>{await n.wait(Qn);const u=e(n);return n.update(Kc,i=>[...i,u]),t.inputRule=u,()=>{n.update(Kc,i=>i.filter(r=>r!==u))}};return t}function UX(e){const t=n=>async()=>{await n.wait(Qn);const u=e(n);return n.update(Yc,i=>[...i,u]),t.pasteRule=u,()=>{n.update(Yc,i=>i.filter(r=>r!==u))}};return t}function jX(e,t){const n=u=>async()=>{const i=t(u);return u.update(Ac,r=>[...r.filter(o=>o[0]!==e),[e,i]]),n.id=e,n.schema=i,()=>{u.update(Ac,r=>r.filter(([o])=>o!==e))}};return n.type=u=>{const i=u.get(gu).marks[e];if(!i)throw wH(e);return i},n}function db(e,t){const n=u=>async()=>{const i=t(u);return u.update(_c,r=>[...r.filter(o=>o[0]!==e),[e,i]]),n.id=e,n.schema=i,()=>{u.update(_c,r=>r.filter(([o])=>o!==e))}};return n.type=u=>{const i=u.get(gu).nodes[e];if(!i)throw SH(e);return i},n}function ru(e){let t;const n=u=>async()=>(await u.wait(Qn),t=e(u),u.update(rr,i=>[...i,t]),()=>{u.update(rr,i=>i.filter(r=>r!==t))});return n.plugin=()=>t,n.key=()=>t.spec.key,n}function LX(e){const t=n=>async()=>{await n.wait(Tc);const u=n.get(Oh),i=e(n),r=u.addObjectKeymap(i);return t.keymap=i,()=>{r()}};return t}function sr(e,t){const n=We(e,t),u=i=>(i.inject(n),()=>()=>{i.remove(n)});return u.key=n,u}function tn(e,t){const n=sr(t,e),u=db(e,r=>r.get(n.key)(r)),i=[n,u];return i.id=u.id,i.node=u,i.type=r=>u.type(r),i.ctx=n,i.key=n.key,i.extendSchema=r=>{const o=r(t);return tn(e,o)},i}function Ql(e,t){const n=sr(t,e),u=jX(e,r=>r.get(n.key)(r)),i=[n,u];return i.id=u.id,i.mark=u,i.type=r=>u.type(r),i.ctx=n,i.key=n.key,i.extendSchema=r=>{const o=r(t);return Ql(e,o)},i}function ii(e,t){const n=Object.fromEntries(Object.entries(t).map(([o,{shortcuts:s,priority:f}])=>[o,{shortcuts:s,priority:f}])),u=sr(n,`${e}Keymap`),i=LX(o=>{const s=o.get(u.key),f=Object.entries(t).flatMap(([d,{command:p}])=>{const m=s[d],v=[m.shortcuts].flat(),b=m.priority;return v.map(E=>[E,{key:E,onRun:p,priority:b}])});return Object.fromEntries(f)}),r=[u,i];return r.ctx=u,r.shortcuts=i,r.key=u.key,r.keymap=i.keymap,r}const au=(e,t=()=>({}))=>sr(t,`${e}Attr`),qf=(e,t=()=>({}))=>sr(t,`${e}Attr`);function bo(e,t,n){const u=sr({},e),i=o=>async()=>{await o.wait(Wa);const f={plugin:t(o),options:o.get(u.key)};return o.update(Gc,d=>[...d,f]),()=>{o.update(Gc,d=>d.filter(p=>p!==f))}},r=[u,i];return r.id=e,r.plugin=i,r.options=u,r}function ZX(e,t=!1){return n=>{const u=n.get(ir),r=n.get(El)(e);if(!r)return;if(!t){const{state:p}=u;return u.dispatch(p.tr.replace(0,p.doc.content.size,new oe(r.content,0,0)))}const o=n.get(gu),s=n.get(W0),f=n.get(rr),d=Fa.create({schema:o,doc:r,plugins:f,...s});u.updateState(d)}}function PX(e,t){return function(n,u){let{$from:i,$to:r,node:o}=n.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(r))return!1;let s=i.node(-1);if(s.type!=e)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=e||i.index(-2)!=i.node(-2).childCount-1)return!1;if(u){let m=ee.empty,v=i.index(-1)?1:i.index(-2)?2:3;for(let w=i.depth-v;w>=i.depth-3;w--)m=ee.from(i.node(w).copy(m));let b=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;m=m.append(ee.from(e.createAndFill()));let E=i.before(i.depth-(v-1)),k=n.tr.replace(E,i.after(-b),new oe(m,4-v,0)),S=-1;k.doc.nodesBetween(E,k.doc.content.size,(w,U)=>{if(S>-1)return!1;w.isTextblock&&w.content.size==0&&(S=U+1)}),S>-1&&k.setSelection(Ie.near(k.doc.resolve(S))),u(k.scrollIntoView())}return!0}let f=r.pos==i.end()?s.contentMatchAt(0).defaultType:null,d=n.tr.delete(i.pos,r.pos),p=f?[null,{type:f}]:void 0;return kc(d.doc,i.pos,2,p)?(u&&u(d.split(i.pos,2,p).scrollIntoView()),!0):!1}}function HX(e){return function(t,n){let{$from:u,$to:i}=t.selection,r=u.blockRange(i,o=>o.childCount>0&&o.firstChild.type==e);return r?n?u.node(r.depth-1).type==e?qX(t,n,e,r):VX(t,n,r):!0:!1}}function qX(e,t,n,u){let i=e.tr,r=u.end,o=u.$to.end(u.depth);r<o&&(i.step(new wn(r-1,o,r,o,new oe(ee.from(n.create(null,u.parent.copy())),1,0),1,!0)),u=new fT(i.doc.resolve(u.$from.pos),i.doc.resolve(o),u.depth));const s=Vp(u);if(s==null)return!1;i.lift(u,s);let f=i.doc.resolve(i.mapping.map(r,-1)-1);return Jp(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),t(i.scrollIntoView()),!0}function VX(e,t,n){let u=e.tr,i=n.parent;for(let b=n.end,E=n.endIndex-1,k=n.startIndex;E>k;E--)b-=i.child(E).nodeSize,u.delete(b-1,b+1);let r=u.doc.resolve(n.start),o=r.nodeAfter;if(u.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let s=n.startIndex==0,f=n.endIndex==i.childCount,d=r.node(-1),p=r.index(-1);if(!d.canReplace(p+(s?0:1),p+1,o.content.append(f?ee.empty:ee.from(i))))return!1;let m=r.pos,v=m+o.nodeSize;return u.step(new wn(m-(s?1:0),v+(f?1:0),m+1,v-1,new oe((s?ee.empty:ee.from(i.copy(ee.empty))).append(f?ee.empty:ee.from(i.copy(ee.empty))),s?0:1,f?0:1),s?0:1)),t(u.scrollIntoView()),!0}function JX(e){return function(t,n){let{$from:u,$to:i}=t.selection,r=u.blockRange(i,d=>d.childCount>0&&d.firstChild.type==e);if(!r)return!1;let o=r.startIndex;if(o==0)return!1;let s=r.parent,f=s.child(o-1);if(f.type!=e)return!1;if(n){let d=f.lastChild&&f.lastChild.type==s.type,p=ee.from(d?e.create():null),m=new oe(ee.from(e.create(null,ee.from(s.type.create(null,p)))),d?3:1,0),v=r.start,b=r.end;n(t.tr.step(new wn(v-(d?3:1),b,v,b,m,1,!0)).scrollIntoView())}return!0}}function KX(e){const t=new Map;if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return Yl(e,"definition",function(u){const i=qS(u.identifier);i&&!t.get(i)&&t.set(i,u)}),n;function n(u){const i=qS(u);return t.get(i)}}function qS(e){return String(e||"").toUpperCase()}function GX(){return function(e){const t=KX(e);Yl(e,function(n,u,i){if(n.type==="definition"&&i!==void 0&&typeof u=="number")return i.children.splice(u,1),[F1,u];if(n.type==="imageReference"||n.type==="linkReference"){const r=t(n.identifier);if(r&&i&&typeof u=="number")return i.children[u]=n.type==="imageReference"?{type:"image",url:r.url,title:r.title,alt:n.alt}:{type:"link",url:r.url,title:r.title,children:n.children},[F1,u]}})}}function EN(e,t){var i;if(!(t.childCount>=1&&((i=t.lastChild)==null?void 0:i.type.name)==="hardbreak")){e.next(t.content);return}const u=[];t.content.forEach((r,o,s)=>{s!==t.childCount-1&&u.push(r)}),e.next(ee.fromArray(u))}function X(e,t){return Object.assign(e,{meta:{package:"@milkdown/preset-commonmark",...t}}),e}const hb=qf("emphasis");X(hb,{displayName:"Attr<emphasis>",group:"Emphasis"});const Wl=Ql("emphasis",e=>({attrs:{marker:{default:e.get(wc).emphasis||"*",validate:"string"}},parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:t=>t==="italic"}],toDOM:t=>["em",e.get(hb.key)(t)],parseMarkdown:{match:t=>t.type==="emphasis",runner:(t,n,u)=>{t.openMark(u,{marker:n.marker}),t.next(n.children),t.closeMark(u)}},toMarkdown:{match:t=>t.type.name==="emphasis",runner:(t,n)=>{t.withMark(n,"emphasis",void 0,{marker:n.attrs.marker})}}}));X(Wl.mark,{displayName:"MarkSchema<emphasis>",group:"Emphasis"});X(Wl.ctx,{displayName:"MarkSchemaCtx<emphasis>",group:"Emphasis"});const pb=Ne("ToggleEmphasis",e=>()=>Yp(Wl.type(e)));X(pb,{displayName:"Command<toggleEmphasisCommand>",group:"Emphasis"});const CN=ni(e=>Lf(/(?:^|[^*])\*([^*]+)\*$/,Wl.type(e),{getAttr:()=>({marker:"*"}),updateCaptured:({fullMatch:t,start:n})=>t.startsWith("*")?{}:{fullMatch:t.slice(1),start:n+1}}));X(CN,{displayName:"InputRule<emphasis>|Star",group:"Emphasis"});const DN=ni(e=>Lf(/\b_(?![_\s])(.*?[^_\s])_\b/,Wl.type(e),{getAttr:()=>({marker:"_"}),updateCaptured:({fullMatch:t,start:n})=>t.startsWith("_")?{}:{fullMatch:t.slice(1),start:n+1}}));X(DN,{displayName:"InputRule<emphasis>|Underscore",group:"Emphasis"});const mb=ii("emphasisKeymap",{ToggleEmphasis:{shortcuts:"Mod-i",command:e=>{const t=e.get(ot);return()=>t.call(pb.key)}}});X(mb.ctx,{displayName:"KeymapCtx<emphasis>",group:"Emphasis"});X(mb.shortcuts,{displayName:"Keymap<emphasis>",group:"Emphasis"});const gb=qf("strong");X(gb,{displayName:"Attr<strong>",group:"Strong"});const Vf=Ql("strong",e=>({attrs:{marker:{default:e.get(wc).strong||"*",validate:"string"}},parseDOM:[{tag:"b",getAttrs:t=>t.style.fontWeight!="normal"&&null},{tag:"strong"},{style:"font-style",getAttrs:t=>t==="bold"},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:t=>["strong",e.get(gb.key)(t)],parseMarkdown:{match:t=>t.type==="strong",runner:(t,n,u)=>{t.openMark(u,{marker:n.marker}),t.next(n.children),t.closeMark(u)}},toMarkdown:{match:t=>t.type.name==="strong",runner:(t,n)=>{t.withMark(n,"strong",void 0,{marker:n.attrs.marker})}}}));X(Vf.mark,{displayName:"MarkSchema<strong>",group:"Strong"});X(Vf.ctx,{displayName:"MarkSchemaCtx<strong>",group:"Strong"});const yb=Ne("ToggleStrong",e=>()=>Yp(Vf.type(e)));X(yb,{displayName:"Command<toggleStrongCommand>",group:"Strong"});const kN=ni(e=>Lf(new RegExp("(?<![\\w:/])(?:\\*\\*|__)([^*_]+?)(?:\\*\\*|__)(?![\\w/])$"),Vf.type(e),{getAttr:t=>({marker:t[0].startsWith("*")?"*":"_"})}));X(kN,{displayName:"InputRule<strong>",group:"Strong"});const vb=ii("strongKeymap",{ToggleBold:{shortcuts:["Mod-b"],command:e=>{const t=e.get(ot);return()=>t.call(yb.key)}}});X(vb.ctx,{displayName:"KeymapCtx<strong>",group:"Strong"});X(vb.shortcuts,{displayName:"Keymap<strong>",group:"Strong"});const bb=qf("inlineCode");X(bb,{displayName:"Attr<inlineCode>",group:"InlineCode"});const Yr=Ql("inlineCode",e=>({priority:100,code:!0,parseDOM:[{tag:"code"}],toDOM:t=>["code",e.get(bb.key)(t)],parseMarkdown:{match:t=>t.type==="inlineCode",runner:(t,n,u)=>{t.openMark(u),t.addText(n.value),t.closeMark(u)}},toMarkdown:{match:t=>t.type.name==="inlineCode",runner:(t,n,u)=>{t.withMark(n,"inlineCode",u.text||"")}}}));X(Yr.mark,{displayName:"MarkSchema<inlineCode>",group:"InlineCode"});X(Yr.ctx,{displayName:"MarkSchemaCtx<inlineCode>",group:"InlineCode"});const Eb=Ne("ToggleInlineCode",e=>()=>(t,n)=>{const{selection:u,tr:i}=t;if(u.empty)return!1;const{from:r,to:o}=u;return t.doc.rangeHasMark(r,o,Yr.type(e))?(n==null||n(i.removeMark(r,o,Yr.type(e))),!0):(Object.keys(t.schema.marks).filter(d=>d!==Yr.type.name).map(d=>t.schema.marks[d]).forEach(d=>{i.removeMark(r,o,d)}),n==null||n(i.addMark(r,o,Yr.type(e).create())),!0)});X(Eb,{displayName:"Command<toggleInlineCodeCommand>",group:"InlineCode"});const xN=ni(e=>Lf(/(?:`)([^`]+)(?:`)$/,Yr.type(e)));X(xN,{displayName:"InputRule<inlineCodeInputRule>",group:"InlineCode"});const Cb=ii("inlineCodeKeymap",{ToggleInlineCode:{shortcuts:"Mod-e",command:e=>{const t=e.get(ot);return()=>t.call(Eb.key)}}});X(Cb.ctx,{displayName:"KeymapCtx<inlineCode>",group:"InlineCode"});X(Cb.shortcuts,{displayName:"Keymap<inlineCode>",group:"InlineCode"});const Db=qf("link");X(Db,{displayName:"Attr<link>",group:"Link"});const Cl=Ql("link",e=>({attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},parseDOM:[{tag:"a[href]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:t=>["a",{...e.get(Db.key)(t),...t.attrs}],parseMarkdown:{match:t=>t.type==="link",runner:(t,n,u)=>{const i=n.url,r=n.title;t.openMark(u,{href:i,title:r}),t.next(n.children),t.closeMark(u)}},toMarkdown:{match:t=>t.type.name==="link",runner:(t,n)=>{t.withMark(n,"link",void 0,{title:n.attrs.title,url:n.attrs.href})}}}));X(Cl.mark,{displayName:"MarkSchema<link>",group:"Link"});const SN=Ne("ToggleLink",e=>(t={})=>Yp(Cl.type(e),t));X(SN,{displayName:"Command<toggleLinkCommand>",group:"Link"});const wN=Ne("UpdateLink",e=>(t={})=>(n,u)=>{if(!u)return!1;let i,r=-1;const{selection:o}=n,{from:s,to:f}=o;if(n.doc.nodesBetween(s,s===f?f+1:f,(E,k)=>{if(Cl.type(e).isInSet(E.marks))return i=E,r=k,!1}),!i)return!1;const d=i.marks.find(({type:E})=>E===Cl.type(e));if(!d)return!1;const p=r,m=r+i.nodeSize,{tr:v}=n,b=Cl.type(e).create({...d.attrs,...t});return b?(u(v.removeMark(p,m,d).addMark(p,m,b).setSelection(new Fe(v.selection.$anchor)).scrollIntoView()),!0):!1});X(wN,{displayName:"Command<updateLinkCommand>",group:"Link"});const _N=db("doc",()=>({content:"block+",parseMarkdown:{match:({type:e})=>e==="root",runner:(e,t,n)=>{e.injectRoot(t,n)}},toMarkdown:{match:e=>e.type.name==="doc",runner:(e,t)=>{e.openNode("root"),e.next(t.content)}}}));X(_N,{displayName:"NodeSchema<doc>",group:"Doc"});function YX(e){return Z3(e,t=>{var n;return t.type==="html"&&["<br />","<br>","<br >","<br/>"].includes((n=t.value)==null?void 0:n.trim())},(t,n)=>{if(!n.length)return;const u=n[n.length-1];if(!u)return;const i=u.children.indexOf(t);i!==-1&&u.children.splice(i,1)},!0)}const em=bo("remark-preserve-empty-line",()=>()=>YX);X(em.plugin,{displayName:"Remark<remarkPreserveEmptyLine>",group:"Remark"});X(em.options,{displayName:"RemarkConfig<remarkPreserveEmptyLine>",group:"Remark"});const kb=au("paragraph");X(kb,{displayName:"Attr<paragraph>",group:"Paragraph"});const cr=tn("paragraph",e=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:t=>["p",e.get(kb.key)(t),0],parseMarkdown:{match:t=>t.type==="paragraph",runner:(t,n,u)=>{t.openNode(u),n.children?t.next(n.children):t.addText(n.value||""),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="paragraph",runner:(t,n)=>{var r;const i=(r=e.get(ir).state)==null?void 0:r.doc.lastChild;t.openNode("paragraph"),(!n.content||n.content.size===0)&&n!==i&&XX(e)?t.addNode("html",void 0,"<br />"):EN(t,n),t.closeNode()}}}));function XX(e){let t=!1;try{e.get(em.id),t=!0}catch{t=!1}return t}X(cr.node,{displayName:"NodeSchema<paragraph>",group:"Paragraph"});X(cr.ctx,{displayName:"NodeSchemaCtx<paragraph>",group:"Paragraph"});const xb=Ne("TurnIntoText",e=>()=>Hc(cr.type(e)));X(xb,{displayName:"Command<turnIntoTextCommand>",group:"Paragraph"});const Sb=ii("paragraphKeymap",{TurnIntoText:{shortcuts:"Mod-Alt-0",command:e=>{const t=e.get(ot);return()=>t.call(xb.key)}}});X(Sb.ctx,{displayName:"KeymapCtx<paragraph>",group:"Paragraph"});X(Sb.shortcuts,{displayName:"Keymap<paragraph>",group:"Paragraph"});const QX=Array(6).fill(0).map((e,t)=>t+1);function WX(e){return e.textContent.toLowerCase().trim().replace(/\s+/g,"-")}const tm=sr(WX,"headingIdGenerator");X(tm,{displayName:"Ctx<HeadingIdGenerator>",group:"Heading"});const wb=au("heading");X(wb,{displayName:"Attr<heading>",group:"Heading"});const Eo=tn("heading",e=>{const t=e.get(tm.key);return{content:"inline*",group:"block",defining:!0,attrs:{id:{default:"",validate:"string"},level:{default:1,validate:"number"}},parseDOM:QX.map(n=>({tag:`h${n}`,getAttrs:u=>{if(!(u instanceof HTMLElement))throw bu(u);return{level:n,id:u.id}}})),toDOM:n=>[`h${n.attrs.level}`,{...e.get(wb.key)(n),id:n.attrs.id||t(n)},0],parseMarkdown:{match:({type:n})=>n==="heading",runner:(n,u,i)=>{const r=u.depth;n.openNode(i,{level:r}),n.next(u.children),n.closeNode()}},toMarkdown:{match:n=>n.type.name==="heading",runner:(n,u)=>{n.openNode("heading",void 0,{depth:u.attrs.level}),EN(n,u),n.closeNode()}}}});X(Eo.node,{displayName:"NodeSchema<heading>",group:"Heading"});X(Eo.ctx,{displayName:"NodeSchemaCtx<heading>",group:"Heading"});const AN=ni(e=>kz(/^(?<hashes>#+)\s$/,Eo.type(e),t=>{var o,s;const n=((s=(o=t.groups)==null?void 0:o.hashes)==null?void 0:s.length)||0,u=e.get(ir),{$from:i}=u.state.selection,r=i.node();if(r.type.name==="heading"){let f=Number(r.attrs.level)+Number(n);return f>6&&(f=6),{level:f}}return{level:n}}));X(AN,{displayName:"InputRule<wrapInHeadingInputRule>",group:"Heading"});const Lr=Ne("WrapInHeading",e=>t=>(t??(t=1),t<1?Hc(cr.type(e)):Hc(Eo.type(e),{level:t})));X(Lr,{displayName:"Command<wrapInHeadingCommand>",group:"Heading"});const _b=Ne("DowngradeHeading",e=>()=>(t,n,u)=>{const{$from:i}=t.selection,r=i.node();if(r.type!==Eo.type(e)||!t.selection.empty||i.parentOffset!==0)return!1;const o=r.attrs.level-1;return o?(n==null||n(t.tr.setNodeMarkup(t.selection.$from.before(),void 0,{...r.attrs,level:o})),!0):Hc(cr.type(e))(t,n,u)});X(_b,{displayName:"Command<downgradeHeadingCommand>",group:"Heading"});const Ab=ii("headingKeymap",{TurnIntoH1:{shortcuts:"Mod-Alt-1",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,1)}},TurnIntoH2:{shortcuts:"Mod-Alt-2",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,2)}},TurnIntoH3:{shortcuts:"Mod-Alt-3",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,3)}},TurnIntoH4:{shortcuts:"Mod-Alt-4",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,4)}},TurnIntoH5:{shortcuts:"Mod-Alt-5",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,5)}},TurnIntoH6:{shortcuts:"Mod-Alt-6",command:e=>{const t=e.get(ot);return()=>t.call(Lr.key,6)}},DowngradeHeading:{shortcuts:["Delete","Backspace"],command:e=>{const t=e.get(ot);return()=>t.call(_b.key)}}});X(Ab.ctx,{displayName:"KeymapCtx<heading>",group:"Heading"});X(Ab.shortcuts,{displayName:"Keymap<heading>",group:"Heading"});const Bb=au("blockquote");X(Bb,{displayName:"Attr<blockquote>",group:"Blockquote"});const Jf=tn("blockquote",e=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:t=>["blockquote",e.get(Bb.key)(t),0],parseMarkdown:{match:({type:t})=>t==="blockquote",runner:(t,n,u)=>{t.openNode(u).next(n.children).closeNode()}},toMarkdown:{match:t=>t.type.name==="blockquote",runner:(t,n)=>{t.openNode("blockquote").next(n.content).closeNode()}}}));X(Jf.node,{displayName:"NodeSchema<blockquote>",group:"Blockquote"});X(Jf.ctx,{displayName:"NodeSchemaCtx<blockquote>",group:"Blockquote"});const BN=ni(e=>tb(/^\s*>\s$/,Jf.type(e)));X(BN,{displayName:"InputRule<wrapInBlockquoteInputRule>",group:"Blockquote"});const Tb=Ne("WrapInBlockquote",e=>()=>eb(Jf.type(e)));X(Tb,{displayName:"Command<wrapInBlockquoteCommand>",group:"Blockquote"});const zb=ii("blockquoteKeymap",{WrapInBlockquote:{shortcuts:"Mod-Shift-b",command:e=>{const t=e.get(ot);return()=>t.call(Tb.key)}}});X(zb.ctx,{displayName:"KeymapCtx<blockquote>",group:"Blockquote"});X(zb.shortcuts,{displayName:"Keymap<blockquote>",group:"Blockquote"});const Nb=au("codeBlock",()=>({pre:{},code:{}}));X(Nb,{displayName:"Attr<codeBlock>",group:"CodeBlock"});const Kf=tn("code_block",e=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:"",validate:"string"}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{language:t.dataset.language}}}],toDOM:t=>{const n=e.get(Nb.key)(t),u=t.attrs.language,i=u&&u.length>0?{"data-language":u}:void 0;return["pre",{...n.pre,...i},["code",n.code,0]]},parseMarkdown:{match:({type:t})=>t==="code",runner:(t,n,u)=>{const i=n.lang??"",r=n.value;t.openNode(u,{language:i}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="code_block",runner:(t,n)=>{var u;t.addNode("code",void 0,((u=n.content.firstChild)==null?void 0:u.text)||"",{lang:n.attrs.language})}}}));X(Kf.node,{displayName:"NodeSchema<codeBlock>",group:"CodeBlock"});X(Kf.ctx,{displayName:"NodeSchemaCtx<codeBlock>",group:"CodeBlock"});const TN=ni(e=>kz(/^```(?<language>[a-z]*)?[\s\n]$/,Kf.type(e),t=>{var n;return{language:((n=t.groups)==null?void 0:n.language)??""}}));X(TN,{displayName:"InputRule<createCodeBlockInputRule>",group:"CodeBlock"});const $b=Ne("CreateCodeBlock",e=>(t="")=>Hc(Kf.type(e),{language:t}));X($b,{displayName:"Command<createCodeBlockCommand>",group:"CodeBlock"});const eQ=Ne("UpdateCodeBlockLanguage",()=>({pos:e,language:t}={pos:-1,language:""})=>(n,u)=>e>=0?(u==null||u(n.tr.setNodeAttribute(e,"language",t)),!0):!1);X(eQ,{displayName:"Command<updateCodeBlockLanguageCommand>",group:"CodeBlock"});const Ob=ii("codeBlockKeymap",{CreateCodeBlock:{shortcuts:"Mod-Alt-c",command:e=>{const t=e.get(ot);return()=>t.call($b.key)}}});X(Ob.ctx,{displayName:"KeymapCtx<codeBlock>",group:"CodeBlock"});X(Ob.shortcuts,{displayName:"Keymap<codeBlock>",group:"CodeBlock"});const Ib=au("image");X(Ib,{displayName:"Attr<image>",group:"Image"});const es=tn("image",e=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:"",validate:"string"},alt:{default:"",validate:"string"},title:{default:"",validate:"string"}},parseDOM:[{tag:"img[src]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{src:t.getAttribute("src")||"",alt:t.getAttribute("alt")||"",title:t.getAttribute("title")||t.getAttribute("alt")||""}}}],toDOM:t=>["img",{...e.get(Ib.key)(t),...t.attrs}],parseMarkdown:{match:({type:t})=>t==="image",runner:(t,n,u)=>{const i=n.url,r=n.alt,o=n.title;t.addNode(u,{src:i,alt:r,title:o})}},toMarkdown:{match:t=>t.type.name==="image",runner:(t,n)=>{t.addNode("image",void 0,void 0,{title:n.attrs.title,url:n.attrs.src,alt:n.attrs.alt})}}}));X(es.node,{displayName:"NodeSchema<image>",group:"Image"});X(es.ctx,{displayName:"NodeSchemaCtx<image>",group:"Image"});const zN=Ne("InsertImage",e=>(t={})=>(n,u)=>{if(!u)return!0;const{src:i="",alt:r="",title:o=""}=t,s=es.type(e).create({src:i,alt:r,title:o});return s&&u(n.tr.replaceSelectionWith(s).scrollIntoView()),!0});X(zN,{displayName:"Command<insertImageCommand>",group:"Image"});const NN=Ne("UpdateImage",e=>(t={})=>(n,u)=>{const i=RG(n.selection,es.type(e));if(!i)return!1;const{node:r,pos:o}=i,s={...r.attrs},{src:f,alt:d,title:p}=t;return f!==void 0&&(s.src=f),d!==void 0&&(s.alt=d),p!==void 0&&(s.title=p),u==null||u(n.tr.setNodeMarkup(o,void 0,s).scrollIntoView()),!0});X(NN,{displayName:"Command<updateImageCommand>",group:"Image"});const tQ=ni(e=>new Di(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,(t,n,u,i)=>{const[r,o,s="",f]=n;return r?t.tr.replaceWith(u,i,es.type(e).create({src:s,alt:o,title:f})):null}));X(tQ,{displayName:"InputRule<insertImageInputRule>",group:"Image"});const Ih=au("hardbreak",e=>({"data-type":"hardbreak","data-is-inline":e.attrs.isInline}));X(Ih,{displayName:"Attr<hardbreak>",group:"Hardbreak"});const eo=tn("hardbreak",e=>({inline:!0,group:"inline",attrs:{isInline:{default:!1,validate:"boolean"}},selectable:!1,parseDOM:[{tag:"br"},{tag:'span[data-type="hardbreak"]',getAttrs:()=>({isInline:!0})}],toDOM:t=>t.attrs.isInline?["span",e.get(Ih.key)(t)," "]:["br",e.get(Ih.key)(t)],parseMarkdown:{match:({type:t})=>t==="break",runner:(t,n,u)=>{var i;t.addNode(u,{isInline:!!((i=n.data)!=null&&i.isInline)})}},leafText:()=>`
`,toMarkdown:{match:t=>t.type.name==="hardbreak",runner:(t,n)=>{n.attrs.isInline?t.addNode("text",void 0,`
`):t.addNode("break")}}}));X(eo.node,{displayName:"NodeSchema<hardbreak>",group:"Hardbreak"});X(eo.ctx,{displayName:"NodeSchemaCtx<hardbreak>",group:"Hardbreak"});const Mb=Ne("InsertHardbreak",e=>()=>(t,n)=>{var r;const{selection:u,tr:i}=t;if(!(u instanceof Fe))return!1;if(u.empty){const o=u.$from.node();if(o.childCount>0&&((r=o.lastChild)==null?void 0:r.type.name)==="hardbreak")return n==null||n(i.replaceRangeWith(u.to-1,u.to,t.schema.node("paragraph")).setSelection(Ie.near(i.doc.resolve(u.to))).scrollIntoView()),!0}return n==null||n(i.setMeta("hardbreak",!0).replaceSelectionWith(eo.type(e).create()).scrollIntoView()),!0});X(Mb,{displayName:"Command<insertHardbreakCommand>",group:"Hardbreak"});const Rb=ii("hardbreakKeymap",{InsertHardbreak:{shortcuts:"Shift-Enter",command:e=>{const t=e.get(ot);return()=>t.call(Mb.key)}}});X(Rb.ctx,{displayName:"KeymapCtx<hardbreak>",group:"Hardbreak"});X(Rb.shortcuts,{displayName:"Keymap<hardbreak>",group:"Hardbreak"});const Fb=au("hr");X(Fb,{displayName:"Attr<hr>",group:"Hr"});const Gf=tn("hr",e=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:t=>["hr",e.get(Fb.key)(t)],parseMarkdown:{match:({type:t})=>t==="thematicBreak",runner:(t,n,u)=>{t.addNode(u)}},toMarkdown:{match:t=>t.type.name==="hr",runner:t=>{t.addNode("thematicBreak")}}}));X(Gf.node,{displayName:"NodeSchema<hr>",group:"Hr"});X(Gf.ctx,{displayName:"NodeSchemaCtx<hr>",group:"Hr"});const $N=ni(e=>new Di(/^(?:---|___\s|\*\*\*\s)$/,(t,n,u,i)=>{const{tr:r}=t;return n[0]&&r.replaceWith(u-1,i,Gf.type(e).create()),r}));X($N,{displayName:"InputRule<insertHrInputRule>",group:"Hr"});const ON=Ne("InsertHr",e=>()=>(t,n)=>{if(!n)return!0;const u=cr.node.type(e).create(),{tr:i,selection:r}=t,{from:o}=r,s=Gf.type(e).create();if(!s)return!0;const f=i.replaceSelectionWith(s).insert(o,u),d=Ie.findFrom(f.doc.resolve(o),1,!0);return d&&n(f.setSelection(d).scrollIntoView()),!0});X(ON,{displayName:"Command<insertHrCommand>",group:"Hr"});const Ub=au("bulletList");X(Ub,{displayName:"Attr<bulletList>",group:"BulletList"});const ts=tn("bullet_list",e=>({content:"listItem+",group:"block",attrs:{spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ul",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{spread:t.dataset.spread==="true"}}}],toDOM:t=>["ul",{...e.get(Ub.key)(t),"data-spread":t.attrs.spread},0],parseMarkdown:{match:({type:t,ordered:n})=>t==="list"&&!n,runner:(t,n,u)=>{const i=n.spread!=null?`${n.spread}`:"false";t.openNode(u,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:t=>t.type.name==="bullet_list",runner:(t,n)=>{t.openNode("list",void 0,{ordered:!1,spread:n.attrs.spread}).next(n.content).closeNode()}}}));X(ts.node,{displayName:"NodeSchema<bulletList>",group:"BulletList"});X(ts.ctx,{displayName:"NodeSchemaCtx<bulletList>",group:"BulletList"});const IN=ni(e=>tb(/^\s*([-+*])\s$/,ts.type(e)));X(IN,{displayName:"InputRule<wrapInBulletListInputRule>",group:"BulletList"});const jb=Ne("WrapInBulletList",e=>()=>eb(ts.type(e)));X(jb,{displayName:"Command<wrapInBulletListCommand>",group:"BulletList"});const Lb=ii("bulletListKeymap",{WrapInBulletList:{shortcuts:"Mod-Alt-8",command:e=>{const t=e.get(ot);return()=>t.call(jb.key)}}});X(Lb.ctx,{displayName:"KeymapCtx<bulletListKeymap>",group:"BulletList"});X(Lb.shortcuts,{displayName:"Keymap<bulletListKeymap>",group:"BulletList"});const Zb=au("orderedList");X(Zb,{displayName:"Attr<orderedList>",group:"OrderedList"});const ns=tn("ordered_list",e=>({content:"listItem+",group:"block",attrs:{order:{default:1,validate:"number"},spread:{default:!1,validate:"boolean"}},parseDOM:[{tag:"ol",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{spread:t.dataset.spread,order:t.hasAttribute("start")?Number(t.getAttribute("start")):1}}}],toDOM:t=>["ol",{...e.get(Zb.key)(t),...t.attrs.order===1?{}:t.attrs.order,"data-spread":t.attrs.spread},0],parseMarkdown:{match:({type:t,ordered:n})=>t==="list"&&!!n,runner:(t,n,u)=>{const i=n.spread!=null?`${n.spread}`:"true";t.openNode(u,{spread:i}).next(n.children).closeNode()}},toMarkdown:{match:t=>t.type.name==="ordered_list",runner:(t,n)=>{t.openNode("list",void 0,{ordered:!0,start:1,spread:n.attrs.spread==="true"}),t.next(n.content),t.closeNode()}}}));X(ns.node,{displayName:"NodeSchema<orderedList>",group:"OrderedList"});X(ns.ctx,{displayName:"NodeSchemaCtx<orderedList>",group:"OrderedList"});const MN=ni(e=>tb(/^\s*(\d+)\.\s$/,ns.type(e),t=>({order:Number(t[1])}),(t,n)=>n.childCount+n.attrs.order===Number(t[1])));X(MN,{displayName:"InputRule<wrapInOrderedListInputRule>",group:"OrderedList"});const Pb=Ne("WrapInOrderedList",e=>()=>eb(ns.type(e)));X(Pb,{displayName:"Command<wrapInOrderedListCommand>",group:"OrderedList"});const Hb=ii("orderedListKeymap",{WrapInOrderedList:{shortcuts:"Mod-Alt-7",command:e=>{const t=e.get(ot);return()=>t.call(Pb.key)}}});X(Hb.ctx,{displayName:"KeymapCtx<orderedList>",group:"OrderedList"});X(Hb.shortcuts,{displayName:"Keymap<orderedList>",group:"OrderedList"});const qb=au("listItem");X(qb,{displayName:"Attr<listItem>",group:"ListItem"});const fr=tn("list_item",e=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"",validate:"string"},listType:{default:"bullet",validate:"string"},spread:{default:!0,validate:"boolean"}},defining:!0,parseDOM:[{tag:"li",getAttrs:t=>{if(!(t instanceof HTMLElement))throw bu(t);return{label:t.dataset.label,listType:t.dataset.listType,spread:t.dataset.spread==="true"}}}],toDOM:t=>["li",{...e.get(qb.key)(t),"data-label":t.attrs.label,"data-list-type":t.attrs.listType,"data-spread":t.attrs.spread},0],parseMarkdown:{match:({type:t})=>t==="listItem",runner:(t,n,u)=>{const i=n.label!=null?`${n.label}.`:"",r=n.label!=null?"ordered":"bullet",o=n.spread!=null?`${n.spread}`:"true";t.openNode(u,{label:i,listType:r,spread:o}),t.next(n.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name==="list_item",runner:(t,n)=>{t.openNode("listItem",void 0,{spread:n.attrs.spread}),t.next(n.content),t.closeNode()}}}));X(fr.node,{displayName:"NodeSchema<listItem>",group:"ListItem"});X(fr.ctx,{displayName:"NodeSchemaCtx<listItem>",group:"ListItem"});const Vb=Ne("SinkListItem",e=>()=>JX(fr.type(e)));X(Vb,{displayName:"Command<sinkListItemCommand>",group:"ListItem"});const Jb=Ne("LiftListItem",e=>()=>HX(fr.type(e)));X(Jb,{displayName:"Command<liftListItemCommand>",group:"ListItem"});const Kb=Ne("SplitListItem",e=>()=>PX(fr.type(e)));X(Kb,{displayName:"Command<splitListItemCommand>",group:"ListItem"});function nQ(e){return(t,n,u)=>{const{selection:i}=t;if(!(i instanceof Fe))return!1;const{empty:r,$from:o}=i;return!r||o.parentOffset!==0||o.node(-1).type!==fr.type(e)?!1:yz(t,n,u)}}const Gb=Ne("LiftFirstListItem",e=>()=>nQ(e));X(Gb,{displayName:"Command<liftFirstListItemCommand>",group:"ListItem"});const Yb=ii("listItemKeymap",{NextListItem:{shortcuts:"Enter",command:e=>{const t=e.get(ot);return()=>t.call(Kb.key)}},SinkListItem:{shortcuts:["Tab","Mod-]"],command:e=>{const t=e.get(ot);return()=>t.call(Vb.key)}},LiftListItem:{shortcuts:["Shift-Tab","Mod-["],command:e=>{const t=e.get(ot);return()=>t.call(Jb.key)}},LiftFirstListItem:{shortcuts:["Backspace","Delete"],command:e=>{const t=e.get(ot);return()=>t.call(Gb.key)}}});X(Yb.ctx,{displayName:"KeymapCtx<listItem>",group:"ListItem"});X(Yb.shortcuts,{displayName:"Keymap<listItem>",group:"ListItem"});const RN=db("text",()=>({group:"inline",parseMarkdown:{match:({type:e})=>e==="text",runner:(e,t)=>{e.addText(t.value)}},toMarkdown:{match:e=>e.type.name==="text",runner:(e,t)=>{e.addNode("text",void 0,t.text)}}}));X(RN,{displayName:"NodeSchema<text>",group:"Text"});const Xb=au("html");X(Xb,{displayName:"Attr<html>",group:"Html"});const Qb=tn("html",e=>({atom:!0,group:"inline",inline:!0,attrs:{value:{default:"",validate:"string"}},toDOM:t=>{const n=document.createElement("span"),u={...e.get(Xb.key)(t),"data-value":t.attrs.value,"data-type":"html"};return n.textContent=t.attrs.value,["span",u,t.attrs.value]},parseDOM:[{tag:'span[data-type="html"]',getAttrs:t=>({value:t.dataset.value??""})}],parseMarkdown:{match:({type:t})=>t==="html",runner:(t,n,u)=>{t.addNode(u,{value:n.value})}},toMarkdown:{match:t=>t.type.name==="html",runner:(t,n)=>{t.addNode("html",void 0,n.attrs.value)}}}));X(Qb.node,{displayName:"NodeSchema<html>",group:"Html"});X(Qb.ctx,{displayName:"NodeSchemaCtx<html>",group:"Html"});const iQ=[_N,kb,cr,tm,wb,Eo,Ih,eo,Bb,Jf,Nb,Kf,Fb,Gf,Ib,es,Ub,ts,Zb,ns,qb,fr,hb,Wl,gb,Vf,bb,Yr,Db,Cl,Xb,Qb,RN].flat(),uQ=[BN,IN,MN,TN,$N,AN].flat(),rQ=[CN,DN,xN,kN],aQ=Ne("IsMarkSelected",()=>e=>t=>{if(!e)return!1;const{doc:n,selection:u}=t;return n.rangeHasMark(u.from,u.to,e)}),oQ=Ne("IsNoteSelected",()=>e=>t=>e?FG(t,e).hasNode:!1),lQ=Ne("ClearTextInCurrentBlock",()=>()=>(e,t)=>{let n=e.tr;const{$from:u,$to:i}=n.selection,{pos:r}=u,{pos:o}=i,s=r-u.node().content.size;return s<0?!1:(n=n.deleteRange(s,o),t==null||t(n),!0)}),sQ=Ne("SetBlockType",()=>e=>(t,n)=>{const{nodeType:u,attrs:i=null}=e??{};if(!u)return!1;const r=t.tr,{from:o,to:s}=r.selection;try{r.setBlockType(o,s,u,i)}catch{return!1}return n==null||n(r),!0}),cQ=Ne("WrapInBlockType",()=>e=>(t,n)=>{const{nodeType:u,attrs:i=null}=e??{};if(!u)return!1;let r=t.tr;try{const{$from:o,$to:s}=r.selection,f=o.blockRange(s),d=f&&G3(f,u,i);if(!d)return!1;r=r.wrap(f,d)}catch{return!1}return n==null||n(r),!0}),fQ=Ne("AddBlockType",()=>e=>(t,n)=>{const{nodeType:u,attrs:i=null}=e??{};if(!u)return!1;const r=t.tr;try{const o=u instanceof Li?u:u.createAndFill(i);if(!o)return!1;r.replaceSelectionWith(o)}catch{return!1}return n==null||n(r),!0}),dQ=Ne("SelectTextNearPos",()=>e=>(t,n)=>{const{pos:u}=e??{};if(u==null)return!1;const i=(o,s,f)=>Math.min(Math.max(o,s),f),r=t.tr;try{const o=t.doc.resolve(i(u,0,t.doc.content.size));r.setSelection(Fe.near(o))}catch{return!1}return n==null||n(r.scrollIntoView()),!0}),hQ=[xb,Tb,Lr,_b,$b,Mb,ON,zN,NN,Pb,jb,Vb,Kb,Jb,Gb,pb,Eb,yb,SN,wN,aQ,oQ,lQ,sQ,cQ,fQ,dQ],pQ=[zb,Ob,Rb,Ab,Yb,Hb,Lb,Sb,mb,Cb,vb].flat(),Wb=bo("remarkAddOrderInList",()=>()=>e=>{Yl(e,"list",t=>{if(t.ordered){const n=t.start??1;t.children.forEach((u,i)=>{u.label=i+n})}})});X(Wb.plugin,{displayName:"Remark<remarkAddOrderInListPlugin>",group:"Remark"});X(Wb.options,{displayName:"RemarkConfig<remarkAddOrderInListPlugin>",group:"Remark"});const eE=bo("remarkLineBreak",()=>()=>e=>{const t=/[\t ]*(?:\r?\n|\r)/g;Yl(e,"text",(n,u,i)=>{if(!n.value||typeof n.value!="string")return;const r=[];let o=0;t.lastIndex=0;let s=t.exec(n.value);for(;s;){const d=s.index;o!==d&&r.push({type:"text",value:n.value.slice(o,d)}),r.push({type:"break",data:{isInline:!0}}),o=d+s[0].length,s=t.exec(n.value)}if(r.length>0&&i&&typeof u=="number")return o<n.value.length&&r.push({type:"text",value:n.value.slice(o)}),i.children.splice(u,1,...r),u+r.length})});X(eE.plugin,{displayName:"Remark<remarkLineBreak>",group:"Remark"});X(eE.options,{displayName:"RemarkConfig<remarkLineBreak>",group:"Remark"});const tE=bo("remarkInlineLink",()=>GX);X(tE.plugin,{displayName:"Remark<remarkInlineLinkPlugin>",group:"Remark"});X(tE.options,{displayName:"RemarkConfig<remarkInlineLinkPlugin>",group:"Remark"});const mQ=e=>!!e.children,gQ=e=>e.type==="html";function yQ(e,t){return n(e,0,null)[0];function n(u,i,r){if(mQ(u)){const o=[];for(let s=0,f=u.children.length;s<f;s++){const d=u.children[s];if(d){const p=n(d,s,u);if(p)for(let m=0,v=p.length;m<v;m++){const b=p[m];b&&o.push(b)}}}u.children=o}return t(u,i,r)}}const vQ=["root","blockquote","listItem"],nE=bo("remarkHTMLTransformer",()=>()=>e=>{yQ(e,(t,n,u)=>gQ(t)?(u&&vQ.includes(u.type)&&(t.children=[{...t}],delete t.value,t.type="paragraph"),[t]):[t])});X(nE.plugin,{displayName:"Remark<remarkHtmlTransformer>",group:"Remark"});X(nE.options,{displayName:"RemarkConfig<remarkHtmlTransformer>",group:"Remark"});const iE=bo("remarkMarker",()=>()=>(e,t)=>{const n=u=>t.value.charAt(u.position.start.offset);Yl(e,u=>["strong","emphasis"].includes(u.type),u=>{u.marker=n(u)})});X(iE.plugin,{displayName:"Remark<remarkMarker>",group:"Remark"});X(iE.options,{displayName:"RemarkConfig<remarkMarker>",group:"Remark"});const FN=ru(()=>{let e=!1;const t=new Dn("MILKDOWN_INLINE_NODES_CURSOR"),n=new Bn({key:t,state:{init(){return!1},apply(u){if(!u.selection.empty)return!1;const i=u.selection.$from,r=i.nodeBefore,o=i.nodeAfter;return!!(r&&o&&r.isInline&&!r.isText&&o.isInline&&!o.isText)}},props:{handleDOMEvents:{compositionend:(u,i)=>e?(e=!1,requestAnimationFrame(()=>{if(n.getState(u.state)){const o=u.state.selection.from;i.preventDefault(),u.dispatch(u.state.tr.insertText(i.data||"",o))}}),!0):!1,compositionstart:u=>(n.getState(u.state)&&(e=!0),!1),beforeinput:(u,i)=>{if(n.getState(u.state)&&i instanceof InputEvent&&i.data&&!e){const o=u.state.selection.from;return i.preventDefault(),u.dispatch(u.state.tr.insertText(i.data||"",o)),!0}return!1}},decorations(u){if(n.getState(u)){const o=u.selection.$from.pos,s=document.createElement("span"),f=vn.widget(o,s,{side:-1}),d=document.createElement("span"),p=vn.widget(o,d);return setTimeout(()=>{s.contentEditable="true",d.contentEditable="true"}),It.create(u.doc,[f,p])}return It.empty}}});return n});X(FN,{displayName:"Prose<inlineNodesCursorPlugin>",group:"Prose"});const UN=ru(e=>new Bn({key:new Dn("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(t,n,u)=>{if(!t.length)return;const[i]=t;if(!i)return;const[r]=i.steps;if(i.getMeta("hardbreak")){if(!(r instanceof rn))return;const{from:f}=r;return u.tr.setNodeMarkup(f,eo.type(e),void 0,[])}if(r instanceof er){let f=u.tr;const{from:d,to:p}=r;return u.doc.nodesBetween(d,p,(m,v)=>{m.type===eo.type(e)&&(f=f.setNodeMarkup(v,eo.type(e),void 0,[]))}),f}}}));X(UN,{displayName:"Prose<hardbreakClearMarkPlugin>",group:"Prose"});const uE=sr(["table","code_block"],"hardbreakFilterNodes");X(uE,{displayName:"Ctx<hardbreakFilterNodes>",group:"Prose"});const jN=ru(e=>{const t=e.get(uE.key);return new Bn({key:new Dn("MILKDOWN_HARDBREAK_FILTER"),filterTransaction:(n,u)=>{const i=n.getMeta("hardbreak"),[r]=n.steps;if(i&&r){const{from:o}=r,s=u.doc.resolve(o);let f=s.depth,d=!0;for(;f>0;)t.includes(s.node(f).type.name)&&(d=!1),f--;return d}return!0}})});X(jN,{displayName:"Prose<hardbreakFilterPlugin>",group:"Prose"});const LN=ru(e=>{const t=new Dn("MILKDOWN_HEADING_ID"),n=u=>{if(u.composing)return;const i=e.get(tm.key),r=u.state.tr.setMeta("addToHistory",!1);let o=!1;const s={};u.state.doc.descendants((f,d)=>{if(f.type===Eo.type(e)){if(f.textContent.trim().length===0)return;const p=f.attrs;let m=i(f);s[m]?(s[m]+=1,m+=`-#${s[m]}`):s[m]=1,p.id!==m&&(o=!0,r.setMeta(t,!0).setNodeMarkup(d,void 0,{...p,id:m}))}}),o&&u.dispatch(r)};return new Bn({key:t,view:u=>(n(u),{update:(i,r)=>{i.state.doc.eq(r.doc)||n(i)}})})});X(LN,{displayName:"Prose<syncHeadingIdPlugin>",group:"Prose"});const ZN=ru(e=>{const t=(n,u,i)=>{if(!i.selection||n.some(m=>m.getMeta("addToHistory")===!1||!m.isGeneric))return null;const r=ns.type(e),o=ts.type(e),s=fr.type(e),f=(m,v)=>{let b=!1;const E=`${v+1}.`;return m.label!==E&&(m.label=E,b=!0),b};let d=i.tr,p=!1;return i.doc.descendants((m,v,b,E)=>{if(m.type===o){const k=m.maybeChild(0);(k==null?void 0:k.type)===s&&k.attrs.listType==="ordered"&&(p=!0,d.setNodeMarkup(v,r,{spread:"true"}),m.descendants((S,w,U,$)=>{if(S.type===s){const Q={...S.attrs};f(Q,$)&&(d=d.setNodeMarkup(w,void 0,Q))}return!1}))}else if(m.type===s&&(b==null?void 0:b.type)===r){const k={...m.attrs};let S=!1;k.listType!=="ordered"&&(k.listType="ordered",S=!0),(b==null?void 0:b.maybeChild(0))&&(S=f(k,E)),S&&(d=d.setNodeMarkup(v,void 0,k),p=!0)}}),p?d.setMeta("addToHistory",!1):null};return new Bn({key:new Dn("MILKDOWN_KEEP_LIST_ORDER"),appendTransaction:t})});X(ZN,{displayName:"Prose<syncListOrderPlugin>",group:"Prose"});const bQ=[UN,uE,jN,FN,Wb,tE,eE,nE,iE,em,LN,ZN].flat(),EQ=[iQ,uQ,rQ,hQ,pQ,bQ].flat();let fy,dy;if(typeof WeakMap<"u"){let e=new WeakMap;fy=t=>e.get(t),dy=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;fy=u=>{for(let i=0;i<e.length;i+=2)if(e[i]==u)return e[i+1]},dy=(u,i)=>(n==10&&(n=0),e[n++]=u,e[n++]=i)}var ct=class{constructor(e,t,n,u){this.width=e,this.height=t,this.map=n,this.problems=u}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const u=t%this.width,i=t/this.width|0;let r=u+1,o=i+1;for(let s=1;r<this.width&&this.map[t+s]==n;s++)r++;for(let s=1;o<this.height&&this.map[t+this.width*s]==n;s++)o++;return{left:u,top:i,right:r,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:u,right:i,top:r,bottom:o}=this.findCell(e);return t=="horiz"?(n<0?u==0:i==this.width)?null:this.map[r*this.width+(n<0?u-1:i)]:(n<0?r==0:o==this.height)?null:this.map[u+this.width*(n<0?r-1:o)]}rectBetween(e,t){const{left:n,right:u,top:i,bottom:r}=this.findCell(e),{left:o,right:s,top:f,bottom:d}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(i,f),right:Math.max(u,s),bottom:Math.max(r,d)}}cellsInRect(e){const t=[],n={};for(let u=e.top;u<e.bottom;u++)for(let i=e.left;i<e.right;i++){const r=u*this.width+i,o=this.map[r];n[o]||(n[o]=!0,!(i==e.left&&i&&this.map[r-1]==o||u==e.top&&u&&this.map[r-this.width]==o)&&t.push(o))}return t}positionAt(e,t,n){for(let u=0,i=0;;u++){const r=i+n.child(u).nodeSize;if(u==e){let o=t+e*this.width;const s=(e+1)*this.width;for(;o<s&&this.map[o]<i;)o++;return o==s?r-1:this.map[o]}i=r}}static get(e){return fy(e)||dy(e,CQ(e))}};function CQ(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=DQ(e),n=e.childCount,u=[];let i=0,r=null;const o=[];for(let d=0,p=t*n;d<p;d++)u[d]=0;for(let d=0,p=0;d<n;d++){const m=e.child(d);p++;for(let E=0;;E++){for(;i<u.length&&u[i]!=0;)i++;if(E==m.childCount)break;const k=m.child(E),{colspan:S,rowspan:w,colwidth:U}=k.attrs;for(let $=0;$<w;$++){if($+d>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:p,n:w-$});break}const Q=i+$*t;for(let ue=0;ue<S;ue++){u[Q+ue]==0?u[Q+ue]=p:(r||(r=[])).push({type:"collision",row:d,pos:p,n:S-ue});const N=U&&U[ue];if(N){const P=(Q+ue)%t*2,re=o[P];re==null||re!=N&&o[P+1]==1?(o[P]=N,o[P+1]=1):re==N&&o[P+1]++}}}i+=S,p+=k.nodeSize}const v=(d+1)*t;let b=0;for(;i<v;)u[i++]==0&&b++;b&&(r||(r=[])).push({type:"missing",row:d,n:b}),p++}(t===0||n===0)&&(r||(r=[])).push({type:"zero_sized"});const s=new ct(t,n,u,r);let f=!1;for(let d=0;!f&&d<o.length;d+=2)o[d]!=null&&o[d+1]<n&&(f=!0);return f&&kQ(s,o,e),s}function DQ(e){let t=-1,n=!1;for(let u=0;u<e.childCount;u++){const i=e.child(u);let r=0;if(n)for(let o=0;o<u;o++){const s=e.child(o);for(let f=0;f<s.childCount;f++){const d=s.child(f);o+d.attrs.rowspan>u&&(r+=d.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const s=i.child(o);r+=s.attrs.colspan,s.attrs.rowspan>1&&(n=!0)}t==-1?t=r:t!=r&&(t=Math.max(t,r))}return t}function kQ(e,t,n){e.problems||(e.problems=[]);const u={};for(let i=0;i<e.map.length;i++){const r=e.map[i];if(u[r])continue;u[r]=!0;const o=n.nodeAt(r);if(!o)throw new RangeError(`No cell with offset ${r} found`);let s=null;const f=o.attrs;for(let d=0;d<f.colspan;d++){const p=t[(i+d)%e.width*2];p!=null&&(!f.colwidth||f.colwidth[d]!=p)&&((s||(s=xQ(f)))[d]=p)}s&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:s})}}function xQ(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function VS(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),u=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(o=>Number(o)):null,i=Number(e.getAttribute("colspan")||1),r={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:u&&u.length==i?u:null};for(const o in t){const s=t[o].getFromDOM,f=s&&s(e);f!=null&&(r[o]=f)}return r}function JS(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const u in t){const i=t[u].setDOMAttr;i&&i(e.attrs[u],n)}return n}function SQ(e){if(e!==null){if(!Array.isArray(e))throw new TypeError("colwidth must be null or an array");for(const t of e)if(typeof t!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function wQ(e){const t=e.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:SQ}};for(const u in t)n[u]={default:t[u].default,validate:t[u].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:u=>VS(u,t)}],toDOM(u){return["td",JS(u,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:u=>VS(u,t)}],toDOM(u){return["th",JS(u,t),0]}}}}function qi(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const u=e.nodes[n],i=u.spec.tableRole;i&&(t[i]=u)}}return t}const Hr=new Dn("selectingCells");function Jl(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Gi(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function nm(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Jl(t.$head)||_Q(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function _Q(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const u=t.type.spec.tableRole;if(u=="cell"||u=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const u=t.type.spec.tableRole;if(u=="cell"||u=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function hy(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function AQ(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function rE(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function PN(e,t,n){const u=e.node(-1),i=ct.get(u),r=e.start(-1),o=i.nextCell(e.pos-r,t,n);return o==null?null:e.node(0).resolve(r+o)}function fo(e,t,n=1){const u={...e,colspan:e.colspan-n};return u.colwidth&&(u.colwidth=u.colwidth.slice(),u.colwidth.splice(t,n),u.colwidth.some(i=>i>0)||(u.colwidth=null)),u}function BQ(e,t,n=1){const u={...e,colspan:e.colspan+n};if(u.colwidth){u.colwidth=u.colwidth.slice();for(let i=0;i<n;i++)u.colwidth.splice(t,0,0)}return u}function TQ(e,t,n){const u=qi(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=u)return!1;return!0}var Tt=class qu extends Ie{constructor(t,n=t){const u=t.node(-1),i=ct.get(u),r=t.start(-1),o=i.rectBetween(t.pos-r,n.pos-r),s=t.node(0),f=i.cellsInRect(o).filter(p=>p!=n.pos-r);f.unshift(n.pos-r);const d=f.map(p=>{const m=u.nodeAt(p);if(!m)throw new RangeError(`No cell with offset ${p} found`);const v=r+p+1;return new hz(s.resolve(v),s.resolve(v+m.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=t,this.$headCell=n}map(t,n){const u=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(hy(u)&&hy(i)&&rE(u,i)){const r=this.$anchorCell.node(-1)!=u.node(-1);return r&&this.isRowSelection()?qu.rowSelection(u,i):r&&this.isColSelection()?qu.colSelection(u,i):new qu(u,i)}return Fe.between(u,i)}content(){const t=this.$anchorCell.node(-1),n=ct.get(t),u=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-u,this.$headCell.pos-u),r={},o=[];for(let f=i.top;f<i.bottom;f++){const d=[];for(let p=f*n.width+i.left,m=i.left;m<i.right;m++,p++){const v=n.map[p];if(r[v])continue;r[v]=!0;const b=n.findCell(v);let E=t.nodeAt(v);if(!E)throw new RangeError(`No cell with offset ${v} found`);const k=i.left-b.left,S=b.right-i.right;if(k>0||S>0){let w=E.attrs;if(k>0&&(w=fo(w,0,k)),S>0&&(w=fo(w,w.colspan-S,S)),b.left<i.left){if(E=E.type.createAndFill(w),!E)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else E=E.type.create(w,E.content)}if(b.top<i.top||b.bottom>i.bottom){const w={...E.attrs,rowspan:Math.min(b.bottom,i.bottom)-Math.max(b.top,i.top)};b.top<i.top?E=E.type.createAndFill(w):E=E.type.create(w,E.content)}d.push(E)}o.push(t.child(f).copy(ee.from(d)))}const s=this.isColSelection()&&this.isRowSelection()?t:o;return new oe(ee.from(s),1,1)}replace(t,n=oe.empty){const u=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:s,$to:f}=i[o],d=t.mapping.slice(u);t.replace(d.map(s.pos),d.map(f.pos),o?oe.empty:n)}const r=Ie.findFrom(t.doc.resolve(t.mapping.slice(u).map(this.to)),-1);r&&t.setSelection(r)}replaceWith(t,n){this.replace(t,new oe(ee.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),u=ct.get(n),i=this.$anchorCell.start(-1),r=u.cellsInRect(u.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<r.length;o++)t(n.nodeAt(r[o]),i+r[o])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const u=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(u,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const u=t.node(-1),i=ct.get(u),r=t.start(-1),o=i.findCell(t.pos-r),s=i.findCell(n.pos-r),f=t.node(0);return o.top<=s.top?(o.top>0&&(t=f.resolve(r+i.map[o.left])),s.bottom<i.height&&(n=f.resolve(r+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=f.resolve(r+i.map[s.left])),o.bottom<i.height&&(t=f.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new qu(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=ct.get(t),u=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-u),r=n.colCount(this.$headCell.pos-u);if(Math.min(i,r)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,s=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==n.width}eq(t){return t instanceof qu&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const u=t.node(-1),i=ct.get(u),r=t.start(-1),o=i.findCell(t.pos-r),s=i.findCell(n.pos-r),f=t.node(0);return o.left<=s.left?(o.left>0&&(t=f.resolve(r+i.map[o.top*i.width])),s.right<i.width&&(n=f.resolve(r+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=f.resolve(r+i.map[s.top*i.width])),o.right<i.width&&(t=f.resolve(r+i.map[i.width*(o.top+1)-1]))),new qu(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new qu(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,u=n){return new qu(t.resolve(n),t.resolve(u))}getBookmark(){return new zQ(this.$anchorCell.pos,this.$headCell.pos)}};Tt.prototype.visible=!1;Ie.jsonID("cell",Tt);var zQ=class HN{constructor(t,n){this.anchor=t,this.head=n}map(t){return new HN(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),u=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&u.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&u.index()<u.parent.childCount&&rE(n,u)?new Tt(n,u):Ie.near(u,1)}};function NQ(e){if(!(e.selection instanceof Tt))return null;const t=[];return e.selection.forEachCell((n,u)=>{t.push(vn.node(u,u+n.nodeSize,{class:"selectedCell"}))}),It.create(e.doc,t)}function $Q({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,u=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let r=t.depth;r>=0&&!(t.before(r+1)>t.start(r));r--,u--);return n==u&&/row|table/.test(e.node(i).type.spec.tableRole)}function OQ({$from:e,$to:t}){let n,u;for(let i=e.depth;i>0;i--){const r=e.node(i);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){n=r;break}}for(let i=t.depth;i>0;i--){const r=t.node(i);if(r.type.spec.tableRole==="cell"||r.type.spec.tableRole==="header_cell"){u=r;break}}return n!==u&&t.parentOffset===0}function IQ(e,t,n){const u=(t||e).selection,i=(t||e).doc;let r,o;if(u instanceof ze&&(o=u.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")r=Tt.create(i,u.from);else if(o=="row"){const s=i.resolve(u.from+1);r=Tt.rowSelection(s,s)}else if(!n){const s=ct.get(u.node),f=u.from+1,d=f+s.map[s.width*s.height-1];r=Tt.create(i,f+1,d)}}else u instanceof Fe&&$Q(u)?r=Fe.create(i,u.from):u instanceof Fe&&OQ(u)&&(r=Fe.create(i,u.$from.start(),u.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}const MQ=new Dn("fix-tables");function qN(e,t,n,u){const i=e.childCount,r=t.childCount;e:for(let o=0,s=0;o<r;o++){const f=t.child(o);for(let d=s,p=Math.min(i,o+3);d<p;d++)if(e.child(d)==f){s=d+1,n+=f.nodeSize;continue e}u(f,n),s<i&&e.child(s).sameMarkup(f)?qN(e.child(s),f,n+1,u):f.nodesBetween(0,f.content.size,u,n+1),n+=f.nodeSize}}function RQ(e,t){let n;const u=(i,r)=>{i.type.spec.tableRole=="table"&&(n=FQ(e,i,r,n))};return t?t.doc!=e.doc&&qN(t.doc,e.doc,0,u):e.doc.descendants(u),n}function FQ(e,t,n,u){const i=ct.get(t);if(!i.problems)return u;u||(u=e.tr);const r=[];for(let f=0;f<i.height;f++)r.push(0);for(let f=0;f<i.problems.length;f++){const d=i.problems[f];if(d.type=="collision"){const p=t.nodeAt(d.pos);if(!p)continue;const m=p.attrs;for(let v=0;v<m.rowspan;v++)r[d.row+v]+=d.n;u.setNodeMarkup(u.mapping.map(n+1+d.pos),null,fo(m,m.colspan-d.n,d.n))}else if(d.type=="missing")r[d.row]+=d.n;else if(d.type=="overlong_rowspan"){const p=t.nodeAt(d.pos);if(!p)continue;u.setNodeMarkup(u.mapping.map(n+1+d.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-d.n})}else if(d.type=="colwidth mismatch"){const p=t.nodeAt(d.pos);if(!p)continue;u.setNodeMarkup(u.mapping.map(n+1+d.pos),null,{...p.attrs,colwidth:d.colwidth})}else if(d.type=="zero_sized"){const p=u.mapping.map(n);u.delete(p,p+t.nodeSize)}}let o,s;for(let f=0;f<r.length;f++)r[f]&&(o==null&&(o=f),s=f);for(let f=0,d=n+1;f<i.height;f++){const p=t.child(f),m=d+p.nodeSize,v=r[f];if(v>0){let b="cell";p.firstChild&&(b=p.firstChild.type.spec.tableRole);const E=[];for(let S=0;S<v;S++){const w=qi(e.schema)[b].createAndFill();w&&E.push(w)}const k=(f==0||o==f-1)&&s==f?d+1:m-1;u.insert(u.mapping.map(k),E)}d=m}return u.setMeta(MQ,{fixTables:!0})}function VN(e){const t=ct.get(e),n=[],u=t.height,i=t.width;for(let r=0;r<u;r++){const o=[];for(let s=0;s<i;s++){const f=r*i+s,d=t.map[f];if(r>0){const p=f-i;if(d===t.map[p]){o.push(null);continue}}if(s>0){const p=f-1;if(d===t.map[p]){o.push(null);continue}}o.push(e.nodeAt(d))}n.push(o)}return n}function JN(e,t){const n=[],u=ct.get(e),i=u.height,r=u.width;for(let o=0;o<i;o++){const s=e.child(o),f=[];for(let p=0;p<r;p++){const m=t[o][p];if(!m)continue;const v=u.map[o*u.width+p],b=e.nodeAt(v);if(!b)continue;const E=b.type.createChecked(m.attrs,m.content,m.marks);f.push(E)}const d=s.type.createChecked(s.attrs,f,s.marks);n.push(d)}return e.type.createChecked(e.attrs,n,e.marks)}function KN(e,t,n,u){const i=t[0]>n[0]?-1:1,r=e.splice(t[0],t.length),o=r.length%2===0?1:0;let s;return s=i===-1?n[0]:n[n.length-1]-o,e.splice(s,0,...r),e}function Yf(e){return UQ(t=>t.type.spec.tableRole==="table",e)}function UQ(e,t){for(let n=t.depth;n>=0;n-=1){const u=t.node(n);if(e(u))return{node:u,pos:n===0?0:t.before(n),start:t.start(n),depth:n}}return null}function ml(e,t){const n=Yf(t.$from);if(!n)return;const u=ct.get(n.node);if(!(e<0||e>u.width-1))return u.cellsInRect({left:e,right:e+1,top:0,bottom:u.height}).map(i=>{const r=n.node.nodeAt(i),o=i+n.start;return{pos:o,start:o+1,node:r,depth:n.depth+2}})}function gl(e,t){const n=Yf(t.$from);if(!n)return;const u=ct.get(n.node);if(!(e<0||e>u.height-1))return u.cellsInRect({left:0,right:u.width,top:e,bottom:e+1}).map(i=>{const r=n.node.nodeAt(i),o=i+n.start;return{pos:o,start:o+1,node:r,depth:n.depth+2}})}function KS(e,t,n=t){let u=t,i=n;for(let p=t;p>=0;p--){const m=ml(p,e.selection);m&&m.forEach(v=>{const b=v.node.attrs.colspan+p-1;b>=u&&(u=p),b>i&&(i=b)})}for(let p=t;p<=i;p++){const m=ml(p,e.selection);m&&m.forEach(v=>{const b=v.node.attrs.colspan+p-1;v.node.attrs.colspan>1&&b>i&&(i=b)})}const r=[];for(let p=u;p<=i;p++){const m=ml(p,e.selection);m&&m.length>0&&r.push(p)}u=r[0],i=r[r.length-1];const o=ml(u,e.selection),s=gl(0,e.selection);if(!o||!s)return;const f=e.doc.resolve(o[o.length-1].pos);let d;for(let p=i;p>=u;p--){const m=ml(p,e.selection);if(m&&m.length>0){for(let v=s.length-1;v>=0;v--)if(s[v].pos===m[0].pos){d=m[0];break}if(d)break}}if(d)return{$anchor:f,$head:e.doc.resolve(d.pos),indexes:r}}function GS(e,t,n=t){let u=t,i=n;for(let p=t;p>=0;p--){const m=gl(p,e.selection);m&&m.forEach(v=>{const b=v.node.attrs.rowspan+p-1;b>=u&&(u=p),b>i&&(i=b)})}for(let p=t;p<=i;p++){const m=gl(p,e.selection);m&&m.forEach(v=>{const b=v.node.attrs.rowspan+p-1;v.node.attrs.rowspan>1&&b>i&&(i=b)})}const r=[];for(let p=u;p<=i;p++){const m=gl(p,e.selection);m&&m.length>0&&r.push(p)}u=r[0],i=r[r.length-1];const o=gl(u,e.selection),s=ml(0,e.selection);if(!o||!s)return;const f=e.doc.resolve(o[o.length-1].pos);let d;for(let p=i;p>=u;p--){const m=gl(p,e.selection);if(m&&m.length>0){for(let v=s.length-1;v>=0;v--)if(s[v].pos===m[0].pos){d=m[0];break}if(d)break}}if(d)return{$anchor:f,$head:e.doc.resolve(d.pos),indexes:r}}function YS(e){return e[0].map((t,n)=>e.map(u=>u[n]))}function jQ(e){var t,n;const{tr:u,originIndex:i,targetIndex:r,select:o,pos:s}=e,f=Yf(u.doc.resolve(s));if(!f)return!1;const d=(t=KS(u,i))===null||t===void 0?void 0:t.indexes,p=(n=KS(u,r))===null||n===void 0?void 0:n.indexes;if(!d||!p||d.includes(r))return!1;const m=LQ(f.node,d,p);if(u.replaceWith(f.pos,f.pos+f.node.nodeSize,m),!o)return!0;const v=ct.get(m),b=f.start,E=r,k=v.positionAt(v.height-1,E,m),S=u.doc.resolve(b+k),w=v.positionAt(0,E,m),U=u.doc.resolve(b+w);return u.setSelection(Tt.colSelection(S,U)),!0}function LQ(e,t,n,u){let i=YS(VN(e));return i=KN(i,t,n),i=YS(i),JN(e,i)}function ZQ(e){var t,n;const{tr:u,originIndex:i,targetIndex:r,select:o,pos:s}=e,f=Yf(u.doc.resolve(s));if(!f)return!1;const d=(t=GS(u,i))===null||t===void 0?void 0:t.indexes,p=(n=GS(u,r))===null||n===void 0?void 0:n.indexes;if(!d||!p||d.includes(r))return!1;const m=PQ(f.node,d,p);if(u.replaceWith(f.pos,f.pos+f.node.nodeSize,m),!o)return!0;const v=ct.get(m),b=f.start,E=r,k=v.positionAt(E,v.width-1,m),S=u.doc.resolve(b+k),w=v.positionAt(E,0,m),U=u.doc.resolve(b+w);return u.setSelection(Tt.rowSelection(S,U)),!0}function PQ(e,t,n,u){let i=VN(e);return i=KN(i,t,n),JN(e,i)}function fa(e){const t=e.selection,n=nm(e),u=n.node(-1),i=n.start(-1),r=ct.get(u);return{...t instanceof Tt?r.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):r.findCell(n.pos-i),tableStart:i,map:r,table:u}}function GN(e,{map:t,tableStart:n,table:u},i){let r=i>0?-1:0;TQ(t,u,i+r)&&(r=i==0||i==t.width?null:0);for(let o=0;o<t.height;o++){const s=o*t.width+i;if(i>0&&i<t.width&&t.map[s-1]==t.map[s]){const f=t.map[s],d=u.nodeAt(f);e.setNodeMarkup(e.mapping.map(n+f),null,BQ(d.attrs,i-t.colCount(f))),o+=d.attrs.rowspan-1}else{const f=r==null?qi(u.type.schema).cell:u.nodeAt(t.map[s+r]).type,d=t.positionAt(o,i,u);e.insert(e.mapping.map(n+d),f.createAndFill())}}return e}function HQ(e,t){if(!Gi(e))return!1;if(t){const n=fa(e);t(GN(e.tr,n,n.left))}return!0}function qQ(e,t){if(!Gi(e))return!1;if(t){const n=fa(e);t(GN(e.tr,n,n.right))}return!0}function VQ(e,{map:t,table:n,tableStart:u},i){const r=e.mapping.maps.length;for(let o=0;o<t.height;){const s=o*t.width+i,f=t.map[s],d=n.nodeAt(f),p=d.attrs;if(i>0&&t.map[s-1]==f||i<t.width-1&&t.map[s+1]==f)e.setNodeMarkup(e.mapping.slice(r).map(u+f),null,fo(p,i-t.colCount(f)));else{const m=e.mapping.slice(r).map(u+f);e.delete(m,m+d.nodeSize)}o+=p.rowspan}}function JQ(e,t){if(!Gi(e))return!1;if(t){const n=fa(e),u=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;VQ(u,n,i),i!=n.left;i--){const r=n.tableStart?u.doc.nodeAt(n.tableStart-1):u.doc;if(!r)throw new RangeError("No table found");n.table=r,n.map=ct.get(r)}t(u)}return!0}function KQ(e,{map:t,table:n,tableStart:u},i){let r=0;for(let d=0;d<i;d++)r+=n.child(d).nodeSize;const o=r+n.child(i).nodeSize,s=e.mapping.maps.length;e.delete(r+u,o+u);const f=new Set;for(let d=0,p=i*t.width;d<t.width;d++,p++){const m=t.map[p];if(!f.has(m)){if(f.add(m),i>0&&m==t.map[p-t.width]){const v=n.nodeAt(m).attrs;e.setNodeMarkup(e.mapping.slice(s).map(m+u),null,{...v,rowspan:v.rowspan-1}),d+=v.colspan-1}else if(i<t.height&&m==t.map[p+t.width]){const v=n.nodeAt(m),b=v.attrs,E=v.type.create({...b,rowspan:v.attrs.rowspan-1},v.content),k=t.positionAt(i+1,d,n);e.insert(e.mapping.slice(s).map(u+k),E),d+=b.colspan-1}}}}function GQ(e,t){if(!Gi(e))return!1;if(t){const n=fa(e),u=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;KQ(u,n,i),i!=n.top;i--){const r=n.tableStart?u.doc.nodeAt(n.tableStart-1):u.doc;if(!r)throw new RangeError("No table found");n.table=r,n.map=ct.get(n.table)}t(u)}return!0}function YQ(e,t){return function(n,u){if(!Gi(n))return!1;const i=nm(n);if(i.nodeAfter.attrs[e]===t)return!1;if(u){const r=n.tr;n.selection instanceof Tt?n.selection.forEachCell((o,s)=>{o.attrs[e]!==t&&r.setNodeMarkup(s,null,{...o.attrs,[e]:t})}):r.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),u(r)}return!0}}function XQ(e){return function(t,n){if(!Gi(t))return!1;if(n){const u=qi(t.schema),i=fa(t),r=t.tr,o=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),s=o.map(f=>i.table.nodeAt(f));for(let f=0;f<o.length;f++)s[f].type==u.header_cell&&r.setNodeMarkup(i.tableStart+o[f],u.cell,s[f].attrs);if(r.steps.length===0)for(let f=0;f<o.length;f++)r.setNodeMarkup(i.tableStart+o[f],u.header_cell,s[f].attrs);n(r)}return!0}}function XS(e,t,n){const u=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<u.length;i++){const r=t.table.nodeAt(u[i]);if(r&&r.type!==n.header_cell)return!1}return!0}function aE(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?XQ(e):function(n,u){if(!Gi(n))return!1;if(u){const i=qi(n.schema),r=fa(n),o=n.tr,s=XS("row",r,i),f=XS("column",r,i),d=(e==="column"?s:e==="row"&&f)?1:0,p=e=="column"?{left:0,top:d,right:1,bottom:r.map.height}:e=="row"?{left:d,top:0,right:r.map.width,bottom:1}:r,m=e=="column"?f?i.cell:i.header_cell:e=="row"?s?i.cell:i.header_cell:i.cell;r.map.cellsInRect(p).forEach(v=>{const b=v+r.tableStart,E=o.doc.nodeAt(b);E&&o.setNodeMarkup(b,m,E.attrs)}),u(o)}return!0}}aE("row",{useDeprecatedLogic:!0});aE("column",{useDeprecatedLogic:!0});aE("cell",{useDeprecatedLogic:!0});function QQ(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let u=e.index(-1)-1,i=e.before();u>=0;u--){const r=e.node(-1).child(u),o=r.lastChild;if(o)return i-1-o.nodeSize;i-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let u=e.indexAfter(-1),i=e.after();u<n.childCount;u++){const r=n.child(u);if(r.childCount)return i+1;i+=r.nodeSize}}return null}function YN(e){return function(t,n){if(!Gi(t))return!1;const u=QQ(nm(t),e);if(u==null)return!1;if(n){const i=t.doc.resolve(u);n(t.tr.setSelection(Fe.between(i,AQ(i))).scrollIntoView())}return!0}}function WQ(e,t){const n=e.selection.$anchor;for(let u=n.depth;u>0;u--)if(n.node(u).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(u),n.after(u)).scrollIntoView()),!0;return!1}function O0(e,t){const n=e.selection;if(!(n instanceof Tt))return!1;if(t){const u=e.tr,i=qi(e.schema).cell.createAndFill().content;n.forEachCell((r,o)=>{r.content.eq(i)||u.replace(u.mapping.map(o+1),u.mapping.map(o+r.nodeSize-1),new oe(i,0,0))}),u.docChanged&&t(u)}return!0}function eW(e){return(t,n)=>{const{from:u,to:i,select:r=!0,pos:o=t.selection.from}=e,s=t.tr;return ZQ({tr:s,originIndex:u,targetIndex:i,select:r,pos:o})?(n==null||n(s),!0):!1}}function tW(e){return(t,n)=>{const{from:u,to:i,select:r=!0,pos:o=t.selection.from}=e,s=t.tr;return jQ({tr:s,originIndex:u,targetIndex:i,select:r,pos:o})?(n==null||n(s),!0):!1}}function nW(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:u}=e;for(;t.childCount==1&&(n>0&&u>0||t.child(0).type.spec.tableRole=="table");)n--,u--,t=t.child(0).content;const i=t.child(0),r=i.type.spec.tableRole,o=i.type.schema,s=[];if(r=="row")for(let f=0;f<t.childCount;f++){let d=t.child(f).content;const p=f?0:Math.max(0,n-1),m=f<t.childCount-1?0:Math.max(0,u-1);(p||m)&&(d=py(qi(o).row,new oe(d,p,m)).content),s.push(d)}else if(r=="cell"||r=="header_cell")s.push(n||u?py(qi(o).row,new oe(t,n,u)).content:t);else return null;return iW(o,s)}function iW(e,t){const n=[];for(let i=0;i<t.length;i++){const r=t[i];for(let o=r.childCount-1;o>=0;o--){const{rowspan:s,colspan:f}=r.child(o).attrs;for(let d=i;d<i+s;d++)n[d]=(n[d]||0)+f}}let u=0;for(let i=0;i<n.length;i++)u=Math.max(u,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(ee.empty),n[i]<u){const r=qi(e).cell.createAndFill(),o=[];for(let s=n[i];s<u;s++)o.push(r);t[i]=t[i].append(ee.from(o))}return{height:t.length,width:u,rows:t}}function py(e,t){const n=e.createAndFill();return new dz(n).replace(0,n.content.size,t).doc}function uW({width:e,height:t,rows:n},u,i){if(e!=u){const r=[],o=[];for(let s=0;s<n.length;s++){const f=n[s],d=[];for(let p=r[s]||0,m=0;p<u;m++){let v=f.child(m%f.childCount);p+v.attrs.colspan>u&&(v=v.type.createChecked(fo(v.attrs,v.attrs.colspan,p+v.attrs.colspan-u),v.content)),d.push(v),p+=v.attrs.colspan;for(let b=1;b<v.attrs.rowspan;b++)r[s+b]=(r[s+b]||0)+v.attrs.colspan}o.push(ee.from(d))}n=o,e=u}if(t!=i){const r=[];for(let o=0,s=0;o<i;o++,s++){const f=[],d=n[s%t];for(let p=0;p<d.childCount;p++){let m=d.child(p);o+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),f.push(m)}r.push(ee.from(f))}n=r,t=i}return{width:e,height:t,rows:n}}function rW(e,t,n,u,i,r,o){const s=e.doc.type.schema,f=qi(s);let d,p;if(i>t.width)for(let m=0,v=0;m<t.height;m++){const b=n.child(m);v+=b.nodeSize;const E=[];let k;b.lastChild==null||b.lastChild.type==f.cell?k=d||(d=f.cell.createAndFill()):k=p||(p=f.header_cell.createAndFill());for(let S=t.width;S<i;S++)E.push(k);e.insert(e.mapping.slice(o).map(v-1+u),E)}if(r>t.height){const m=[];for(let E=0,k=(t.height-1)*t.width;E<Math.max(t.width,i);E++){const S=E>=t.width?!1:n.nodeAt(t.map[k+E]).type==f.header_cell;m.push(S?p||(p=f.header_cell.createAndFill()):d||(d=f.cell.createAndFill()))}const v=f.row.create(null,ee.from(m)),b=[];for(let E=t.height;E<r;E++)b.push(v);e.insert(e.mapping.slice(o).map(u+n.nodeSize-2),b)}return!!(d||p)}function QS(e,t,n,u,i,r,o,s){if(o==0||o==t.height)return!1;let f=!1;for(let d=i;d<r;d++){const p=o*t.width+d,m=t.map[p];if(t.map[p-t.width]==m){f=!0;const v=n.nodeAt(m),{top:b,left:E}=t.findCell(m);e.setNodeMarkup(e.mapping.slice(s).map(m+u),null,{...v.attrs,rowspan:o-b}),e.insert(e.mapping.slice(s).map(t.positionAt(o,E,n)),v.type.createAndFill({...v.attrs,rowspan:b+v.attrs.rowspan-o})),d+=v.attrs.colspan-1}}return f}function WS(e,t,n,u,i,r,o,s){if(o==0||o==t.width)return!1;let f=!1;for(let d=i;d<r;d++){const p=d*t.width+o,m=t.map[p];if(t.map[p-1]==m){f=!0;const v=n.nodeAt(m),b=t.colCount(m),E=e.mapping.slice(s).map(m+u);e.setNodeMarkup(E,null,fo(v.attrs,o-b,v.attrs.colspan-(o-b))),e.insert(E+v.nodeSize,v.type.createAndFill(fo(v.attrs,0,o-b))),d+=v.attrs.rowspan-1}}return f}function e2(e,t,n,u,i){let r=n?e.doc.nodeAt(n-1):e.doc;if(!r)throw new Error("No table found");let o=ct.get(r);const{top:s,left:f}=u,d=f+i.width,p=s+i.height,m=e.tr;let v=0;function b(){if(r=n?m.doc.nodeAt(n-1):m.doc,!r)throw new Error("No table found");o=ct.get(r),v=m.mapping.maps.length}rW(m,o,r,n,d,p,v)&&b(),QS(m,o,r,n,f,d,s,v)&&b(),QS(m,o,r,n,f,d,p,v)&&b(),WS(m,o,r,n,s,p,f,v)&&b(),WS(m,o,r,n,s,p,d,v)&&b();for(let E=s;E<p;E++){const k=o.positionAt(E,f,r),S=o.positionAt(E,d,r);m.replace(m.mapping.slice(v).map(k+n),m.mapping.slice(v).map(S+n),new oe(i.rows[E-s],0,0))}b(),m.setSelection(new Tt(m.doc.resolve(n+o.positionAt(s,f,r)),m.doc.resolve(n+o.positionAt(p-1,d-1,r)))),t(m)}const aW=wz({ArrowLeft:I0("horiz",-1),ArrowRight:I0("horiz",1),ArrowUp:I0("vert",-1),ArrowDown:I0("vert",1),"Shift-ArrowLeft":M0("horiz",-1),"Shift-ArrowRight":M0("horiz",1),"Shift-ArrowUp":M0("vert",-1),"Shift-ArrowDown":M0("vert",1),Backspace:O0,"Mod-Backspace":O0,Delete:O0,"Mod-Delete":O0});function rh(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function I0(e,t){return(n,u,i)=>{if(!i)return!1;const r=n.selection;if(r instanceof Tt)return rh(n,u,Ie.near(r.$headCell,t));if(e!="horiz"&&!r.empty)return!1;const o=XN(i,e,t);if(o==null)return!1;if(e=="horiz")return rh(n,u,Ie.near(n.doc.resolve(r.head+t),t));{const s=n.doc.resolve(o),f=PN(s,e,t);let d;return f?d=Ie.near(f,1):t<0?d=Ie.near(n.doc.resolve(s.before(-1)),-1):d=Ie.near(n.doc.resolve(s.after(-1)),1),rh(n,u,d)}}}function M0(e,t){return(n,u,i)=>{if(!i)return!1;const r=n.selection;let o;if(r instanceof Tt)o=r;else{const f=XN(i,e,t);if(f==null)return!1;o=new Tt(n.doc.resolve(f))}const s=PN(o.$headCell,e,t);return s?rh(n,u,new Tt(o.$anchorCell,s)):!1}}function oW(e,t){const n=e.state.doc,u=Jl(n.resolve(t));return u?(e.dispatch(e.state.tr.setSelection(new Tt(u))),!0):!1}function lW(e,t,n){if(!Gi(e.state))return!1;let u=nW(n);const i=e.state.selection;if(i instanceof Tt){u||(u={width:1,height:1,rows:[ee.from(py(qi(e.state.schema).cell,n))]});const r=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),s=ct.get(r).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return u=uW(u,s.right-s.left,s.bottom-s.top),e2(e.state,e.dispatch,o,s,u),!0}else if(u){const r=nm(e.state),o=r.start(-1);return e2(e.state,e.dispatch,o,ct.get(r.node(-1)).findCell(r.pos-o),u),!0}else return!1}function sW(e,t){var n;if(t.button!=0||t.ctrlKey||t.metaKey)return;const u=t2(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Tt)r(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&u&&(i=Jl(e.state.selection.$anchor))!=null&&((n=c1(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)r(i,t),t.preventDefault();else if(!u)return;function r(f,d){let p=c1(e,d);const m=Hr.getState(e.state)==null;if(!p||!rE(f,p))if(m)p=f;else return;const v=new Tt(f,p);if(m||!e.state.selection.eq(v)){const b=e.state.tr.setSelection(v);m&&b.setMeta(Hr,f.pos),e.dispatch(b)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",s),Hr.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Hr,-1))}function s(f){const d=f,p=Hr.getState(e.state);let m;if(p!=null)m=e.state.doc.resolve(p);else if(t2(e,d.target)!=u&&(m=c1(e,t),!m))return o();m&&r(m,d)}e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",s)}function XN(e,t,n){if(!(e.state.selection instanceof Fe))return null;const{$head:u}=e.state.selection;for(let i=u.depth-1;i>=0;i--){const r=u.node(i);if((n<0?u.index(i):u.indexAfter(i))!=(n<0?0:r.childCount))return null;if(r.type.spec.tableRole=="cell"||r.type.spec.tableRole=="header_cell"){const o=u.before(i),s=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?o:null}}return null}function t2(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function c1(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;let{inside:u,pos:i}=n;return u>=0&&Jl(e.state.doc.resolve(u))||Jl(e.state.doc.resolve(i))}var cW=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),my(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,my(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function my(e,t,n,u,i,r){let o=0,s=!0,f=t.firstChild;const d=e.firstChild;if(d){for(let m=0,v=0;m<d.childCount;m++){const{colspan:b,colwidth:E}=d.child(m).attrs;for(let k=0;k<b;k++,v++){const S=i==v?r:E&&E[k],w=S?S+"px":"";if(o+=S||u,S||(s=!1),f)f.style.width!=w&&(f.style.width=w),f=f.nextSibling;else{const U=document.createElement("col");U.style.width=w,t.appendChild(U)}}}for(;f;){var p;const m=f.nextSibling;(p=f.parentNode)===null||p===void 0||p.removeChild(f),f=m}s?(n.style.width=o+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=o+"px")}}const pi=new Dn("tableColumnResizing");function fW({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:u=cW,lastColumnResizable:i=!0}={}){const r=new Bn({key:pi,state:{init(o,s){var f;const d=(f=r.spec)===null||f===void 0||(f=f.props)===null||f===void 0?void 0:f.nodeViews,p=qi(s.schema).table.name;return u&&d&&(d[p]=(m,v)=>new u(m,n,v)),new dW(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes:o=>{const s=pi.getState(o);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,s)=>{hW(o,s,e,i)},mouseleave:o=>{pW(o)},mousedown:(o,s)=>{mW(o,s,t,n)}},decorations:o=>{const s=pi.getState(o);if(s&&s.activeHandle>-1)return EW(o,s.activeHandle)},nodeViews:{}}});return r}var dW=class ah{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,u=t.getMeta(pi);if(u&&u.setHandle!=null)return new ah(u.setHandle,!1);if(u&&u.setDragging!==void 0)return new ah(n.activeHandle,u.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return hy(t.doc.resolve(i))||(i=-1),new ah(i,n.dragging)}return n}};function hW(e,t,n,u){if(!e.editable)return;const i=pi.getState(e.state);if(i&&!i.dragging){const r=yW(t.target);let o=-1;if(r){const{left:s,right:f}=r.getBoundingClientRect();t.clientX-s<=n?o=n2(e,t,"left",n):f-t.clientX<=n&&(o=n2(e,t,"right",n))}if(o!=i.activeHandle){if(!u&&o!==-1){const s=e.state.doc.resolve(o),f=s.node(-1),d=ct.get(f),p=s.start(-1);if(d.colCount(s.pos-p)+s.nodeAfter.attrs.colspan-1==d.width-1)return}QN(e,o)}}}function pW(e){if(!e.editable)return;const t=pi.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&QN(e,-1)}function mW(e,t,n,u){var i;if(!e.editable)return!1;const r=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,o=pi.getState(e.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const s=e.state.doc.nodeAt(o.activeHandle),f=gW(e,o.activeHandle,s.attrs);e.dispatch(e.state.tr.setMeta(pi,{setDragging:{startX:t.clientX,startWidth:f}}));function d(m){r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",p);const v=pi.getState(e.state);v!=null&&v.dragging&&(vW(e,v.activeHandle,i2(v.dragging,m,n)),e.dispatch(e.state.tr.setMeta(pi,{setDragging:null})))}function p(m){if(!m.which)return d(m);const v=pi.getState(e.state);if(v&&v.dragging){const b=i2(v.dragging,m,n);u2(e,v.activeHandle,b,u)}}return u2(e,o.activeHandle,f,u),r.addEventListener("mouseup",d),r.addEventListener("mousemove",p),t.preventDefault(),!0}function gW(e,t,{colspan:n,colwidth:u}){const i=u&&u[u.length-1];if(i)return i;const r=e.domAtPos(t);let o=r.node.childNodes[r.offset].offsetWidth,s=n;if(u)for(let f=0;f<n;f++)u[f]&&(o-=u[f],s--);return o/s}function yW(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function n2(e,t,n,u){const i=n=="right"?-u:u,r=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!r)return-1;const{pos:o}=r,s=Jl(e.state.doc.resolve(o));if(!s)return-1;if(n=="right")return s.pos;const f=ct.get(s.node(-1)),d=s.start(-1),p=f.map.indexOf(s.pos-d);return p%f.width==0?-1:d+f.map[p-1]}function i2(e,t,n){const u=t.clientX-e.startX;return Math.max(n,e.startWidth+u)}function QN(e,t){e.dispatch(e.state.tr.setMeta(pi,{setHandle:t}))}function vW(e,t,n){const u=e.state.doc.resolve(t),i=u.node(-1),r=ct.get(i),o=u.start(-1),s=r.colCount(u.pos-o)+u.nodeAfter.attrs.colspan-1,f=e.state.tr;for(let d=0;d<r.height;d++){const p=d*r.width+s;if(d&&r.map[p]==r.map[p-r.width])continue;const m=r.map[p],v=i.nodeAt(m).attrs,b=v.colspan==1?0:s-r.colCount(m);if(v.colwidth&&v.colwidth[b]==n)continue;const E=v.colwidth?v.colwidth.slice():bW(v.colspan);E[b]=n,f.setNodeMarkup(o+m,null,{...v,colwidth:E})}f.docChanged&&e.dispatch(f)}function u2(e,t,n,u){const i=e.state.doc.resolve(t),r=i.node(-1),o=i.start(-1),s=ct.get(r).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let f=e.domAtPos(i.start(-1)).node;for(;f&&f.nodeName!="TABLE";)f=f.parentNode;f&&my(r,f.firstChild,f,u,s,n)}function bW(e){return Array(e).fill(0)}function EW(e,t){const n=[],u=e.doc.resolve(t),i=u.node(-1);if(!i)return It.empty;const r=ct.get(i),o=u.start(-1),s=r.colCount(u.pos-o)+u.nodeAfter.attrs.colspan-1;for(let d=0;d<r.height;d++){const p=s+d*r.width;if((s==r.width-1||r.map[p]!=r.map[p+1])&&(d==0||r.map[p]!=r.map[p-r.width])){var f;const m=r.map[p],v=o+m+i.nodeAt(m).nodeSize-1,b=document.createElement("div");b.className="column-resize-handle",!((f=pi.getState(e))===null||f===void 0)&&f.dragging&&n.push(vn.node(o+m,o+m+i.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),n.push(vn.widget(v,b))}}return It.create(e.doc,n)}function CW({allowTableNodeSelection:e=!1}={}){return new Bn({key:Hr,state:{init(){return null},apply(t,n){const u=t.getMeta(Hr);if(u!=null)return u==-1?null:u;if(n==null||!t.docChanged)return n;const{deleted:i,pos:r}=t.mapping.mapResult(n);return i?null:r}},props:{decorations:NQ,handleDOMEvents:{mousedown:sW},createSelectionBetween(t){return Hr.getState(t.state)!=null?t.state.selection:null},handleTripleClick:oW,handleKeyDown:aW,handlePaste:lW},appendTransaction(t,n,u){return IQ(u,RQ(u,n),e)}})}var Mh=typeof navigator<"u"?navigator:null,oE=Mh&&Mh.userAgent||"",DW=/Edge\/(\d+)/.exec(oE),kW=/MSIE \d/.exec(oE),xW=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oE),SW=!!(kW||xW||DW),wW=!SW&&!!Mh&&/Apple Computer/.test(Mh.vendor),WN=new Dn("safari-ime-span"),gy=!1,_W={key:WN,props:{decorations:AW,handleDOMEvents:{compositionstart:()=>{gy=!0},compositionend:()=>{gy=!1}}}};function AW(e){const{$from:t,$to:n,to:u}=e.selection;if(gy&&t.sameParent(n)){const i=vn.widget(u,BW,{ignoreSelection:!0,key:"safari-ime-span"});return It.create(e.doc,[i])}}function BW(e){const t=e.dom.ownerDocument.createElement("span");return t.className="ProseMirror-safari-ime-span",t}var TW=new Bn(wW?_W:{key:WN});function r2(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let u=0,i=n.indexOf(t);for(;i!==-1;)u++,i=n.indexOf(t,i+t.length);return u}function zW(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function NW(e,t,n){const i=Hp((n||{}).ignore||[]),r=$W(t);let o=-1;for(;++o<r.length;)Z3(e,"text",s);function s(d,p){let m=-1,v;for(;++m<p.length;){const b=p[m],E=v?v.children:void 0;if(i(b,E?E.indexOf(b):void 0,v))return;v=b}if(v)return f(d,p)}function f(d,p){const m=p[p.length-1],v=r[o][0],b=r[o][1];let E=0;const S=m.children.indexOf(d);let w=!1,U=[];v.lastIndex=0;let $=v.exec(d.value);for(;$;){const Q=$.index,ue={index:$.index,input:$.input,stack:[...p,d]};let N=b(...$,ue);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?v.lastIndex=Q+1:(E!==Q&&U.push({type:"text",value:d.value.slice(E,Q)}),Array.isArray(N)?U.push(...N):N&&U.push(N),E=Q+$[0].length,w=!0),!v.global)break;$=v.exec(d.value)}return w?(E<d.value.length&&U.push({type:"text",value:d.value.slice(E)}),m.children.splice(S,1,...U)):U=[d],S+U.length}}function $W(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let u=-1;for(;++u<n.length;){const i=n[u];t.push([OW(i[0]),IW(i[1])])}return t}function OW(e){return typeof e=="string"?new RegExp(zW(e),"g"):e}function IW(e){return typeof e=="function"?e:function(){return e}}const f1="phrasing",d1=["autolink","link","image","label"];function MW(){return{transforms:[PW],enter:{literalAutolink:FW,literalAutolinkEmail:h1,literalAutolinkHttp:h1,literalAutolinkWww:h1},exit:{literalAutolink:ZW,literalAutolinkEmail:LW,literalAutolinkHttp:UW,literalAutolinkWww:jW}}}function RW(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:f1,notInConstruct:d1},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:f1,notInConstruct:d1},{character:":",before:"[ps]",after:"\\/",inConstruct:f1,notInConstruct:d1}]}}function FW(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function h1(e){this.config.enter.autolinkProtocol.call(this,e)}function UW(e){this.config.exit.autolinkProtocol.call(this,e)}function jW(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function LW(e){this.config.exit.autolinkEmail.call(this,e)}function ZW(e){this.exit(e)}function PW(e){NW(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,HW],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),qW]],{ignore:["link","linkReference"]})}function HW(e,t,n,u,i){let r="";if(!e$(i)||(/^w/i.test(t)&&(n=t+n,t="",r="http://"),!VW(n)))return!1;const o=JW(n+u);if(!o[0])return!1;const s={type:"link",title:null,url:r+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function qW(e,t,n,u){return!e$(u,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function VW(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function JW(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],u=n.indexOf(")");const i=r2(e,"(");let r=r2(e,")");for(;u!==-1&&i>r;)e+=n.slice(0,u+1),n=n.slice(u+1),u=n.indexOf(")"),r++;return[e,n]}function e$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||oo(n)||Zp(n))&&(!t||n!==47)}t$.peek=nee;function KW(){this.buffer()}function GW(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function YW(){this.buffer()}function XW(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function QW(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function WW(e){this.exit(e)}function eee(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=uu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function tee(e){this.exit(e)}function nee(){return"["}function t$(e,t,n,u){const i=n.createTracker(u);let r=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return r+=i.move(n.safe(n.associationId(e),{after:"]",before:r})),s(),o(),r+=i.move("]"),r}function iee(){return{enter:{gfmFootnoteCallString:KW,gfmFootnoteCall:GW,gfmFootnoteDefinitionLabelString:YW,gfmFootnoteDefinition:XW},exit:{gfmFootnoteCallString:QW,gfmFootnoteCall:WW,gfmFootnoteDefinitionLabelString:eee,gfmFootnoteDefinition:tee}}}function uee(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:t$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(u,i,r,o){const s=r.createTracker(o);let f=s.move("[^");const d=r.enter("footnoteDefinition"),p=r.enter("label");return f+=s.move(r.safe(r.associationId(u),{before:f,after:"]"})),p(),f+=s.move("]:"),u.children&&u.children.length>0&&(s.shift(4),f+=s.move((t?`
`:" ")+r.indentLines(r.containerFlow(u,s.current()),t?n$:ree))),d(),f}}function ree(e,t,n){return t===0?e:n$(e,t,n)}function n$(e,t,n){return(n?"":"    ")+e}const aee=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];i$.peek=fee;function oee(){return{canContainEols:["delete"],enter:{strikethrough:see},exit:{strikethrough:cee}}}function lee(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aee}],handlers:{delete:i$}}}function see(e){this.enter({type:"delete",children:[]},e)}function cee(e){this.exit(e)}function i$(e,t,n,u){const i=n.createTracker(u),r=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),r(),o}function fee(){return"~"}function dee(e){return e.length}function hee(e,t){const n=t||{},u=(n.align||[]).concat(),i=n.stringLength||dee,r=[],o=[],s=[],f=[];let d=0,p=-1;for(;++p<e.length;){const k=[],S=[];let w=-1;for(e[p].length>d&&(d=e[p].length);++w<e[p].length;){const U=pee(e[p][w]);if(n.alignDelimiters!==!1){const $=i(U);S[w]=$,(f[w]===void 0||$>f[w])&&(f[w]=$)}k.push(U)}o[p]=k,s[p]=S}let m=-1;if(typeof u=="object"&&"length"in u)for(;++m<d;)r[m]=a2(u[m]);else{const k=a2(u);for(;++m<d;)r[m]=k}m=-1;const v=[],b=[];for(;++m<d;){const k=r[m];let S="",w="";k===99?(S=":",w=":"):k===108?S=":":k===114&&(w=":");let U=n.alignDelimiters===!1?1:Math.max(1,f[m]-S.length-w.length);const $=S+"-".repeat(U)+w;n.alignDelimiters!==!1&&(U=S.length+U+w.length,U>f[m]&&(f[m]=U),b[m]=U),v[m]=$}o.splice(1,0,v),s.splice(1,0,b),p=-1;const E=[];for(;++p<o.length;){const k=o[p],S=s[p];m=-1;const w=[];for(;++m<d;){const U=k[m]||"";let $="",Q="";if(n.alignDelimiters!==!1){const ue=f[m]-(S[m]||0),N=r[m];N===114?$=" ".repeat(ue):N===99?ue%2?($=" ".repeat(ue/2+.5),Q=" ".repeat(ue/2-.5)):($=" ".repeat(ue/2),Q=$):Q=" ".repeat(ue)}n.delimiterStart!==!1&&!m&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&U==="")&&(n.delimiterStart!==!1||m)&&w.push(" "),n.alignDelimiters!==!1&&w.push($),w.push(U),n.alignDelimiters!==!1&&w.push(Q),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||m!==d-1)&&w.push("|")}E.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return E.join(`
`)}function pee(e){return e==null?"":String(e)}function a2(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function mee(){return{enter:{table:gee,tableData:o2,tableHeader:o2,tableRow:vee},exit:{codeText:bee,table:yee,tableData:p1,tableHeader:p1,tableRow:p1}}}function gee(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yee(e){this.exit(e),this.data.inTable=void 0}function vee(e){this.enter({type:"tableRow",children:[]},e)}function p1(e){this.exit(e)}function o2(e){this.enter({type:"tableCell",children:[]},e)}function bee(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Eee));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Eee(e,t){return t==="|"?t:e}function Cee(e){const t=e||{},n=t.tableCellPadding,u=t.tablePipeAlign,i=t.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:o,tableCell:f,tableRow:s}};function o(b,E,k,S){return d(p(b,k,S),b.align)}function s(b,E,k,S){const w=m(b,k,S),U=d([w]);return U.slice(0,U.indexOf(`
`))}function f(b,E,k,S){const w=k.enter("tableCell"),U=k.enter("phrasing"),$=k.containerPhrasing(b,{...S,before:r,after:r});return U(),w(),$}function d(b,E){return hee(b,{align:E,alignDelimiters:u,padding:n,stringLength:i})}function p(b,E,k){const S=b.children;let w=-1;const U=[],$=E.enter("table");for(;++w<S.length;)U[w]=m(S[w],E,k);return $(),U}function m(b,E,k){const S=b.children;let w=-1;const U=[],$=E.enter("tableRow");for(;++w<S.length;)U[w]=f(S[w],b,E,k);return $(),U}function v(b,E,k){let S=H3.inlineCode(b,E,k);return k.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function Dee(){return{exit:{taskListCheckValueChecked:l2,taskListCheckValueUnchecked:l2,paragraph:xee}}}function kee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:See}}}function l2(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function xee(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const u=n.children[0];if(u&&u.type==="text"){const i=t.children;let r=-1,o;for(;++r<i.length;){const s=i[r];if(s.type==="paragraph"){o=s;break}}o===n&&(u.value=u.value.slice(1),u.value.length===0?n.children.shift():n.position&&u.position&&typeof u.position.start.offset=="number"&&(u.position.start.column++,u.position.start.offset++,n.position.start=Object.assign({},u.position.start)))}}this.exit(e)}function See(e,t,n,u){const i=e.children[0],r=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(u);r&&s.move(o);let f=H3.listItem(e,t,n,{...u,...s.current()});return r&&(f=f.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),f;function d(p){return p+o}}function wee(){return[MW(),iee(),oee(),mee(),Dee()]}function _ee(e){return{extensions:[RW(),uee(e),lee(),Cee(e),kee()]}}const Aee={tokenize:Oee,partial:!0},u$={tokenize:Iee,partial:!0},r$={tokenize:Mee,partial:!0},a$={tokenize:Ree,partial:!0},Bee={tokenize:Fee,partial:!0},o$={name:"wwwAutolink",tokenize:Nee,previous:s$},l$={name:"protocolAutolink",tokenize:$ee,previous:c$},dr={name:"emailAutolink",tokenize:zee,previous:f$},Cu={};function Tee(){return{text:Cu}}let Na=48;for(;Na<123;)Cu[Na]=dr,Na++,Na===58?Na=65:Na===91&&(Na=97);Cu[43]=dr;Cu[45]=dr;Cu[46]=dr;Cu[95]=dr;Cu[72]=[dr,l$];Cu[104]=[dr,l$];Cu[87]=[dr,o$];Cu[119]=[dr,o$];function zee(e,t,n){const u=this;let i,r;return o;function o(m){return!yy(m)||!f$.call(u,u.previous)||lE(u.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(m))}function s(m){return yy(m)?(e.consume(m),s):m===64?(e.consume(m),f):n(m)}function f(m){return m===46?e.check(Bee,p,d)(m):m===45||m===95||Yn(m)?(r=!0,e.consume(m),f):p(m)}function d(m){return e.consume(m),i=!0,f}function p(m){return r&&i&&On(u.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function Nee(e,t,n){const u=this;return i;function i(o){return o!==87&&o!==119||!s$.call(u,u.previous)||lE(u.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Aee,e.attempt(u$,e.attempt(r$,r),n),n)(o))}function r(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function $ee(e,t,n){const u=this;let i="",r=!1;return o;function o(m){return(m===72||m===104)&&c$.call(u,u.previous)&&!lE(u.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),s):n(m)}function s(m){if(On(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),s;if(m===58){const v=i.toLowerCase();if(v==="http"||v==="https")return e.consume(m),f}return n(m)}function f(m){return m===47?(e.consume(m),r?d:(r=!0,f)):n(m)}function d(m){return m===null||wh(m)||Dt(m)||oo(m)||Zp(m)?n(m):e.attempt(u$,e.attempt(r$,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function Oee(e,t,n){let u=0;return i;function i(o){return(o===87||o===119)&&u<3?(u++,e.consume(o),i):o===46&&u===3?(e.consume(o),r):n(o)}function r(o){return o===null?n(o):t(o)}}function Iee(e,t,n){let u,i,r;return o;function o(d){return d===46||d===95?e.check(a$,f,s)(d):d===null||Dt(d)||oo(d)||d!==45&&Zp(d)?f(d):(r=!0,e.consume(d),o)}function s(d){return d===95?u=!0:(i=u,u=void 0),e.consume(d),o}function f(d){return i||u||!r?n(d):t(d)}}function Mee(e,t){let n=0,u=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&u<n?r(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(a$,t,r)(o):o===null||Dt(o)||oo(o)?t(o):(e.consume(o),i)}function r(o){return o===41&&u++,e.consume(o),i}}function Ree(e,t,n){return u;function u(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),u):s===38?(e.consume(s),r):s===93?(e.consume(s),i):s===60||s===null||Dt(s)||oo(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Dt(s)||oo(s)?t(s):u(s)}function r(s){return On(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),u):On(s)?(e.consume(s),o):n(s)}}function Fee(e,t,n){return u;function u(r){return e.consume(r),i}function i(r){return Yn(r)?n(r):t(r)}}function s$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Dt(e)}function c$(e){return!On(e)}function f$(e){return!(e===47||yy(e))}function yy(e){return e===43||e===45||e===46||e===95||Yn(e)}function lE(e){let t=e.length,n=!1;for(;t--;){const u=e[t][1];if((u.type==="labelLink"||u.type==="labelImage")&&!u._balanced){n=!0;break}if(u._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Uee={tokenize:Jee,partial:!0};function jee(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Hee,continuation:{tokenize:qee},exit:Vee}},text:{91:{name:"gfmFootnoteCall",tokenize:Pee},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Lee,resolveTo:Zee}}}}function Lee(e,t,n){const u=this;let i=u.events.length;const r=u.parser.gfmFootnotes||(u.parser.gfmFootnotes=[]);let o;for(;i--;){const f=u.events[i][1];if(f.type==="labelImage"){o=f;break}if(f.type==="gfmFootnoteCall"||f.type==="labelLink"||f.type==="label"||f.type==="image"||f.type==="link")break}return s;function s(f){if(!o||!o._balanced)return n(f);const d=uu(u.sliceSerialize({start:o.end,end:u.now()}));return d.codePointAt(0)!==94||!r.includes(d.slice(1))?n(f):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),t(f))}}function Zee(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const u={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},s=[e[n+1],e[n+2],["enter",u,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",r,t],["enter",o,t],["exit",o,t],["exit",r,t],e[e.length-2],e[e.length-1],["exit",u,t]];return e.splice(n,e.length-n+1,...s),e}function Pee(e,t,n){const u=this,i=u.parser.gfmFootnotes||(u.parser.gfmFootnotes=[]);let r=0,o;return s;function s(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),f}function f(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(m){if(r>999||m===93&&!o||m===null||m===91||Dt(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return i.includes(uu(u.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return Dt(m)||(o=!0),r++,e.consume(m),m===92?p:d}function p(m){return m===91||m===92||m===93?(e.consume(m),r++,d):d(m)}}function Hee(e,t,n){const u=this,i=u.parser.gfmFootnotes||(u.parser.gfmFootnotes=[]);let r,o=0,s;return f;function f(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(E)}function p(E){if(o>999||E===93&&!s||E===null||E===91||Dt(E))return n(E);if(E===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return r=uu(u.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Dt(E)||(s=!0),o++,e.consume(E),E===92?m:p}function m(E){return E===91||E===92||E===93?(e.consume(E),o++,p):p(E)}function v(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),i.includes(r)||i.push(r),nt(e,b,"gfmFootnoteDefinitionWhitespace")):n(E)}function b(E){return t(E)}}function qee(e,t,n){return e.check(Uf,t,e.attempt(Uee,t,n))}function Vee(e){e.exit("gfmFootnoteDefinition")}function Jee(e,t,n){const u=this;return nt(e,i,"gfmFootnoteDefinitionIndent",5);function i(r){const o=u.events[u.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(r):n(r)}}function Kee(e){let n=(e||{}).singleTilde;const u={name:"strikethrough",tokenize:r,resolveAll:i};return n==null&&(n=!0),{text:{126:u},insideSpan:{null:[u]},attentionMarkers:{null:[126]}};function i(o,s){let f=-1;for(;++f<o.length;)if(o[f][0]==="enter"&&o[f][1].type==="strikethroughSequenceTemporary"&&o[f][1]._close){let d=f;for(;d--;)if(o[d][0]==="exit"&&o[d][1].type==="strikethroughSequenceTemporary"&&o[d][1]._open&&o[f][1].end.offset-o[f][1].start.offset===o[d][1].end.offset-o[d][1].start.offset){o[f][1].type="strikethroughSequence",o[d][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},o[d][1].start),end:Object.assign({},o[f][1].end)},m={type:"strikethroughText",start:Object.assign({},o[d][1].end),end:Object.assign({},o[f][1].start)},v=[["enter",p,s],["enter",o[d][1],s],["exit",o[d][1],s],["enter",m,s]],b=s.parser.constructs.insideSpan.null;b&&mi(v,v.length,0,Pp(b,o.slice(d+1,f),s)),mi(v,v.length,0,[["exit",m,s],["enter",o[f][1],s],["exit",o[f][1],s],["exit",p,s]]),mi(o,d-1,f-d+3,v),f=d+v.length-2;break}}for(f=-1;++f<o.length;)o[f][1].type==="strikethroughSequenceTemporary"&&(o[f][1].type="data");return o}function r(o,s,f){const d=this.previous,p=this.events;let m=0;return v;function v(E){return d===126&&p[p.length-1][1].type!=="characterEscape"?f(E):(o.enter("strikethroughSequenceTemporary"),b(E))}function b(E){const k=Zl(d);if(E===126)return m>1?f(E):(o.consume(E),m++,b);if(m<2&&!n)return f(E);const S=o.exit("strikethroughSequenceTemporary"),w=Zl(E);return S._open=!w||w===2&&!!k,S._close=!k||k===2&&!!w,s(E)}}}class Gee{constructor(){this.map=[]}add(t,n,u){Yee(this,t,n,u)}consume(t){if(this.map.sort(function(r,o){return r[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const u=[];for(;n>0;)n-=1,u.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];u.push(t.slice()),t.length=0;let i=u.pop();for(;i;){for(const r of i)t.push(r);i=u.pop()}this.map.length=0}}function Yee(e,t,n,u){let i=0;if(!(n===0&&u.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...u);return}i+=1}e.map.push([t,n,u])}}function Xee(e,t){let n=!1;const u=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&u.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const r=u.length-1;u[r]=u[r]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return u}function Qee(){return{flow:{null:{name:"table",tokenize:Wee,resolveAll:ete}}}}function Wee(e,t,n){const u=this;let i=0,r=0,o;return s;function s(L){let fe=u.events.length-1;for(;fe>-1;){const xe=u.events[fe][1].type;if(xe==="lineEnding"||xe==="linePrefix")fe--;else break}const de=fe>-1?u.events[fe][1].type:null,Le=de==="tableHead"||de==="tableRow"?N:f;return Le===N&&u.parser.lazy[u.now().line]?n(L):Le(L)}function f(L){return e.enter("tableHead"),e.enter("tableRow"),d(L)}function d(L){return L===124||(o=!0,r+=1),p(L)}function p(L){return L===null?n(L):Se(L)?r>1?(r=0,u.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),b):n(L):Ke(L)?nt(e,p,"whitespace")(L):(r+=1,o&&(o=!1,i+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),o=!0,p):(e.enter("data"),m(L)))}function m(L){return L===null||L===124||Dt(L)?(e.exit("data"),p(L)):(e.consume(L),L===92?v:m)}function v(L){return L===92||L===124?(e.consume(L),m):m(L)}function b(L){return u.interrupt=!1,u.parser.lazy[u.now().line]?n(L):(e.enter("tableDelimiterRow"),o=!1,Ke(L)?nt(e,E,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):E(L))}function E(L){return L===45||L===58?S(L):L===124?(o=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),k):ue(L)}function k(L){return Ke(L)?nt(e,S,"whitespace")(L):S(L)}function S(L){return L===58?(r+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),w):L===45?(r+=1,w(L)):L===null||Se(L)?Q(L):ue(L)}function w(L){return L===45?(e.enter("tableDelimiterFiller"),U(L)):ue(L)}function U(L){return L===45?(e.consume(L),U):L===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),$):(e.exit("tableDelimiterFiller"),$(L))}function $(L){return Ke(L)?nt(e,Q,"whitespace")(L):Q(L)}function Q(L){return L===124?E(L):L===null||Se(L)?!o||i!==r?ue(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):ue(L)}function ue(L){return n(L)}function N(L){return e.enter("tableRow"),P(L)}function P(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),P):L===null||Se(L)?(e.exit("tableRow"),t(L)):Ke(L)?nt(e,P,"whitespace")(L):(e.enter("data"),re(L))}function re(L){return L===null||L===124||Dt(L)?(e.exit("data"),P(L)):(e.consume(L),L===92?pe:re)}function pe(L){return L===92||L===124?(e.consume(L),re):re(L)}}function ete(e,t){let n=-1,u=!0,i=0,r=[0,0,0,0],o=[0,0,0,0],s=!1,f=0,d,p,m;const v=new Gee;for(;++n<e.length;){const b=e[n],E=b[1];b[0]==="enter"?E.type==="tableHead"?(s=!1,f!==0&&(s2(v,t,f,d,p),p=void 0,f=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(u=!0,m=void 0,r=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,p={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",p,t]])),i=E.type==="tableDelimiterRow"?2:p?3:1):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(u=!1,o[2]===0&&(r[1]!==0&&(o[0]=o[1],m=R0(v,t,r,i,void 0,m),r=[0,0,0,0]),o[2]=n)):E.type==="tableCellDivider"&&(u?u=!1:(r[1]!==0&&(o[0]=o[1],m=R0(v,t,r,i,void 0,m)),r=o,o=[r[1],n,0,0])):E.type==="tableHead"?(s=!0,f=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(f=n,r[1]!==0?(o[0]=o[1],m=R0(v,t,r,i,n,m)):o[1]!==0&&(m=R0(v,t,o,i,n,m)),i=0):i&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(o[3]=n)}for(f!==0&&s2(v,t,f,d,p),v.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=Xee(t.events,n))}return e}function R0(e,t,n,u,i,r){const o=u===1?"tableHeader":u===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(r.end=Object.assign({},yl(t.events,n[0])),e.add(n[0],0,[["exit",r,t]]));const f=yl(t.events,n[1]);if(r={type:o,start:Object.assign({},f),end:Object.assign({},f)},e.add(n[1],0,[["enter",r,t]]),n[2]!==0){const d=yl(t.events,n[2]),p=yl(t.events,n[3]),m={type:s,start:Object.assign({},d),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),u!==2){const v=t.events[n[2]],b=t.events[n[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,k=n[3]-n[2]-1;e.add(E,k,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(r.end=Object.assign({},yl(t.events,i)),e.add(i,0,[["exit",r,t]]),r=void 0),r}function s2(e,t,n,u,i){const r=[],o=yl(t.events,n);i&&(i.end=Object.assign({},o),r.push(["exit",i,t])),u.end=Object.assign({},o),r.push(["exit",u,t]),e.add(n+1,0,r)}function yl(e,t){const n=e[t],u=n[0]==="enter"?"start":"end";return n[1][u]}const tte={name:"tasklistCheck",tokenize:ite};function nte(){return{text:{91:tte}}}function ite(e,t,n){const u=this;return i;function i(f){return u.previous!==null||!u._gfmTasklistFirstContentOfListItem?n(f):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),r)}function r(f){return Dt(f)?(e.enter("taskListCheckValueUnchecked"),e.consume(f),e.exit("taskListCheckValueUnchecked"),o):f===88||f===120?(e.enter("taskListCheckValueChecked"),e.consume(f),e.exit("taskListCheckValueChecked"),o):n(f)}function o(f){return f===93?(e.enter("taskListCheckMarker"),e.consume(f),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(f)}function s(f){return Se(f)?t(f):Ke(f)?e.check({tokenize:ute},t,n)(f):n(f)}}function ute(e,t,n){return nt(e,u,"whitespace");function u(i){return i===null?n(i):t(i)}}function rte(e){return kT([Tee(),jee(),Kee(e),Qee(),nte()])}const ate={};function ote(e){const t=this,n=e||ate,u=t.data(),i=u.micromarkExtensions||(u.micromarkExtensions=[]),r=u.fromMarkdownExtensions||(u.fromMarkdownExtensions=[]),o=u.toMarkdownExtensions||(u.toMarkdownExtensions=[]);i.push(rte(n)),r.push(wee()),o.push(_ee(n))}function Ae(e,t){return Object.assign(e,{meta:{package:"@milkdown/preset-gfm",...t}}),e}const sE=qf("strike_through");Ae(sE,{displayName:"Attr<strikethrough>",group:"Strikethrough"});const Xf=Ql("strike_through",e=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:t=>t==="line-through"}],toDOM:t=>["del",e.get(sE.key)(t)],parseMarkdown:{match:t=>t.type==="delete",runner:(t,n,u)=>{t.openMark(u),t.next(n.children),t.closeMark(u)}},toMarkdown:{match:t=>t.type.name==="strike_through",runner:(t,n)=>{t.withMark(n,"delete")}}}));Ae(Xf.mark,{displayName:"MarkSchema<strikethrough>",group:"Strikethrough"});Ae(Xf.ctx,{displayName:"MarkSchemaCtx<strikethrough>",group:"Strikethrough"});const cE=Ne("ToggleStrikeThrough",e=>()=>Yp(Xf.type(e)));Ae(cE,{displayName:"Command<ToggleStrikethrough>",group:"Strikethrough"});const d$=ni(e=>Lf(new RegExp("(?<![\\w:/])(~{1,2})(.+?)\\1(?!\\w|\\/)"),Xf.type(e)));Ae(d$,{displayName:"InputRule<strikethrough>",group:"Strikethrough"});const fE=ii("strikeThroughKeymap",{ToggleStrikethrough:{shortcuts:"Mod-Alt-x",command:e=>{const t=e.get(ot);return()=>t.call(cE.key)}}});Ae(fE.ctx,{displayName:"KeymapCtx<strikethrough>",group:"Strikethrough"});Ae(fE.shortcuts,{displayName:"Keymap<strikethrough>",group:"Strikethrough"});const Qf=wQ({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:e=>e.style.textAlign||"left",setDOMAttr:(e,t)=>{t.style=`text-align: ${e||"left"}`}}}}),Co=tn("table",()=>({...Qf.table,content:"table_header_row table_row+",disableDropCursor:!0,parseMarkdown:{match:e=>e.type==="table",runner:(e,t,n)=>{const u=t.align,i=t.children.map((r,o)=>({...r,align:u,isHeader:o===0}));e.openNode(n),e.next(i),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table",runner:(e,t)=>{var i;const n=(i=t.content.firstChild)==null?void 0:i.content;if(!n)return;const u=[];n.forEach(r=>{u.push(r.attrs.alignment)}),e.openNode("table",void 0,{align:u}),e.next(t.content),e.closeNode()}}}));Ae(Co.node,{displayName:"NodeSchema<table>",group:"Table"});Ae(Co.ctx,{displayName:"NodeSchemaCtx<table>",group:"Table"});const im=tn("table_header_row",()=>({...Qf.table_row,disableDropCursor:!0,content:"(table_header)*",parseDOM:[{tag:"tr[data-is-header]"},{tag:"tr",getAttrs:e=>e instanceof HTMLElement&&e.querySelector("th")?{}:!1}],toDOM(){return["tr",{"data-is-header":!0},0]},parseMarkdown:{match:e=>!!(e.type==="tableRow"&&e.isHeader),runner:(e,t,n)=>{const u=t.align,i=t.children.map((r,o)=>({...r,align:u[o],isHeader:t.isHeader}));e.openNode(n),e.next(i),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header_row",runner:(e,t)=>{e.openNode("tableRow",void 0,{isHeader:!0}),e.next(t.content),e.closeNode()}}}));Ae(im.node,{displayName:"NodeSchema<tableHeaderRow>",group:"Table"});Ae(im.ctx,{displayName:"NodeSchemaCtx<tableHeaderRow>",group:"Table"});const Wf=tn("table_row",()=>({...Qf.table_row,disableDropCursor:!0,content:"(table_cell)*",parseMarkdown:{match:e=>e.type==="tableRow",runner:(e,t,n)=>{const u=t.align,i=t.children.map((r,o)=>({...r,align:u[o]}));e.openNode(n),e.next(i),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_row",runner:(e,t)=>{t.content.size!==0&&(e.openNode("tableRow"),e.next(t.content),e.closeNode())}}}));Ae(Wf.node,{displayName:"NodeSchema<tableRow>",group:"Table"});Ae(Wf.ctx,{displayName:"NodeSchemaCtx<tableRow>",group:"Table"});const ed=tn("table_cell",()=>({...Qf.table_cell,disableDropCursor:!0,parseMarkdown:{match:e=>e.type==="tableCell"&&!e.isHeader,runner:(e,t,n)=>{const u=t.align;e.openNode(n,{alignment:u}).openNode(e.schema.nodes.paragraph).next(t.children).closeNode().closeNode()}},toMarkdown:{match:e=>e.type.name==="table_cell",runner:(e,t)=>{e.openNode("tableCell").next(t.content).closeNode()}}}));Ae(ed.node,{displayName:"NodeSchema<tableCell>",group:"Table"});Ae(ed.ctx,{displayName:"NodeSchemaCtx<tableCell>",group:"Table"});const td=tn("table_header",()=>({...Qf.table_header,disableDropCursor:!0,parseMarkdown:{match:e=>e.type==="tableCell"&&!!e.isHeader,runner:(e,t,n)=>{const u=t.align;e.openNode(n,{alignment:u}),e.openNode(e.schema.nodes.paragraph),e.next(t.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>e.type.name==="table_header",runner:(e,t)=>{e.openNode("tableCell"),e.next(t.content),e.closeNode()}}}));Ae(td.node,{displayName:"NodeSchema<tableHeader>",group:"Table"});Ae(td.ctx,{displayName:"NodeSchemaCtx<tableHeader>",group:"Table"});function h$(e,t=3,n=3){const u=Array(n).fill(0).map(()=>ed.type(e).createAndFill()),i=Array(n).fill(0).map(()=>td.type(e).createAndFill()),r=Array(t).fill(0).map((o,s)=>s===0?im.type(e).create(null,i):Wf.type(e).create(null,u));return Co.type(e).create(null,r)}function p$(e){return(t,n)=>u=>{n=n??u.selection.from;const i=u.doc.resolve(n),r=MG(f=>f.type.name==="table")(i),o=r?{node:r.node,from:r.start}:void 0,s=e==="row";if(o){const f=ct.get(o.node);if(t>=0&&t<(s?f.height:f.width)){const d=f.positionAt(s?t:f.height-1,s?f.width-1:t,o.node),p=u.doc.resolve(o.from+d),m=s?Tt.rowSelection:Tt.colSelection,v=f.positionAt(s?t:0,s?0:t,o.node),b=u.doc.resolve(o.from+v);return Sz(u.setSelection(m(p,b)))}}return u}}const lte=p$("row"),ste=p$("col");function m$(e,t,{map:n,tableStart:u,table:i},r){const o=Array(r).fill(0).reduce((f,d,p)=>f+i.child(p).nodeSize,u),s=Array(n.width).fill(0).map((f,d)=>{const p=i.nodeAt(n.map[d]);return ed.type(e).createAndFill({alignment:p==null?void 0:p.attrs.alignment})});return t.insert(o,Wf.type(e).create(null,s)),t}function cte(e){const t=Yf(e.$from);if(!t)return;const n=ct.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map(i=>{const r=t.node.nodeAt(i),o=i+t.start;return{pos:o,start:o+1,node:r}})}function fte(e){const t=cte(e.selection);if(t&&t[0]){const n=e.doc.resolve(t[0].pos),u=t[t.length-1];if(u){const i=e.doc.resolve(u.pos);return Sz(e.setSelection(new Tt(i,n)))}}return e}const dE=Ne("GoToPrevTableCell",()=>()=>YN(-1));Ae(dE,{displayName:"Command<goToPrevTableCellCommand>",group:"Table"});const hE=Ne("GoToNextTableCell",()=>()=>YN(1));Ae(hE,{displayName:"Command<goToNextTableCellCommand>",group:"Table"});const pE=Ne("ExitTable",e=>()=>(t,n)=>{if(!Gi(t))return!1;const{$head:u}=t.selection,i=OG(u,Co.type(e));if(!i)return!1;const{to:r}=i,o=t.tr.replaceWith(r,r,cr.type(e).createAndFill());return o.setSelection(Ie.near(o.doc.resolve(r),1)).scrollIntoView(),n==null||n(o),!0});Ae(pE,{displayName:"Command<breakTableCommand>",group:"Table"});const g$=Ne("InsertTable",e=>({row:t,col:n}={})=>(u,i)=>{const{selection:r,tr:o}=u,{from:s}=r,f=h$(e,t,n),d=o.replaceSelectionWith(f),p=Ie.findFrom(d.doc.resolve(s),1,!0);return p&&d.setSelection(p),i==null||i(d),!0});Ae(g$,{displayName:"Command<insertTableCommand>",group:"Table"});const y$=Ne("MoveRow",()=>({from:e,to:t,pos:n}={})=>eW({from:e??0,to:t??0,pos:n}));Ae(y$,{displayName:"Command<moveRowCommand>",group:"Table"});const v$=Ne("MoveCol",()=>({from:e,to:t,pos:n}={})=>tW({from:e??0,to:t??0,pos:n}));Ae(v$,{displayName:"Command<moveColCommand>",group:"Table"});const b$=Ne("SelectRow",()=>(e={index:0})=>(t,n)=>{const{tr:u}=t;return!!(n==null?void 0:n(lte(e.index,e.pos)(u)))});Ae(b$,{displayName:"Command<selectRowCommand>",group:"Table"});const E$=Ne("SelectCol",()=>(e={index:0})=>(t,n)=>{const{tr:u}=t;return!!(n==null?void 0:n(ste(e.index,e.pos)(u)))});Ae(E$,{displayName:"Command<selectColCommand>",group:"Table"});const C$=Ne("SelectTable",()=>()=>(e,t)=>{const{tr:n}=e;return!!(t==null?void 0:t(fte(n)))});Ae(C$,{displayName:"Command<selectTableCommand>",group:"Table"});const D$=Ne("DeleteSelectedCells",()=>()=>(e,t)=>{const{selection:n}=e;if(!(n instanceof Tt))return!1;const u=n.isRowSelection(),i=n.isColSelection();return u&&i?WQ(e,t):i?JQ(e,t):GQ(e,t)});Ae(D$,{displayName:"Command<deleteSelectedCellsCommand>",group:"Table"});const k$=Ne("AddColBefore",()=>()=>HQ);Ae(k$,{displayName:"Command<addColBeforeCommand>",group:"Table"});const x$=Ne("AddColAfter",()=>()=>qQ);Ae(x$,{displayName:"Command<addColAfterCommand>",group:"Table"});const S$=Ne("AddRowBefore",e=>()=>(t,n)=>{if(!Gi(t))return!1;if(n){const u=fa(t);n(m$(e,t.tr,u,u.top))}return!0});Ae(S$,{displayName:"Command<addRowBeforeCommand>",group:"Table"});const w$=Ne("AddRowAfter",e=>()=>(t,n)=>{if(!Gi(t))return!1;if(n){const u=fa(t);n(m$(e,t.tr,u,u.bottom))}return!0});Ae(w$,{displayName:"Command<addRowAfterCommand>",group:"Table"});const _$=Ne("SetAlign",()=>(e="left")=>YQ("alignment",e));Ae(_$,{displayName:"Command<setAlignCommand>",group:"Table"});const A$=ni(e=>new Di(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,(t,n,u,i)=>{var d,p;const r=t.doc.resolve(u);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),Co.type(e)))return null;const o=Math.max(Number(((d=n.groups)==null?void 0:d.row)??0),2),s=h$(e,o,Number((p=n.groups)==null?void 0:p.col)),f=t.tr.replaceRangeWith(u,i,s);return f.setSelection(Fe.create(f.doc,u+3)).scrollIntoView()}));Ae(A$,{displayName:"InputRule<insertTableInputRule>",group:"Table"});const B$=UX(e=>({run:(t,n,u)=>{if(u)return t;let i=t.content;return t.content.forEach((r,o,s)=>{var S;if((r==null?void 0:r.type)!==Co.type(e))return;const f=r.childCount,d=((S=r.lastChild)==null?void 0:S.childCount)??0;if(f===0||d===0){i=i.replaceChild(s,cr.type(e).create());return}const p=r.firstChild;if(!(d>0&&p&&p.childCount===0))return;const v=Array(d).fill(0).map(()=>td.type(e).createAndFill()),b=new oe(ee.from(v),0,0),E=p.replace(0,0,b),k=r.replace(0,p.nodeSize,new oe(ee.from(E),0,0));i=i.replaceChild(s,k)}),new oe(ee.from(i),t.openStart,t.openEnd)}}));Ae(B$,{displayName:"PasteRule<table>",group:"Table"});const mE=ii("tableKeymap",{NextCell:{priority:100,shortcuts:["Mod-]","Tab"],command:e=>{const t=e.get(ot);return()=>t.call(hE.key)}},PrevCell:{shortcuts:["Mod-[","Shift-Tab"],command:e=>{const t=e.get(ot);return()=>t.call(dE.key)}},ExitTable:{shortcuts:["Mod-Enter","Enter"],command:e=>{const t=e.get(ot);return()=>t.call(pE.key)}}});Ae(mE.ctx,{displayName:"KeymapCtx<table>",group:"Table"});Ae(mE.shortcuts,{displayName:"Keymap<table>",group:"Table"});const m1="footnote_definition",c2="footnoteDefinition",gE=tn("footnote_definition",()=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`dl[data-type="${m1}"]`,getAttrs:e=>{if(!(e instanceof HTMLElement))throw bu(e);return{label:e.dataset.label}},contentElement:"dd"}],toDOM:e=>{const t=e.attrs.label;return["dl",{"data-label":t,"data-type":m1},["dt",t],["dd",0]]},parseMarkdown:{match:({type:e})=>e===c2,runner:(e,t,n)=>{e.openNode(n,{label:t.label}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===m1,runner:(e,t)=>{e.openNode(c2,void 0,{label:t.attrs.label,identifier:t.attrs.label}).next(t.content).closeNode()}}}));Ae(gE.ctx,{displayName:"NodeSchemaCtx<footnodeDef>",group:"footnote"});Ae(gE.node,{displayName:"NodeSchema<footnodeDef>",group:"footnote"});const g1="footnote_reference",yE=tn("footnote_reference",()=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:"",validate:"string"}},parseDOM:[{tag:`sup[data-type="${g1}"]`,getAttrs:e=>{if(!(e instanceof HTMLElement))throw bu(e);return{label:e.dataset.label}}}],toDOM:e=>{const t=e.attrs.label;return["sup",{"data-label":t,"data-type":g1},t]},parseMarkdown:{match:({type:e})=>e==="footnoteReference",runner:(e,t,n)=>{e.addNode(n,{label:t.label})}},toMarkdown:{match:e=>e.type.name===g1,runner:(e,t)=>{e.addNode("footnoteReference",void 0,void 0,{label:t.attrs.label,identifier:t.attrs.label})}}}));Ae(yE.ctx,{displayName:"NodeSchemaCtx<footnodeRef>",group:"footnote"});Ae(yE.node,{displayName:"NodeSchema<footnodeRef>",group:"footnote"});const vE=fr.extendSchema(e=>t=>{const n=e(t);return{...n,attrs:{...n.attrs,checked:{default:null,validate:"boolean|null"}},parseDOM:[{tag:'li[data-item-type="task"]',getAttrs:u=>{if(!(u instanceof HTMLElement))throw bu(u);return{label:u.dataset.label,listType:u.dataset.listType,spread:u.dataset.spread,checked:u.dataset.checked?u.dataset.checked==="true":null}}},...(n==null?void 0:n.parseDOM)||[]],toDOM:u=>n.toDOM&&u.attrs.checked==null?n.toDOM(u):["li",{"data-item-type":"task","data-label":u.attrs.label,"data-list-type":u.attrs.listType,"data-spread":u.attrs.spread,"data-checked":u.attrs.checked},0],parseMarkdown:{match:({type:u})=>u==="listItem",runner:(u,i,r)=>{if(i.checked==null){n.parseMarkdown.runner(u,i,r);return}const o=i.label!=null?`${i.label}.`:"",s=i.checked!=null?!!i.checked:null,f=i.label!=null?"ordered":"bullet",d=i.spread!=null?`${i.spread}`:"true";u.openNode(r,{label:o,listType:f,spread:d,checked:s}),u.next(i.children),u.closeNode()}},toMarkdown:{match:u=>u.type.name==="list_item",runner:(u,i)=>{if(i.attrs.checked==null){n.toMarkdown.runner(u,i);return}const r=i.attrs.label,o=i.attrs.listType,s=i.attrs.spread==="true",f=i.attrs.checked;u.openNode("listItem",void 0,{label:r,listType:o,spread:s,checked:f}),u.next(i.content),u.closeNode()}}}});Ae(vE.node,{displayName:"NodeSchema<taskListItem>",group:"ListItem"});Ae(vE.ctx,{displayName:"NodeSchemaCtx<taskListItem>",group:"ListItem"});const T$=ni(()=>new Di(/^\[(?<checked>\s|x)\]\s$/,(e,t,n,u)=>{var p;const i=e.doc.resolve(n);let r=0,o=i.node(r);for(;o&&o.type.name!=="list_item";)r--,o=i.node(r);if(!o||o.attrs.checked!=null)return null;const s=((p=t.groups)==null?void 0:p.checked)==="x",f=i.before(r),d=e.tr;return d.deleteRange(n,u).setNodeMarkup(f,void 0,{...o.attrs,checked:s}),d}));Ae(T$,{displayName:"InputRule<wrapInTaskListInputRule>",group:"ListItem"});const dte=[fE,mE].flat(),hte=[A$,T$],pte=[d$],mte=[B$],z$=ru(()=>TW);Ae(z$,{displayName:"Prose<autoInsertSpanPlugin>",group:"Prose"});const gte=ru(()=>fW({}));Ae(gte,{displayName:"Prose<columnResizingPlugin>",group:"Prose"});const N$=ru(()=>CW({allowTableNodeSelection:!0}));Ae(N$,{displayName:"Prose<tableEditingPlugin>",group:"Prose"});const bE=bo("remarkGFM",()=>ote);Ae(bE.plugin,{displayName:"Remark<remarkGFMPlugin>",group:"Remark"});Ae(bE.options,{displayName:"RemarkConfig<remarkGFMPlugin>",group:"Remark"});const yte=new Dn("MILKDOWN_KEEP_TABLE_ALIGN_PLUGIN");function vte(e,t){let n=0;return t.forEach((u,i,r)=>{u===e&&(n=r)}),n}const $$=ru(()=>new Bn({key:yte,appendTransaction:(e,t,n)=>{let u;const i=(r,o)=>{if(u||(u=n.tr),r.type.name!=="table_cell")return;const s=n.doc.resolve(o),f=s.node(s.depth),p=s.node(s.depth-1).firstChild;if(!p)return;const m=vte(r,f),v=p.maybeChild(m);if(!v)return;const b=v.attrs.alignment,E=r.attrs.alignment;b!==E&&u.setNodeMarkup(o,void 0,{...r.attrs,alignment:b})};return t.doc!==n.doc&&n.doc.descendants(i),u}}));Ae($$,{displayName:"Prose<keepTableAlignPlugin>",group:"Prose"});const bte=[$$,z$,bE,N$].flat(),Ete=[vE,Co,im,Wf,td,ed,gE,yE,sE,Xf].flat(),Cte=[hE,dE,pE,g$,y$,v$,b$,E$,C$,D$,S$,w$,k$,x$,_$,cE],Dte=[Ete,hte,mte,pte,dte,Cte,bte].flat();var Rh=200,on=function(){};on.prototype.append=function(t){return t.length?(t=on.from(t),!this.length&&t||t.length<Rh&&this.leafAppend(t)||this.length<Rh&&t.leafPrepend(this)||this.appendInner(t)):this};on.prototype.prepend=function(t){return t.length?on.from(t).append(this):this};on.prototype.appendInner=function(t){return new kte(this,t)};on.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?on.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};on.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};on.prototype.forEach=function(t,n,u){n===void 0&&(n=0),u===void 0&&(u=this.length),n<=u?this.forEachInner(t,n,u,0):this.forEachInvertedInner(t,n,u,0)};on.prototype.map=function(t,n,u){n===void 0&&(n=0),u===void 0&&(u=this.length);var i=[];return this.forEach(function(r,o){return i.push(t(r,o))},n,u),i};on.from=function(t){return t instanceof on?t:t&&t.length?new O$(t):on.empty};var O$=(function(e){function t(u){e.call(this),this.values=u}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,r){return i==0&&r==this.length?this:new t(this.values.slice(i,r))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,r,o,s){for(var f=r;f<o;f++)if(i(this.values[f],s+f)===!1)return!1},t.prototype.forEachInvertedInner=function(i,r,o,s){for(var f=r-1;f>=o;f--)if(i(this.values[f],s+f)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Rh)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Rh)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(on);on.empty=new O$([]);var kte=(function(e){function t(n,u){e.call(this),this.left=n,this.right=u,this.length=n.length+u.length,this.depth=Math.max(n.depth,u.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(u){return u<this.left.length?this.left.get(u):this.right.get(u-this.left.length)},t.prototype.forEachInner=function(u,i,r,o){var s=this.left.length;if(i<s&&this.left.forEachInner(u,i,Math.min(r,s),o)===!1||r>s&&this.right.forEachInner(u,Math.max(i-s,0),Math.min(this.length,r)-s,o+s)===!1)return!1},t.prototype.forEachInvertedInner=function(u,i,r,o){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(u,i-s,Math.max(r,s)-s,o+s)===!1||r<s&&this.left.forEachInvertedInner(u,Math.min(i,s),r,o)===!1)return!1},t.prototype.sliceInner=function(u,i){if(u==0&&i==this.length)return this;var r=this.left.length;return i<=r?this.left.slice(u,i):u>=r?this.right.slice(u-r,i-r):this.left.slice(u,r).append(this.right.slice(0,i-r))},t.prototype.leafAppend=function(u){var i=this.right.leafAppend(u);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(u){var i=this.left.leafPrepend(u);if(i)return new t(i,this.right)},t.prototype.appendInner=function(u){return this.left.depth>=Math.max(this.right.depth,u.depth)+1?new t(this.left,new t(this.right,u)):new t(this,u)},t})(on);const xte=500;class tu{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let u=this.items.length;for(;;u--)if(this.items.get(u-1).selection){--u;break}let i,r;n&&(i=this.remapping(u,this.items.length),r=i.maps.length);let o=t.tr,s,f,d=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(u,v+1),r=i.maps.length),r--,p.push(m);return}if(i){p.push(new hu(m.map));let b=m.step.map(i.slice(r)),E;b&&o.maybeStep(b).doc&&(E=o.mapping.maps[o.mapping.maps.length-1],d.push(new hu(E,void 0,void 0,d.length+p.length))),r--,E&&i.appendMap(E,r)}else o.maybeStep(m.step);if(m.selection)return s=i?m.selection.map(i.slice(r)):m.selection,f=new tu(this.items.slice(0,u).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:o,selection:s}}addTransform(t,n,u,i){let r=[],o=this.eventCount,s=this.items,f=!i&&s.length?s.get(s.length-1):null;for(let p=0;p<t.steps.length;p++){let m=t.steps[p].invert(t.docs[p]),v=new hu(t.mapping.maps[p],m,n),b;(b=f&&f.merge(v))&&(v=b,p?r.pop():s=s.slice(0,s.length-1)),r.push(v),n&&(o++,n=void 0),i||(f=v)}let d=o-u.depth;return d>wte&&(s=Ste(s,d),o-=d),new tu(s.append(r),o)}remapping(t,n){let u=new Zc;return this.items.forEach((i,r)=>{let o=i.mirrorOffset!=null&&r-i.mirrorOffset>=t?u.maps.length-i.mirrorOffset:void 0;u.appendMap(i.map,o)},t,n),u}addMaps(t){return this.eventCount==0?this:new tu(this.items.append(t.map(n=>new hu(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let u=[],i=Math.max(0,this.items.length-n),r=t.mapping,o=t.steps.length,s=this.eventCount;this.items.forEach(v=>{v.selection&&s--},i);let f=n;this.items.forEach(v=>{let b=r.getMirror(--f);if(b==null)return;o=Math.min(o,b);let E=r.maps[b];if(v.step){let k=t.steps[b].invert(t.docs[b]),S=v.selection&&v.selection.map(r.slice(f+1,b));S&&s++,u.push(new hu(E,k,S))}else u.push(new hu(E))},i);let d=[];for(let v=n;v<o;v++)d.push(new hu(r.maps[v]));let p=this.items.slice(0,i).append(d).append(u),m=new tu(p,s);return m.emptyItemCount()>xte&&(m=m.compress(this.items.length-u.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),u=n.maps.length,i=[],r=0;return this.items.forEach((o,s)=>{if(s>=t)i.push(o),o.selection&&r++;else if(o.step){let f=o.step.map(n.slice(u)),d=f&&f.getMap();if(u--,d&&n.appendMap(d,u),f){let p=o.selection&&o.selection.map(n.slice(u));p&&r++;let m=new hu(d.invert(),f,p),v,b=i.length-1;(v=i.length&&i[b].merge(m))?i[b]=v:i.push(m)}}else o.map&&u--},this.items.length,0),new tu(on.from(i.reverse()),r)}}tu.empty=new tu(on.empty,0);function Ste(e,t){let n;return e.forEach((u,i)=>{if(u.selection&&t--==0)return n=i,!1}),e.slice(n)}class hu{constructor(t,n,u,i){this.map=t,this.step=n,this.selection=u,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new hu(n.getMap().invert(),n,this.selection)}}}class Zr{constructor(t,n,u,i,r){this.done=t,this.undone=n,this.prevRanges=u,this.prevTime=i,this.prevComposition=r}}const wte=20;function _te(e,t,n,u){let i=n.getMeta(to),r;if(i)return i.historyState;n.getMeta(Tte)&&(e=new Zr(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(to))return o.getMeta(to).redo?new Zr(e.done.addTransform(n,void 0,u,oh(t)),e.undone,f2(n.mapping.maps),e.prevTime,e.prevComposition):new Zr(e.done,e.undone.addTransform(n,void 0,u,oh(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let s=n.getMeta("composition"),f=e.prevTime==0||!o&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-u.newGroupDelay||!Ate(n,e.prevRanges)),d=o?y1(e.prevRanges,n.mapping):f2(n.mapping.maps);return new Zr(e.done.addTransform(n,f?t.selection.getBookmark():void 0,u,oh(t)),tu.empty,d,n.time,s??e.prevComposition)}else return(r=n.getMeta("rebased"))?new Zr(e.done.rebased(n,r),e.undone.rebased(n,r),y1(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Zr(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),y1(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Ate(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((u,i)=>{for(let r=0;r<t.length;r+=2)u<=t[r+1]&&i>=t[r]&&(n=!0)}),n}function f2(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((u,i,r,o)=>t.push(r,o));return t}function y1(e,t){if(!e)return null;let n=[];for(let u=0;u<e.length;u+=2){let i=t.map(e[u],1),r=t.map(e[u+1],-1);i<=r&&n.push(i,r)}return n}function Bte(e,t,n){let u=oh(t),i=to.get(t).spec.config,r=(n?e.undone:e.done).popEvent(t,u);if(!r)return null;let o=r.selection.resolve(r.transform.doc),s=(n?e.done:e.undone).addTransform(r.transform,t.selection.getBookmark(),i,u),f=new Zr(n?s:r.remaining,n?r.remaining:s,null,0,-1);return r.transform.setSelection(o).setMeta(to,{redo:n,historyState:f})}let v1=!1,d2=null;function oh(e){let t=e.plugins;if(d2!=t){v1=!1,d2=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){v1=!0;break}}return v1}const to=new Dn("history"),Tte=new Dn("closeHistory");function zte(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Bn({key:to,state:{init(){return new Zr(tu.empty,tu.empty,null,0,-1)},apply(t,n,u){return _te(n,u,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let u=n.inputType,i=u=="historyUndo"?M$:u=="historyRedo"?R$:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function I$(e,t){return(n,u)=>{let i=to.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(u){let r=Bte(i,n,e);r&&u(t?r.scrollIntoView():r)}return!0}}const M$=I$(!1,!0),R$=I$(!0,!0);function is(e,t){return Object.assign(e,{meta:{package:"@milkdown/plugin-history",...t}}),e}const EE=Ne("Undo",()=>()=>M$);is(EE,{displayName:"Command<undo>"});const CE=Ne("Redo",()=>()=>R$);is(CE,{displayName:"Command<redo>"});const DE=sr({},"historyProviderConfig");is(DE,{displayName:"Ctx<historyProviderConfig>"});const F$=ru(e=>zte(e.get(DE.key)));is(F$,{displayName:"Ctx<historyProviderPlugin>"});const kE=ii("historyKeymap",{Undo:{shortcuts:"Mod-z",command:e=>{const t=e.get(ot);return()=>t.call(EE.key)}},Redo:{shortcuts:["Mod-y","Shift-Mod-z"],command:e=>{const t=e.get(ot);return()=>t.call(CE.key)}}});is(kE.ctx,{displayName:"KeymapCtx<history>"});is(kE.shortcuts,{displayName:"Keymap<history>"});const Nte=[DE,F$,kE,EE,CE].flat();function vy(e){if(!e)return!1;if(Array.isArray(e))return e.length>1?!1:vy(e[0]);const t=e.content;return t?vy(t):e.type==="text"}function $te(e,t){return Object.assign(e,{meta:{package:"@milkdown/plugin-clipboard",...t}}),e}const U$=ru(e=>{const t=e.get(gu);e.update(ih,i=>({...i,editable:i.editable??(()=>!0)}));const n=new Dn("MILKDOWN_CLIPBOARD");return new Bn({key:n,props:{handlePaste:(i,r)=>{var w,U;const o=e.get(El),s=(U=(w=i.props).editable)==null?void 0:U.call(w,i.state),{clipboardData:f}=r;if(!s||!f||i.state.selection.$from.node().type.spec.code)return!1;const p=f.getData("text/plain"),m=f.getData("vscode-editor-data");if(m){const $=JSON.parse(m),Q=$==null?void 0:$.mode;if(p&&Q){const{tr:ue}=i.state,N=IG("code_block",t);return ue.replaceSelectionWith(N.create({language:Q})).setSelection(Fe.near(ue.doc.resolve(Math.max(0,ue.selection.from-2)))).insertText(p.replace(/\r\n?/g,`
`)),i.dispatch(ue),!0}}const v=f.getData("text/html");if(v.length===0&&p.length===0)return!1;const b=ao.fromSchema(t);let E;if(v.length===0){const $=o(p);if(!$||typeof $=="string")return!1;E=yo.fromSchema(t).serializeFragment($.content)}else{const $=document.createElement("template");$.innerHTML=v,E=$.content.cloneNode(!0),$.remove()}const k=b.parseSlice(E),S=NG(k);if(S)return i.dispatch(i.state.tr.replaceSelectionWith(S,!0)),!0;try{return i.dispatch(i.state.tr.replaceSelection(k)),!0}catch{return!1}},clipboardTextSerializer:i=>{const r=e.get(Nc);if(vy(i.content.toJSON()))return i.content.textBetween(0,i.content.size,`

`);const s=t.topNodeType.createAndFill(void 0,i.content);return s?r(s):""}}})});$te(U$,{displayName:"Prose<clipboard>"});var Ote=typeof global=="object"&&global&&global.Object===Object&&global,Ite=typeof self=="object"&&self&&self.Object===Object&&self,j$=Ote||Ite||Function("return this")(),Fh=j$.Symbol,L$=Object.prototype,Mte=L$.hasOwnProperty,Rte=L$.toString,uc=Fh?Fh.toStringTag:void 0;function Fte(e){var t=Mte.call(e,uc),n=e[uc];try{e[uc]=void 0;var u=!0}catch{}var i=Rte.call(e);return u&&(t?e[uc]=n:delete e[uc]),i}var Ute=Object.prototype,jte=Ute.toString;function Lte(e){return jte.call(e)}var Zte="[object Null]",Pte="[object Undefined]",h2=Fh?Fh.toStringTag:void 0;function Hte(e){return e==null?e===void 0?Pte:Zte:h2&&h2 in Object(e)?Fte(e):Lte(e)}function qte(e){return e!=null&&typeof e=="object"}var Vte="[object Symbol]";function Jte(e){return typeof e=="symbol"||qte(e)&&Hte(e)==Vte}var Kte=/\s/;function Gte(e){for(var t=e.length;t--&&Kte.test(e.charAt(t)););return t}var Yte=/^\s+/;function Xte(e){return e&&e.slice(0,Gte(e)+1).replace(Yte,"")}function by(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var p2=NaN,Qte=/^[-+]0x[0-9a-f]+$/i,Wte=/^0b[01]+$/i,ene=/^0o[0-7]+$/i,tne=parseInt;function m2(e){if(typeof e=="number")return e;if(Jte(e))return p2;if(by(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=by(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Xte(e);var n=Wte.test(e);return n||ene.test(e)?tne(e.slice(2),n?2:8):Qte.test(e)?p2:+e}var b1=function(){return j$.Date.now()},nne="Expected a function",ine=Math.max,une=Math.min;function rne(e,t,n){var u,i,r,o,s,f,d=0,p=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(nne);t=m2(t)||0,by(n)&&(p=!!n.leading,m="maxWait"in n,r=m?ine(m2(n.maxWait)||0,t):r,v="trailing"in n?!!n.trailing:v);function b(N){var P=u,re=i;return u=i=void 0,d=N,o=e.apply(re,P),o}function E(N){return d=N,s=setTimeout(w,t),p?b(N):o}function k(N){var P=N-f,re=N-d,pe=t-P;return m?une(pe,r-re):pe}function S(N){var P=N-f,re=N-d;return f===void 0||P>=t||P<0||m&&re>=r}function w(){var N=b1();if(S(N))return U(N);s=setTimeout(w,k(N))}function U(N){return s=void 0,v&&u?b(N):(u=i=void 0,o)}function $(){s!==void 0&&clearTimeout(s),d=0,u=f=i=s=void 0}function Q(){return s===void 0?o:U(b1())}function ue(){var N=b1(),P=S(N);if(u=arguments,i=this,f=N,P){if(s===void 0)return E(f);if(m)return clearTimeout(s),s=setTimeout(w,t),b(f)}return s===void 0&&(s=setTimeout(w,t)),o}return ue.cancel=$,ue.flush=Q,ue}class Z${constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.selectionUpdatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=t=>(this.beforeMountedListeners.push(t),this),this.mounted=t=>(this.mountedListeners.push(t),this),this.updated=t=>(this.updatedListeners.push(t),this)}get listeners(){return{beforeMount:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners,selectionUpdated:this.selectionUpdatedListeners}}markdownUpdated(t){return this.markdownUpdatedListeners.push(t),this}blur(t){return this.blurListeners.push(t),this}focus(t){return this.focusListeners.push(t),this}destroy(t){return this.destroyListeners.push(t),this}selectionUpdated(t){return this.selectionUpdatedListeners.push(t),this}}const Ey=We(new Z$,"listener"),ane=new Dn("MILKDOWN_LISTENER"),P$=e=>(e.inject(Ey,new Z$),async()=>{await e.wait(Wa);const t=e.get(Ey),{listeners:n}=t;n.beforeMount.forEach(f=>f(e)),await e.wait(zc);const u=e.get(Nc);let i=null,r=null,o=null;const s=new Bn({key:ane,view:()=>({destroy:()=>{n.destroy.forEach(f=>f(e))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach(f=>f(e)),!1),blur:()=>(n.blur.forEach(f=>f(e)),!1)}},state:{init:(f,d)=>{i=d.doc,r=u(d.doc)},apply:f=>{const d=f.selection;return(!o&&d||o&&!d.eq(o))&&(n.selectionUpdated.forEach(m=>{m(e,d,o)}),o=d),!(f.docChanged||f.storedMarksSet)||f.getMeta("addToHistory")===!1?void 0:rne(()=>{const{doc:m}=f;if(n.updated.length>0&&i&&!i.eq(m)&&n.updated.forEach(v=>{v(e,m,i)}),n.markdownUpdated.length>0&&i&&!i.eq(m)){const v=u(m);n.markdownUpdated.forEach(b=>{b(e,v,r)}),r=v}i=m},200)()}}});e.update(rr,f=>f.concat(s)),await e.wait(nh),n.mounted.forEach(f=>f(e))});P$.meta={package:"@milkdown/plugin-listener",displayName:"Listener"};const xE=Ee.createContext({});function one(){const{dom:e,editor:t,setLoading:n,editorFactory:u}=Ee.useContext(xE),i=Ee.useRef(null);return Ee.useEffect(()=>{const r=i.current;if(!u||!r)return;e.current=r;const o=u(r);if(o)return n(!0),o.create().then(s=>{t.current=s}).finally(()=>{n(!1)}).catch(console.error),()=>{o.destroy().catch(console.error)}},[e,t,u,n]),i}const lne=()=>{const e=one();return v2.createElement("div",{"data-milkdown-root":!0,ref:e})},sne=({children:e})=>{const t=Ee.useRef(void 0),[n,u]=Ee.useState(void 0),i=Ee.useRef(void 0),[r,o]=Ee.useState(!0),s=Ee.useMemo(()=>({loading:r,dom:t,editor:i,setLoading:o,editorFactory:n,setEditorFactory:u}),[r,n]);return v2.createElement(xE.Provider,{value:s},e)};function cne(e,t=[]){const n=Ee.useContext(xE),u=Ee.useCallback(e,t);return Ee.useLayoutEffect(()=>{n.setEditorFactory(()=>u)},[n,u]),{loading:n.loading,get:()=>n.editor.current}}const fne=({defaultValue:e,onChange:t,placeholder:n,skipNextOnChangeRef:u,setContentRef:i,getContentRef:r})=>{const o=Ee.useRef(e),{get:s}=cne(p=>cy.make().config(m=>{m.set(uh,p),m.set(Q0,e),m.get(Ey).markdownUpdated((v,b)=>{if(o.current=b,u.current){u.current=!1;return}t(b)})}).use(EQ).use(Dte).use(Nte).use(U$).use(P$)),f=Ee.useCallback(p=>{const m=s();m&&(u.current=!0,m.action(ZX(p)),o.current=p)},[s,u]),d=Ee.useCallback(()=>o.current,[]);return i.current=f,r.current=d,Mi.jsx("div",{className:"milkdown-wrapper","data-placeholder":n,children:Mi.jsx(lne,{})})},H$=Ee.forwardRef((e,t)=>{const n=Ee.useRef(!1),u=Ee.useRef(null),i=Ee.useRef(null);return Ee.useImperativeHandle(t,()=>({setContent:r=>{var o;(o=u.current)==null||o.call(u,r)},getContent:()=>{var r;return((r=i.current)==null?void 0:r.call(i))??""}}),[]),Mi.jsx(sne,{children:Mi.jsx(fne,{...e,skipNextOnChangeRef:n,setContentRef:u,getContentRef:i})})});H$.displayName="MilkdownEditor";function dne(){const[e,t]=Ee.useState(null),[n,u]=Ee.useState(""),[i,r]=Ee.useState(""),[o,s]=Ee.useState(!1),[f,d]=Ee.useState(null),p=Ee.useRef(null),m=Ee.useRef(null),v=Ee.useRef(!1),b=Ee.useRef(null),E=Ee.useRef(null),k=Ee.useRef(null),{data:S,onToolResult:w}=gH(),{callTool:U,isReady:$,log:Q,widgetState:ue,setWidgetState:N}=mH({name:"mcp-template-notes",version:"0.1.0",onToolResult:w}),P=ue,re=Ee.useCallback(async(xe,se,j)=>{s(!0),E.current=j;try{await U("note",{action:"save",noteId:xe,title:se,content:j,instanceId:p.current??void 0}),d(new Date),Q.debug("Note saved",{noteId:xe,title:se})}catch(te){Q.error("Failed to save note",{error:String(te)})}finally{s(!1)}},[U,Q]),pe=Ee.useCallback((xe,se,j)=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{re(xe,se,j),m.current=null},800)},[re]);Ee.useEffect(()=>{$&&!v.current&&(v.current=!0,Q.info("Note editor connected"))},[$,Q]),Ee.useEffect(()=>{var xe;if(S!=null&&S.note){const se=S.note,j=S;j.instanceId&&(p.current=j.instanceId),b.current!==se.id?(b.current=se.id,t(se),u(se.title),r(se.content),E.current=se.content,Q.debug("Note loaded",{id:se.id,title:se.title})):se.content!==E.current?(t(se),u(se.title),(xe=k.current)==null||xe.setContent(se.content),fe.current=se.content,E.current=se.content,Q.debug("Note updated by agent",{id:se.id,title:se.title})):t(se)}},[S,Q]),Ee.useEffect(()=>{var se;const xe=(se=P==null?void 0:P.privateContent)==null?void 0:se.lastNote;xe&&!e&&(t(xe),u(xe.title),r(xe.content),Q.debug("Note restored from widget state",{id:xe.id}))},[P,e,Q]),Ee.useEffect(()=>{if(e){const xe=e.content.trim().split(/\s+/).filter(Boolean).length;N({modelContent:{noteId:e.id,noteTitle:e.title,wordCount:xe},privateContent:{lastNote:e}})}},[e,N]);const L=Ee.useCallback(xe=>{const se=xe.target.value;u(se),e&&pe(e.id,se,fe.current)},[e,pe]),fe=Ee.useRef(i);Ee.useEffect(()=>{fe.current=i},[i]);const de=Ee.useCallback(xe=>{fe.current=xe,e&&pe(e.id,n,xe)},[e,n,pe]),Le=Ee.useMemo(()=>f?`Saved ${f.toLocaleTimeString()}`:null,[f]);return Mi.jsxs("div",{className:"note-container",children:[Mi.jsxs("header",{className:"note-header",children:[Mi.jsx("input",{type:"text",className:"note-title",value:n,onChange:L,placeholder:"Untitled",autoComplete:"off"}),Mi.jsxs("div",{className:"note-status",children:[o&&Mi.jsx("span",{className:"saving",children:"Saving..."}),!o&&Le&&Mi.jsx("span",{className:"saved",children:Le})]})]}),Mi.jsx("div",{className:"note-editor-container",children:e&&Mi.jsx(H$,{ref:k,defaultValue:i,onChange:de,placeholder:"Write your note in markdown..."},e.id)})]})}pI.createRoot(document.getElementById("root")).render(Ee.createElement(dne));</script>
  <style rel="stylesheet" crossorigin>*{margin:0;padding:0;box-sizing:border-box}input,button,textarea,select{font-family:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none}input{background:transparent;border:none;outline:none}select{background:var(--color-input-background);color:var(--color-input-text);border:var(--border-width-regular) solid var(--color-input-border);border-radius:var(--border-radius-sm);padding:4px 8px}html,body,#root{height:100%;width:100%;overflow:hidden;background:var(--color-background-primary);color:var(--color-text-primary);font-family:var(--font-sans);font-size:var(--font-text-md-size);line-height:var(--font-text-md-line-height)}.note-container{display:flex;flex-direction:column;height:100%;overflow:hidden}.note-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border:none;border-bottom:var(--border-width-regular) solid var(--color-border-secondary);flex-shrink:0}.note-title{flex:1;font-size:var(--font-heading-sm-size);font-weight:var(--font-weight-medium);background:transparent;border:none;border-bottom:none;color:var(--color-text-primary);outline:none;box-shadow:none}.note-title:focus{outline:none;border:none;box-shadow:none}.note-title::placeholder{color:var(--color-text-secondary)}.note-status{font-size:var(--font-text-sm-size);color:var(--color-text-secondary);flex-shrink:0}.note-status .saving{color:var(--color-text-secondary)}.note-status .saved{color:var(--color-text-tertiary)}.note-editor-container{flex:1;overflow:hidden;display:flex;flex-direction:column}.milkdown-wrapper{flex:1;overflow-y:auto;padding:16px}.milkdown{outline:none;font-size:var(--font-text-md-size);line-height:var(--font-text-md-line-height)}.milkdown .editor{outline:none;min-height:100%}.milkdown .editor.ProseMirror-empty:before{content:attr(data-placeholder);color:var(--color-text-tertiary);font-style:italic;position:absolute;pointer-events:none}.milkdown-wrapper[data-placeholder] .milkdown .editor:empty:before{content:attr(data-placeholder);color:var(--color-text-tertiary);font-style:italic}.milkdown h1{font-size:var(--font-heading-lg-size);font-weight:var(--font-weight-semibold);line-height:var(--font-heading-lg-line-height);margin-bottom:16px;margin-top:24px;color:var(--color-text-primary)}.milkdown h1:first-child{margin-top:0}.milkdown h2{font-size:var(--font-heading-md-size);font-weight:var(--font-weight-medium);line-height:var(--font-heading-md-line-height);margin-top:24px;margin-bottom:12px;color:var(--color-text-primary)}.milkdown h3{font-size:var(--font-heading-sm-size);font-weight:var(--font-weight-medium);line-height:var(--font-heading-sm-line-height);margin-top:20px;margin-bottom:8px;color:var(--color-text-primary)}.milkdown h4,.milkdown h5,.milkdown h6{font-size:var(--font-text-md-size);font-weight:var(--font-weight-medium);margin-top:16px;margin-bottom:8px;color:var(--color-text-primary)}.milkdown p{margin-bottom:12px;font-size:var(--font-text-md-size);line-height:var(--font-text-md-line-height)}.milkdown p:last-child{margin-bottom:0}.milkdown strong{font-weight:var(--font-weight-semibold)}.milkdown em{font-style:italic}.milkdown del,.milkdown s{text-decoration:line-through;color:var(--color-text-secondary)}.milkdown a{color:var(--color-text-info);text-decoration:underline;cursor:pointer}.milkdown a:hover{opacity:.8}.milkdown code{font-family:var(--font-mono);font-size:var(--font-text-sm-size);background:var(--color-background-secondary);padding:2px 6px;border-radius:var(--border-radius-sm)}.milkdown pre{background:var(--color-background-secondary);border:var(--border-width-regular) solid var(--color-border-secondary);border-radius:var(--border-radius-md);padding:12px 16px;margin-bottom:12px;overflow-x:auto}.milkdown pre code{background:transparent;padding:0;font-size:var(--font-text-sm-size);line-height:var(--font-text-sm-line-height)}.milkdown .code-fence{position:relative}.milkdown .code-fence:before{content:attr(data-language);position:absolute;top:8px;right:12px;font-size:var(--font-text-xs-size);color:var(--color-text-tertiary);text-transform:uppercase;letter-spacing:.05em}.milkdown ul,.milkdown ol{margin-bottom:12px;padding-left:24px}.milkdown li{margin-bottom:4px;font-size:var(--font-text-md-size);line-height:var(--font-text-md-line-height)}.milkdown li p{margin-bottom:4px}.milkdown li:last-child{margin-bottom:0}.milkdown li ul,.milkdown li ol{margin-top:4px;margin-bottom:4px}.milkdown li[data-item-type=task]{list-style:none;position:relative;padding-left:24px;margin-left:-4px;cursor:pointer}.milkdown li[data-item-type=task]:before{content:"";position:absolute;left:0;top:2px;width:12px;height:12px;border:1px solid var(--color-border-primary);border-radius:2px;background:var(--color-background-primary);pointer-events:none}.milkdown li[data-item-type=task][data-checked=true]:before{background:var(--color-text-info);border-color:var(--color-text-info)}.milkdown li[data-item-type=task][data-checked=true]:after{content:"";position:absolute;left:4px;top:3px;width:4px;height:8px;border:solid var(--color-background-primary);border-width:0 1.5px 1.5px 0;transform:rotate(45deg);pointer-events:none}.milkdown blockquote{border-left:3px solid var(--color-border-primary);padding-left:16px;margin-bottom:12px;color:var(--color-text-secondary);font-style:italic}.milkdown blockquote p{margin-bottom:8px}.milkdown blockquote p:last-child{margin-bottom:0}.milkdown blockquote blockquote{margin-top:8px}.milkdown hr{border:none;border-top:var(--border-width-regular) solid var(--color-border-primary);margin:24px 0}.milkdown table{width:100%;border-collapse:collapse;margin-bottom:12px;font-size:var(--font-text-sm-size)}.milkdown th,.milkdown td{border:var(--border-width-regular) solid var(--color-border-secondary);padding:8px 12px;text-align:left}.milkdown th{background:var(--color-background-secondary);font-weight:var(--font-weight-medium)}.milkdown tr:hover{background:var(--color-background-secondary)}.milkdown img{max-width:100%;height:auto;border-radius:var(--border-radius-md);margin:8px 0}.milkdown ::selection{background:var(--color-text-info);color:var(--color-background-primary)}.milkdown .ProseMirror-cursor{border-left:2px solid var(--color-text-primary)}.milkdown .ProseMirror-selectednode{outline:2px solid var(--color-text-info);outline-offset:2px}.milkdown .ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.milkdown .ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:2px solid var(--color-text-primary)}.milkdown .ProseMirror-focused .ProseMirror-gapcursor{display:block}.milkdown-wrapper::-webkit-scrollbar{width:8px}.milkdown-wrapper::-webkit-scrollbar-track{background:transparent}.milkdown-wrapper::-webkit-scrollbar-thumb{background:var(--color-border-primary);border-radius:4px}.milkdown-wrapper::-webkit-scrollbar-thumb:hover{background:var(--color-border-secondary)}</style>
</head>
<body>
  <div id="root"></div>
</body>
</html>